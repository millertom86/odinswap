"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1614],{93923:function(e,t,r){let n,i,o,a,s,l,u,c,f,p,h,d,y,g,m,A,w,b,E,v,P,S,T,I;r.d(t,{PO:function(){return rR},QW:function(){return sI},Zc:function(){return eg},_Y:function(){return eE},hS:function(){return sS},no:function(){return eb},w5:function(){return em}});var k,O,_,x,C,N,B,R,U=r(60858),L=r(43996),H=r(19441),F=r(95822),D=r(94277),M=r(57842),j=r(21579),V=r(61259);!function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode('@import"https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap";.ord-connect-wallet-button{color:#000;background-color:#fff;font-weight:700;font-size:14px;line-height:20px;border-radius:40px;padding:10px 16px;border:0px}.ord-connect-wallet-button:disabled{background-color:#888;cursor:not-allowed}.ord-connect-wallet-button span:before{content:"Connect"}@media screen and (min-width: 768px){.ord-connect-wallet-button{padding:10px 24px}.ord-connect-wallet-button span:before{content:"Connect wallet"}}.ord-connect-wallet-button:enabled:hover{background-color:#f2f2f2}.ord-connect-wallet-button:enabled:active{opacity:.7}.ord-wallet-connected-container{position:relative;display:inline-block}.ord-wallet-connected-button{border-radius:52px;border:1px solid #8c8c8c;background-color:transparent;padding:8px 12px 8px 8px;display:flex;align-items:center;cursor:pointer}.ord-wallet-connected-button .address-container{display:none}@media screen and (min-width: 768px){.ord-wallet-connected-button .address-container{display:block;margin-left:8px}}.ord-wallet-connected-button .address{color:#fff;font-size:14px;font-weight:700;line-height:20px;margin:0}.ord-wallet-connected-button .network-container{display:flex;align-items:center}.ord-wallet-connected-button .status-indicator{width:8px;height:8px;background:#00ad1d;border-radius:999px;margin-right:8px}.ord-wallet-connected-button .network{color:#ffffff80;margin:0;font-size:12px;font-weight:600;line-height:16px}.ord-wallet-connected-button .wallet-profile-icon{width:28px;height:28px;border-radius:999px;background-color:pink;margin-right:8px}.ord-wallet-connected-button .dropdown-button{transition:transform .3s ease;margin-left:16px}.ord-wallet-connected-button .expand-dropdown-button{width:20px;transform:rotate(0)}.ord-wallet-connected-button .close-dropdown-button{transform:rotate(-180deg)}.ord-wallet-connection-dropdown{background:#121212;border-radius:15px;border:.5px solid rgba(255,255,255,.5);width:256px;position:absolute;top:54px;right:0}.ord-wallet-connection-dropdown .dropdown-button{display:flex;align-items:center;background:transparent;border:0px;cursor:pointer;width:100%;justify-content:space-between}.ord-wallet-connection-dropdown .dropdown-button:hover{background:#ffffff1a}.ord-wallet-connection-dropdown .dropdown-button:hover:first-child{border-top-left-radius:15px;border-top-right-radius:15px}.ord-wallet-connection-dropdown .dropdown-button:hover:last-child{border-bottom-left-radius:15px;border-bottom-right-radius:15px}.ord-wallet-connection-dropdown .dropdown-button:active{background:#ffffff1a;opacity:.7}.ord-wallet-connection-dropdown .dropdown-button:first-child{padding:26px 16px 18px}.ord-wallet-connection-dropdown .dropdown-button:not(:first-child):not(:last-child){padding:9px 16px}.ord-wallet-connection-dropdown .dropdown-button:last-child{padding:18px 16px 26px}.ord-wallet-connection-dropdown .label{color:#fff;font-size:14px;font-weight:600;flex:1 1 0%;text-align:left}.ord-wallet-connection-dropdown .value{color:#a6a6a6}.ord-wallet-connection-dropdown .change-wallet-label{color:#ffffffb3;font-size:14px;font-weight:700;flex:1 1 0%;text-align:right}.ord-wallet-connection-dropdown .profile-item-container{width:100%;display:flex;flex-direction:column}.ord-wallet-connection-dropdown .profile-item-inner-container{display:flex;justify-content:space-between}.ord-wallet-connection-dropdown .offers{font-size:10px;font-weight:700;line-height:12px;letter-spacing:.08em;color:#fff;padding:4px 12px;border-radius:16px;background:#ffffff1a}.ord-wallet-connection-dropdown .horizontal-separator{margin:6px 16px;border:0px;border-top:.5px solid rgba(255,255,255,.1)}.ord-connect-wallet-modal{position:relative;z-index:10}.ord-connect-wallet-modal .backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.ord-connect-wallet-modal .outer-container{position:fixed;top:0;left:0;overflow-y:auto;width:100%;height:100%}@media screen and (min-width: 768px){.ord-connect-wallet-modal .outer-container{top:50%;left:50%;transform:translate(-50%,-50%);width:500px;height:auto;border-radius:20px}}.ord-connect-wallet-modal .inner-container{display:flex;align-items:center;justify-content:center;text-align:center;height:100%}.ord-connect-wallet-modal .panel{width:100%;background-color:#121212;overflow:hidden;text-align:left;height:100%}@media screen and (min-width: 768px){.ord-connect-wallet-modal .panel{border:1px solid rgba(51,51,51,.5);border-radius:20px}}.ord-connect-wallet-modal .panel-title-container{display:flex;justify-content:space-between;padding:32px 24px 0;align-items:center}@media screen and (min-width: 768px){.ord-connect-wallet-modal .panel-title-container{padding:24px 32px 0;border-bottom:0px}.ord-connect-wallet-modal .unsupported-browser-message{font-size:16px;padding-left:24px}}.ord-connect-wallet-modal .panel-title{color:#fff;font-size:24px;font-style:normal;font-weight:700;line-height:32px;margin:0}@media screen and (min-width: 768px){.ord-connect-wallet-modal .panel-title{font-size:20px;font-style:normal;font-weight:600;line-height:28px;letter-spacing:.2px}}.ord-connect-wallet-modal .unsupported-browser-message{color:#fff}.ord-connect-wallet-modal .close-button{display:inline-flex;background:transparent;border:0px;cursor:pointer}.ord-connect-wallet-modal .panel-content-container{margin:32px 24px 0}@media screen and (min-width: 768px){.ord-connect-wallet-modal .panel-content-container{margin:48px 32px 32px}}@media screen and (min-width: 1080px){.ord-connect-wallet-modal .panel-content-container{margin:48px 32px 32px}}.ord-connect-wallet-modal .panel-content-inner-container{border-radius:20px;border:1px solid rgba(255,255,255,.1)}.ord-connect-wallet-modal .wallet-option-button{display:flex;align-items:center;background:transparent;border:0px;color:#fff;font-size:18px;font-weight:600;line-height:24px;width:100%;cursor:pointer}.ord-connect-wallet-modal .wallet-option-button:disabled .chveron-btn{opacity:.3}.waiting-cursor{cursor:wait!important}.wallet-identifier-container{position:relative;display:inline-block}.wallet-identifier-container img{position:absolute;bottom:4px;right:0;width:12px;border-radius:50%;background-color:#000;object-fit:cover}.ord-connect-wallet-modal .option-wrapper{display:flex;align-items:center;justify-content:space-between;padding:16px 12px;width:100%}@media screen and (min-width: 1080px){.ord-connect-wallet-modal .option-wrapper{padding:16px}}.ord-connect-wallet-modal .wallet-option-button{padding:8px 16px}.ord-connect-wallet-modal .wallet-option-button:hover{background:#ffffff1a}.ord-connect-wallet-modal .wallet-option-button:active{background:#ffffff1a;opacity:.7}.ord-connect-wallet-modal .wallet-option-button:first-child{padding:16px 16px 8px;border:0px;margin-bottom:0;border-radius:20px 20px 0 0}@media screen and (min-width: 1080px){.ord-connect-wallet-modal .wallet-option-button:first-child{padding:16px 16px 8px;border:0px;margin-bottom:0;border-radius:20px 20px 0 0}}.ord-connect-wallet-modal .wallet-option-button:last-child{padding:8px 16px 16px;border:0px;margin-bottom:0;border-radius:0 0 20px 20px}.ord-connect-wallet-modal .wallet-option-button:only-child{padding:8px 16px;border:0px;margin-bottom:0;border-radius:20px}.ord-connect-wallet-modal .wallet-icon{width:32px}@media (min-width: 768px){.ord-connect-wallet-modal .wallet-icon{width:40px}}.ord-connect-wallet-modal .wallet-option{flex-grow:1;margin-left:16px;text-align:left}.ord-connect-wallet-modal .wallet-option-connected-address{display:flex;padding:4px 12px 4px 8px;align-items:center;margin-left:16px;margin-right:16px;text-align:left;background-color:#00000080;border-radius:20px;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px)}.ord-connect-wallet-modal .wallet-option-connected-address .label{margin-left:4px;font-size:16px;font-weight:400}.ord-connect-wallet-modal .wallet-option-label{font-size:16px;font-weight:600;line-height:20px}@media screen and (min-width: 1079px){.ord-connect-wallet-modal .wallet-option-label{font-size:18px;font-weight:600;line-height:24px}}.ord-connect-wallet-modal .wallet-option-subtitle{font-size:12px;font-weight:400;line-height:16px;color:#8c8c8c}.ord-connect-wallet-modal .horizontal-separator{margin:2px 16px;border:0px;border-top:.5px solid rgba(255,255,255,.1)}.ord-connect-wallet-modal .error-message{margin:16px 0 0;color:#e54545;font-size:14px;line-height:20px}.ord-connect-wallet-modal .preferred-label{padding:4px 12px;color:#000000b2;background-color:#ffbf18;font-size:12px;line-height:14px;font-weight:400;border-radius:100px;margin-right:10px}.ord-connect-font *{font-family:Space Grotesk,sans-serif}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.opacity-0{opacity:0}.opacity-100{opacity:1}.duration-300{transition-duration:.3s}.duration-200{transition-duration:.2s}.scale-95{transform:scale(.95)}.scale-100{transform:scale(1)}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();var K,W,G,X={exports:{}},q=X.exports={};function z(){throw Error("setTimeout has not been defined")}function Q(){throw Error("clearTimeout has not been defined")}function Y(e){if(W===setTimeout)return setTimeout(e,0);if((W===z||!W)&&setTimeout)return W=setTimeout,setTimeout(e,0);try{return W(e,0)}catch{try{return W.call(null,e,0)}catch{return W.call(this,e,0)}}}!function(){try{W="function"==typeof setTimeout?setTimeout:z}catch{W=z}try{G="function"==typeof clearTimeout?clearTimeout:Q}catch{G=Q}}();var J,$=[],Z=!1,ee=-1;function et(){Z&&J&&(Z=!1,J.length?$=J.concat($):ee=-1,$.length&&er())}function er(){if(!Z){var e=Y(et);Z=!0;for(var t=$.length;t;){for(J=$,$=[];++ee<t;)J&&J[ee].run();ee=-1,t=$.length}J=null,Z=!1,function(e){if(G===clearTimeout)return clearTimeout(e);if((G===Q||!G)&&clearTimeout)return G=clearTimeout,clearTimeout(e);try{G(e)}catch{try{return G.call(null,e)}catch{return G.call(this,e)}}}(e)}}function en(e,t){this.fun=e,this.array=t}function ei(){}q.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];$.push(new en(e,t)),1!==$.length||Z||Y(er)},en.prototype.run=function(){this.fun.apply(null,this.array)},q.title="browser",q.browser=!0,q.env={},q.argv=[],q.version="",q.versions={},q.on=ei,q.addListener=ei,q.once=ei,q.off=ei,q.removeListener=ei,q.removeAllListeners=ei,q.emit=ei,q.prependListener=ei,q.prependOnceListener=ei,q.listeners=function(e){return[]},q.binding=function(e){throw Error("process.binding is not supported")},q.cwd=function(){return"/"},q.chdir=function(e){throw Error("process.chdir is not supported")},q.umask=function(){return 0};let eo=(ea=X.exports)&&ea.__esModule&&Object.prototype.hasOwnProperty.call(ea,"default")?ea.default:ea;"u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self&&self;var ea,es,el,eu={exports:{}},ec={},ef={};"production"===eo.env.NODE_ENV?eu.exports=function(){if(es)return ec;es=1;var e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(t,o,a){var s,l={},u=null,c=null;for(s in void 0!==a&&(u=""+a),void 0!==o.key&&(u=""+o.key),void 0!==o.ref&&(c=o.ref),o)r.call(o,s)&&!i.hasOwnProperty(s)&&(l[s]=o[s]);if(t&&t.defaultProps)for(s in o=t.defaultProps)void 0===l[s]&&(l[s]=o[s]);return{$$typeof:e,type:t,key:u,ref:c,props:l,_owner:n.current}}return ec.Fragment=t,ec.jsx=o,ec.jsxs=o,ec}():eu.exports=(el||(el=1,"production"!==eo.env.NODE_ENV&&function(){var e,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),d=Symbol.iterator,y=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function g(e){for(var t,r,n,i,o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];t=e,r=a,""!==(n=y.ReactDebugCurrentFrame.getStackAddendum())&&(t+="%s",r=r.concat([n])),(i=r.map(function(e){return String(e)})).unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,i)}function m(e){return e.displayName||"Context"}function A(e){if(null==e)return null;if("number"==typeof e.tag&&g("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case c:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case s:return m(e)+".Consumer";case a:return m(e._context)+".Provider";case l:return function(e,t,r){var n=e.displayName;if(n)return n;var i=t.displayName||t.name||"";return""!==i?r+"("+i+")":r}(e,e.render,"ForwardRef");case f:var t=e.displayName||null;return null!==t?t:A(e.type)||"Memo";case p:var h=e._payload,d=e._init;try{return A(d(h))}catch{}}return null}w=Symbol.for("react.module.reference");var w,b,E,v,P,S,T,I,k=Object.assign,O=0;function _(){}_.__reactDisabledLog=!0;var x,C=y.ReactCurrentDispatcher;function N(e,t,r){if(void 0===x)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||""}return`
`+x+e}var B,R=!1;function L(e,t){if(!e||R)return"";var r,n,i=B.get(e);if(void 0!==i)return i;R=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0,n=C.current,C.current=null,function(){if(0===O){b=console.log,E=console.info,v=console.warn,P=console.error,S=console.group,T=console.groupCollapsed,I=console.groupEnd;var e={configurable:!0,enumerable:!0,value:_,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}O++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(e){r=e}Reflect.construct(e,[],a)}else{try{a.call()}catch(e){r=e}e.call(a.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var s=t.stack.split(`
`),l=r.stack.split(`
`),u=s.length-1,c=l.length-1;u>=1&&c>=0&&s[u]!==l[c];)c--;for(;u>=1&&c>=0;u--,c--)if(s[u]!==l[c]){if(1!==u||1!==c)do if(u--,--c<0||s[u]!==l[c]){var f=`
`+s[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),"function"==typeof e&&B.set(e,f),f}while(u>=1&&c>=0);break}}}finally{R=!1,C.current=n,function(){if(0==--O){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:k({},e,{value:b}),info:k({},e,{value:E}),warn:k({},e,{value:v}),error:k({},e,{value:P}),group:k({},e,{value:S}),groupCollapsed:k({},e,{value:T}),groupEnd:k({},e,{value:I})})}O<0&&g("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=o}var p=e?e.displayName||e.name:"",h=p?N(p):"";return"function"==typeof e&&B.set(e,h),h}function H(e,t,r){if(null==e)return"";if("function"==typeof e)return L(e,!!((n=e.prototype)&&n.isReactComponent));if("string"==typeof e)return N(e);switch(e){case u:return N("Suspense");case c:return N("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case l:return L(e.render,!1);case f:return H(e.type,t,r);case p:var n,i=e._payload,o=e._init;try{return H(o(i),t,r)}catch{}}return""}B=new("function"==typeof WeakMap?WeakMap:Map);var F=Object.prototype.hasOwnProperty,D={},M=y.ReactDebugCurrentFrame;function j(e){if(e){var t=e._owner,r=H(e.type,e._source,t?t.type:null);M.setExtraStackFrame(r)}else M.setExtraStackFrame(null)}var V=Array.isArray;function K(e){if(function(e){try{return!1}catch{return!0}}(0))return g("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.","function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"),""+e}var W,G,X,q=y.ReactCurrentOwner,z={key:!0,ref:!0,__self:!0,__source:!0};X={};var Q=function(e,r,n,i,o,a,s){var l={$$typeof:t,type:e,key:r,ref:n,props:s,_owner:a};return l._store={},Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l},Y=y.ReactCurrentOwner,J=y.ReactDebugCurrentFrame;function $(e){if(e){var t=e._owner,r=H(e.type,e._source,t?t.type:null);J.setExtraStackFrame(r)}else J.setExtraStackFrame(null)}function Z(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function ee(){if(Y.current){var e=A(Y.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}e=!1;var et={};function er(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var t=ee();if(!t){var r="string"==typeof e?e:e.displayName||e.name;r&&(t=`

Check the top-level render call using <`+r+">.")}return t}(t);if(!et[r]){et[r]=!0;var n="";e&&e._owner&&e._owner!==Y.current&&(n=" It was passed a child from "+A(e._owner.type)+"."),$(e),g('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,n),$(null)}}}function en(e,t){if("object"==typeof e){if(V(e))for(var r=0;r<e.length;r++){var n=e[r];Z(n)&&er(n,t)}else if(Z(e))e._store&&(e._store.validated=!0);else if(e){var i=function(e){if(null===e||"object"!=typeof e)return null;var t=d&&e[d]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof i&&i!==e.entries)for(var o,a=i.call(e);!(o=a.next()).done;)Z(o.value)&&er(o.value,t)}}}var ei={};function eo(r,d,y,m,b,E){var v=!("string"!=typeof r&&"function"!=typeof r&&r!==n&&r!==o&&r!==i&&r!==u&&r!==c&&r!==h&&("object"!=typeof r||null===r||r.$$typeof!==p&&r.$$typeof!==f&&r.$$typeof!==a&&r.$$typeof!==s&&r.$$typeof!==l&&r.$$typeof!==w&&void 0===r.getModuleId));if(!v){var P,S="";(void 0===r||"object"==typeof r&&null!==r&&0===Object.keys(r).length)&&(S+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),S+=ee(),null===r?P="null":V(r)?P="array":void 0!==r&&r.$$typeof===t?(P="<"+(A(r.type)||"Unknown")+" />",S=" Did you accidentally export a JSX literal instead of a component?"):P=typeof r,g("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",P,S)}var T=function(e,t,r,n,i){var o,a={},s=null,l=null;for(o in void 0!==r&&(K(r),s=""+r),function(e){if(F.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(K(t.key),s=""+t.key),function(e){if(F.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(l=t.ref,function(e,t){if("string"==typeof e.ref&&q.current&&t&&q.current.stateNode!==t){var r=A(q.current.type);X[r]||(g('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',A(q.current.type),e.ref),X[r]=!0)}}(t,i)),t)F.call(t,o)&&!z.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps){var u=e.defaultProps;for(o in u)void 0===a[o]&&(a[o]=u[o])}if(s||l){var c,f,p="function"==typeof e?e.displayName||e.name||"Unknown":e;s&&((c=function(){W||(W=!0,g("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",p))}).isReactWarning=!0,Object.defineProperty(a,"key",{get:c,configurable:!0})),l&&((f=function(){G||(G=!0,g("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",p))}).isReactWarning=!0,Object.defineProperty(a,"ref",{get:f,configurable:!0}))}return Q(e,s,l,i,n,q.current,a)}(r,d,y,b,E);if(null==T)return T;if(v){var I=d.children;if(void 0!==I){if(m){if(V(I)){for(var k=0;k<I.length;k++)en(I[k],r);Object.freeze&&Object.freeze(I)}else g("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.")}else en(I,r)}}if(F.call(d,"key")){var O=A(r),_=Object.keys(d).filter(function(e){return"key"!==e}),x=_.length>0?"{key: someKey, "+_.join(": ..., ")+": ...}":"{key: someKey}";ei[O+x]||(g(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,x,O,_.length>0?"{"+_.join(": ..., ")+": ...}":"{}",O),ei[O+x]=!0)}return r===n?function(e){for(var t=Object.keys(e.props),r=0;r<t.length;r++){var n=t[r];if("children"!==n&&"key"!==n){$(e),g("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",n),$(null);break}}null!==e.ref&&($(e),g("Invalid attribute `ref` supplied to `React.Fragment`."),$(null))}(T):function(t){var r,n=t.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)r=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==l&&n.$$typeof!==f)return;r=n.propTypes}if(r){var i=A(n);(function(e,t,r,n,i){var o=Function.call.bind(F);for(var a in e)if(o(e,a)){var s=void 0;try{if("function"!=typeof e[a]){var l=Error((n||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}s=e[a](t,a,n,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}!s||s instanceof Error||(j(i),g("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",r,a,typeof s),j(null)),s instanceof Error&&!(s.message in D)&&(D[s.message]=!0,j(i),g("Failed %s type: %s",r,s.message),j(null))}})(r,t.props,"prop",i,t)}else void 0===n.PropTypes||e||(e=!0,g("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",A(n)||"Unknown"));"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||g("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}(T),T}ef.Fragment=n,ef.jsx=function(e,t,r){return eo(e,t,r,!1)},ef.jsxs=function(e,t,r){return eo(e,t,r,!0)}}()),ef);var ep=eu.exports;let eh="ord-connect";function ed(e,t){typeof window>"u"&&console.warn(`Attempted to set local storage key ${e} even though environment is not a browser.`);let r=`${eh}_${e}`;try{t?window.localStorage.setItem(r,JSON.stringify(t)):window.localStorage.removeItem(r)}catch(e){console.error(`Error saving ${r} to localStorage`,e)}}function ey(e,t,r={}){let{initializeWithValue:n=!0}=r,i=(0,U.useCallback)(()=>(function(e){typeof window>"u"&&console.warn(`Attempted to read local storage key ${e} even though environment is not a browser.`);let t=`${eh}_${e}`;try{let e=window.localStorage.getItem(t);return null!=e?JSON.parse(e):null}catch(e){return console.error(`Error retrieving ${t} from localStorage`,e),null}})(e)||(ed(e,t),t),[t,e]),[o,a]=(0,U.useState)(()=>n?i():t),s=(0,U.useCallback)(t=>{ed(e,t),a(t)},[e]);return(0,U.useEffect)(()=>{a(i())},[e]),[o,s]}var eg=((n=eg||{}).MAINNET="mainnet",n.TESTNET="testnet",n.SIGNET="signet",n),em=((i=em||{}).UNISAT="unisat",i.XVERSE="xverse",i.MAGICEDEN="magiceden",i.LEATHER="leather",i.OKX="okx",i);let eA={payments:null,ordinals:null},ew=(0,U.createContext)(void 0);function eb({children:e,initialNetwork:t,ssr:r=!1}){if(!t)throw Error("Initial network cannot be empty");let[n,i]=(0,U.useState)(t),[o,a]=ey("address",eA,{initializeWithValue:!r}),[s,l]=ey("wallet",null,{initializeWithValue:!r}),[u,c]=ey("publicKey",eA,{initializeWithValue:!r}),[f,p]=ey("format",eA,{initializeWithValue:!r}),[h,d]=(0,U.useState)(!1),y=(0,U.useCallback)(()=>d(!0),[]),g=(0,U.useCallback)(()=>d(!1),[]),m=(0,U.useCallback)(()=>{a(eA),c(eA),p(eA),l(null)},[a,p,c,l]),A=(0,U.useMemo)(()=>({address:o,updateAddress:a,publicKey:u,updatePublicKey:c,network:n,updateNetwork:i,wallet:s,updateWallet:l,isModalOpen:h,openModal:y,closeModal:g,format:f,updateFormat:p,disconnectWallet:m}),[o,a,u,c,n,i,s,l,h,y,g,f,p,m]);return(0,U.useEffect)(()=>{i(t)},[t]),ep.jsx(ew.Provider,{value:A,children:e})}function eE(){let e=(0,U.useContext)(ew);if(!e)throw Error("useOrdConnect must be used within OrdConnectProvider");return e}var ev={exports:{}};nL=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){e.exports=r(2)},function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}r.r(t);var i=r(0),o=r.n(i),a=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t)},s=function(e,t){return Math.floor(e/Math.pow(10,t)%10)},l=function(e,t){return!(s(e,t)%2)},u=function(e,t,r){var n=e%t;return r&&s(e,r)%2==0?-n:n},c=function(e,t,r){return t[e%r]},f=function(e){var t,r,n,o,s=(t=e.name,r=e.colors,n=a(t),o=r&&r.length,Array.from({length:4},function(e,t){return{color:c(n+t,r,o),translateX:u(n*(t+1),40-(t+17),1),translateY:u(n*(t+1),40-(t+17),2),rotate:u(n*(t+1),360),isSquare:l(n,2)}})),f=i.useId();return i.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size},e.title&&i.createElement("title",null,e.name),i.createElement("mask",{id:f,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:e.square?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(f,")")},i.createElement("rect",{width:80,height:80,fill:s[0].color}),i.createElement("rect",{x:10,y:30,width:80,height:s[1].isSquare?80:10,fill:s[1].color,transform:"translate("+s[1].translateX+" "+s[1].translateY+") rotate("+s[1].rotate+" 40 40)"}),i.createElement("circle",{cx:40,cy:40,fill:s[2].color,r:16,transform:"translate("+s[2].translateX+" "+s[2].translateY+")"}),i.createElement("line",{x1:0,y1:40,x2:80,y2:40,strokeWidth:2,stroke:s[3].color,transform:"translate("+s[3].translateX+" "+s[3].translateY+") rotate("+s[3].rotate+" 40 40)"})))},p=function(e){var t,r,n,i,s,l=(t=e.colors,r=a(e.name),n=t&&t.length,i=Array.from({length:5},function(e,i){return c(r+i,t,n)}),(s=[])[0]=i[0],s[1]=i[1],s[2]=i[1],s[3]=i[2],s[4]=i[2],s[5]=i[3],s[6]=i[3],s[7]=i[0],s[8]=i[4],s),u=o.a.useId();return o.a.createElement("svg",{viewBox:"0 0 90 90",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size},e.title&&o.a.createElement("title",null,e.name),o.a.createElement("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:90,height:90},o.a.createElement("rect",{width:90,height:90,rx:e.square?void 0:180,fill:"#FFFFFF"})),o.a.createElement("g",{mask:"url(#".concat(u,")")},o.a.createElement("path",{d:"M0 0h90v45H0z",fill:l[0]}),o.a.createElement("path",{d:"M0 45h90v45H0z",fill:l[1]}),o.a.createElement("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:l[2]}),o.a.createElement("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:l[3]}),o.a.createElement("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:l[4]}),o.a.createElement("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:l[5]}),o.a.createElement("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:l[6]}),o.a.createElement("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:l[7]}),o.a.createElement("circle",{cx:45,cy:45,r:23,fill:l[8]})))},h=function(e){var t,r,n,o,s=(t=e.name,r=e.colors,n=a(t),o=r&&r.length,Array.from({length:64},function(e,t){return c(n%(t+1),r,o)})),l=i.useId();return i.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size},e.title&&i.createElement("title",null,e.name),i.createElement("mask",{id:l,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:e.square?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(l,")")},i.createElement("rect",{width:10,height:10,fill:s[0]}),i.createElement("rect",{x:20,width:10,height:10,fill:s[1]}),i.createElement("rect",{x:40,width:10,height:10,fill:s[2]}),i.createElement("rect",{x:60,width:10,height:10,fill:s[3]}),i.createElement("rect",{x:10,width:10,height:10,fill:s[4]}),i.createElement("rect",{x:30,width:10,height:10,fill:s[5]}),i.createElement("rect",{x:50,width:10,height:10,fill:s[6]}),i.createElement("rect",{x:70,width:10,height:10,fill:s[7]}),i.createElement("rect",{y:10,width:10,height:10,fill:s[8]}),i.createElement("rect",{y:20,width:10,height:10,fill:s[9]}),i.createElement("rect",{y:30,width:10,height:10,fill:s[10]}),i.createElement("rect",{y:40,width:10,height:10,fill:s[11]}),i.createElement("rect",{y:50,width:10,height:10,fill:s[12]}),i.createElement("rect",{y:60,width:10,height:10,fill:s[13]}),i.createElement("rect",{y:70,width:10,height:10,fill:s[14]}),i.createElement("rect",{x:20,y:10,width:10,height:10,fill:s[15]}),i.createElement("rect",{x:20,y:20,width:10,height:10,fill:s[16]}),i.createElement("rect",{x:20,y:30,width:10,height:10,fill:s[17]}),i.createElement("rect",{x:20,y:40,width:10,height:10,fill:s[18]}),i.createElement("rect",{x:20,y:50,width:10,height:10,fill:s[19]}),i.createElement("rect",{x:20,y:60,width:10,height:10,fill:s[20]}),i.createElement("rect",{x:20,y:70,width:10,height:10,fill:s[21]}),i.createElement("rect",{x:40,y:10,width:10,height:10,fill:s[22]}),i.createElement("rect",{x:40,y:20,width:10,height:10,fill:s[23]}),i.createElement("rect",{x:40,y:30,width:10,height:10,fill:s[24]}),i.createElement("rect",{x:40,y:40,width:10,height:10,fill:s[25]}),i.createElement("rect",{x:40,y:50,width:10,height:10,fill:s[26]}),i.createElement("rect",{x:40,y:60,width:10,height:10,fill:s[27]}),i.createElement("rect",{x:40,y:70,width:10,height:10,fill:s[28]}),i.createElement("rect",{x:60,y:10,width:10,height:10,fill:s[29]}),i.createElement("rect",{x:60,y:20,width:10,height:10,fill:s[30]}),i.createElement("rect",{x:60,y:30,width:10,height:10,fill:s[31]}),i.createElement("rect",{x:60,y:40,width:10,height:10,fill:s[32]}),i.createElement("rect",{x:60,y:50,width:10,height:10,fill:s[33]}),i.createElement("rect",{x:60,y:60,width:10,height:10,fill:s[34]}),i.createElement("rect",{x:60,y:70,width:10,height:10,fill:s[35]}),i.createElement("rect",{x:10,y:10,width:10,height:10,fill:s[36]}),i.createElement("rect",{x:10,y:20,width:10,height:10,fill:s[37]}),i.createElement("rect",{x:10,y:30,width:10,height:10,fill:s[38]}),i.createElement("rect",{x:10,y:40,width:10,height:10,fill:s[39]}),i.createElement("rect",{x:10,y:50,width:10,height:10,fill:s[40]}),i.createElement("rect",{x:10,y:60,width:10,height:10,fill:s[41]}),i.createElement("rect",{x:10,y:70,width:10,height:10,fill:s[42]}),i.createElement("rect",{x:30,y:10,width:10,height:10,fill:s[43]}),i.createElement("rect",{x:30,y:20,width:10,height:10,fill:s[44]}),i.createElement("rect",{x:30,y:30,width:10,height:10,fill:s[45]}),i.createElement("rect",{x:30,y:40,width:10,height:10,fill:s[46]}),i.createElement("rect",{x:30,y:50,width:10,height:10,fill:s[47]}),i.createElement("rect",{x:30,y:60,width:10,height:10,fill:s[48]}),i.createElement("rect",{x:30,y:70,width:10,height:10,fill:s[49]}),i.createElement("rect",{x:50,y:10,width:10,height:10,fill:s[50]}),i.createElement("rect",{x:50,y:20,width:10,height:10,fill:s[51]}),i.createElement("rect",{x:50,y:30,width:10,height:10,fill:s[52]}),i.createElement("rect",{x:50,y:40,width:10,height:10,fill:s[53]}),i.createElement("rect",{x:50,y:50,width:10,height:10,fill:s[54]}),i.createElement("rect",{x:50,y:60,width:10,height:10,fill:s[55]}),i.createElement("rect",{x:50,y:70,width:10,height:10,fill:s[56]}),i.createElement("rect",{x:70,y:10,width:10,height:10,fill:s[57]}),i.createElement("rect",{x:70,y:20,width:10,height:10,fill:s[58]}),i.createElement("rect",{x:70,y:30,width:10,height:10,fill:s[59]}),i.createElement("rect",{x:70,y:40,width:10,height:10,fill:s[60]}),i.createElement("rect",{x:70,y:50,width:10,height:10,fill:s[61]}),i.createElement("rect",{x:70,y:60,width:10,height:10,fill:s[62]}),i.createElement("rect",{x:70,y:70,width:10,height:10,fill:s[63]})))},d=function(e){var t,r,n,o,s,f,p,h,d,y,g=(t=e.name,r=e.colors,o=a(t),s=r&&r.length,f=c(o,r,s),h=(p=u(o,10,1))<5?p+4:p,y=(d=u(o,10,2))<5?d+4:d,{wrapperColor:f,faceColor:("#"===(n=f).slice(0,1)&&(n=n.slice(1)),(299*parseInt(n.substr(0,2),16)+587*parseInt(n.substr(2,2),16)+114*parseInt(n.substr(4,2),16))/1e3>=128?"#000000":"#FFFFFF"),backgroundColor:c(o+13,r,s),wrapperTranslateX:h,wrapperTranslateY:y,wrapperRotate:u(o,360),wrapperScale:1+u(o,3)/10,isMouthOpen:l(o,2),isCircle:l(o,1),eyeSpread:u(o,5),mouthSpread:u(o,3),faceRotate:u(o,10,3),faceTranslateX:h>6?h/2:u(o,8,1),faceTranslateY:y>6?y/2:u(o,7,2)}),m=i.useId();return i.createElement("svg",{viewBox:"0 0 36 36",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size},e.title&&i.createElement("title",null,e.name),i.createElement("mask",{id:m,maskUnits:"userSpaceOnUse",x:0,y:0,width:36,height:36},i.createElement("rect",{width:36,height:36,rx:e.square?void 0:72,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(m,")")},i.createElement("rect",{width:36,height:36,fill:g.backgroundColor}),i.createElement("rect",{x:"0",y:"0",width:36,height:36,transform:"translate("+g.wrapperTranslateX+" "+g.wrapperTranslateY+") rotate("+g.wrapperRotate+" 18 18) scale("+g.wrapperScale+")",fill:g.wrapperColor,rx:g.isCircle?36:6}),i.createElement("g",{transform:"translate("+g.faceTranslateX+" "+g.faceTranslateY+") rotate("+g.faceRotate+" 18 18)"},g.isMouthOpen?i.createElement("path",{d:"M15 "+(19+g.mouthSpread)+"c2 1 4 1 6 0",stroke:g.faceColor,fill:"none",strokeLinecap:"round"}):i.createElement("path",{d:"M13,"+(19+g.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:g.faceColor}),i.createElement("rect",{x:14-g.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:g.faceColor}),i.createElement("rect",{x:20+g.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:g.faceColor}))))},y=function(e){var t,r,n,o,s=(t=e.name,r=e.colors,n=a(t),o=r&&r.length,Array.from({length:4},function(e,t){return c(n+t,r,o)})),l=e.name.replace(/\s/g,""),u=i.useId();return i.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size},e.title&&i.createElement("title",null,e.name),i.createElement("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:e.square?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(u,")")},i.createElement("path",{fill:"url(#gradient_paint0_linear_"+l+")",d:"M0 0h80v40H0z"}),i.createElement("path",{fill:"url(#gradient_paint1_linear_"+l+")",d:"M0 40h80v40H0z"})),i.createElement("defs",null,i.createElement("linearGradient",{id:"gradient_paint0_linear_"+l,x1:40,y1:0,x2:40,y2:40,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:s[0]}),i.createElement("stop",{offset:1,stopColor:s[1]})),i.createElement("linearGradient",{id:"gradient_paint1_linear_"+l,x1:40,y1:40,x2:40,y2:80,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:s[2]}),i.createElement("stop",{offset:1,stopColor:s[3]}))))},g=function(e){var t,r,n,o,s=(t=e.name,r=e.colors,n=a(t),o=r&&r.length,Array.from({length:3},function(e,t){return{color:c(n+t,r,o),translateX:u(n*(t+1),8,1),translateY:u(n*(t+1),8,2),scale:1.2+u(n*(t+1),4)/10,rotate:u(n*(t+1),360,1)}})),l=i.useId();return i.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size},e.title&&i.createElement("title",null,e.name),i.createElement("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:e.square?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(l,")")},i.createElement("rect",{width:80,height:80,fill:s[0].color}),i.createElement("path",{filter:"url(#filter_".concat(l,")"),d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:s[1].color,transform:"translate("+s[1].translateX+" "+s[1].translateY+") rotate("+s[1].rotate+" 40 40) scale("+s[2].scale+")"}),i.createElement("path",{filter:"url(#filter_".concat(l,")"),style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:s[2].color,transform:"translate("+s[2].translateX+" "+s[2].translateY+") rotate("+s[2].rotate+" 40 40) scale("+s[2].scale+")"})),i.createElement("defs",null,i.createElement("filter",{id:"filter_".concat(l),filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.createElement("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"}))))},m=["pixel","bauhaus","ring","beam","sunset","marble"],A={geometric:"beam",abstract:"bauhaus"};t.default=function(e){var t=e.variant,r=void 0===t?"marble":t,i=e.colors,a=e.name,s=e.square,l=e.title,u=e.size,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({colors:void 0===i?["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]:i,name:void 0===a?"Clara Barton":a,title:void 0!==l&&l,size:void 0===u?40:u,square:void 0!==s&&s},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["variant","colors","name","square","title","size"]));return({pixel:o.a.createElement(h,c),bauhaus:o.a.createElement(f,c),ring:o.a.createElement(p,c),beam:o.a.createElement(d,c),sunset:o.a.createElement(y,c),marble:o.a.createElement(g,c)})[Object.keys(A).includes(r)?A[r]:m.includes(r)?r:"marble"]}}])},ev.exports=nL(U);let eP=(nH=ev.exports)&&nH.__esModule&&Object.prototype.hasOwnProperty.call(nH,"default")?nH.default:nH;var eS=Object.defineProperty,eT=(e,t,r)=>t in e?eS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eI=(e,t,r)=>(eT(e,"symbol"!=typeof t?t+"":t,r),r);let ek=new class{constructor(){eI(this,"current",this.detect()),eI(this,"handoffState","pending"),eI(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},eO=(e,t)=>{ek.isServer?(0,U.useEffect)(e,t):(0,U.useLayoutEffect)(e,t)};function e_(e){let t=(0,U.useRef)(e);return eO(()=>{t.current=e},[e]),t}let ex=function(e){let t=e_(e);return U.useCallback((...e)=>t.current(...e),[t])};function eC(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function eN(){let e=[],t={addEventListener:(e,r,n,i)=>(e.addEventListener(r,n,i),t.add(()=>e.removeEventListener(r,n,i))),requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(r))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let r=setTimeout(...e);return t.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return eC(()=>{r.current&&e[0]()}),t.add(()=>{r.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=eN();return e(t),this.add(()=>t.dispose())},add:t=>(e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function eB(){let[e]=(0,U.useState)(eN);return(0,U.useEffect)(()=>()=>e.dispose(),[e]),e}function eR(){let e;let t=(e=typeof document>"u",(0,(K||(K=r.t(U,2))).useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[n,i]=U.useState(ek.isHandoffComplete);return n&&!1===ek.isHandoffComplete&&i(!1),U.useEffect(()=>{!0!==n&&i(!0)},[n]),U.useEffect(()=>ek.handoff(),[]),!t&&n}let eU=null!=(nM=U.useId)?nM:function(){let e=eR(),[t,r]=U.useState(e?()=>ek.nextId():null);return eO(()=>{null===t&&r(ek.nextId())},[t]),null!=t?""+t:void 0};function eL(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let n=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,eL),n}function eH(e){return ek.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let eF=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var eD=((o=eD||{})[o.First=1]="First",o[o.Previous=2]="Previous",o[o.Next=4]="Next",o[o.Last=8]="Last",o[o.WrapAround=16]="WrapAround",o[o.NoScroll=32]="NoScroll",o),eM=((a=eM||{})[a.Error=0]="Error",a[a.Overflow=1]="Overflow",a[a.Success=2]="Success",a[a.Underflow=3]="Underflow",a),ej=((s=ej||{})[s.Previous=-1]="Previous",s[s.Next=1]="Next",s);function eV(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(eF)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var eK=((l=eK||{})[l.Strict=0]="Strict",l[l.Loose=1]="Loose",l);function eW(e,t=0){var r;return e!==(null==(r=eH(e))?void 0:r.body)&&eL(t,{0:()=>e.matches(eF),1(){let t=e;for(;null!==t;){if(t.matches(eF))return!0;t=t.parentElement}return!1}})}function eG(e){let t=eH(e);eN().nextFrame(()=>{t&&!eW(t.activeElement,0)&&eq(e)})}var eX=((u=eX||{})[u.Keyboard=0]="Keyboard",u[u.Mouse=1]="Mouse",u);function eq(e){null==e||e.focus({preventScroll:!0})}function ez(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let o=n.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function eQ(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){var o,a,s;let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,u=Array.isArray(e)?r?ez(e):e:eV(e);i.length>0&&u.length>1&&(u=u.filter(e=>!i.includes(e))),n=n??l.activeElement;let c=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,u.indexOf(n))-1;if(4&t)return Math.max(0,u.indexOf(n))+1;if(8&t)return u.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=32&t?{preventScroll:!0}:{},h=0,d=u.length,y;do{if(h>=d||h+d<=0)return 0;let e=f+h;if(16&t)e=(e+d)%d;else{if(e<0)return 3;if(e>=d)return 1}null==(y=u[e])||y.focus(p),h+=c}while(y!==l.activeElement);return 6&t&&null!=(s=null==(a=null==(o=y)?void 0:o.matches)?void 0:a.call(o,"textarea,input"))&&s&&y.select(),2}function eY(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function eJ(e,t,r){let n=e_(t);(0,U.useEffect)(()=>{function t(e){n.current(e)}return document.addEventListener(e,t,r),()=>document.removeEventListener(e,t,r)},[e,r])}function e$(e,t,r){let n=e_(t);(0,U.useEffect)(()=>{function t(e){n.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)},[e,r])}function eZ(e,t,r=!0){let n=(0,U.useRef)(!1);function i(r,i){if(!n.current||r.defaultPrevented)return;let o=i(r);if(null!==o&&o.getRootNode().contains(o)&&o.isConnected){for(let t of function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e)){if(null===t)continue;let e=t instanceof HTMLElement?t:t.current;if(null!=e&&e.contains(o)||r.composed&&r.composedPath().includes(e))return}return eW(o,eK.Loose)||-1===o.tabIndex||r.preventDefault(),t(r,o)}}(0,U.useEffect)(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);let o=(0,U.useRef)(null);eJ("pointerdown",e=>{var t,r;n.current&&(o.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),eJ("mousedown",e=>{var t,r;n.current&&(o.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),eJ("click",e=>{eY()||/Android/gi.test(window.navigator.userAgent)||o.current&&(i(e,()=>o.current),o.current=null)},!0),eJ("touchend",e=>i(e,()=>e.target instanceof HTMLElement?e.target:null),!0),e$("blur",e=>i(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function e0(...e){return(0,U.useMemo)(()=>eH(...e),[...e])}function e1(e){var t;if(e.type)return e.type;let r=null!=(t=e.as)?t:"button";if("string"==typeof r&&"button"===r.toLowerCase())return"button"}"u">typeof window&&"u">typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let e2=Symbol();function e3(...e){let t=(0,U.useRef)(e);(0,U.useEffect)(()=>{t.current=e},[e]);let r=ex(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[e2]))?void 0:r}function e4(e){return[e.screenX,e.screenY]}function e5(e,t){let r=(0,U.useRef)([]),n=ex(e);(0,U.useEffect)(()=>{let e=[...r.current];for(let[i,o]of t.entries())if(r.current[i]!==o){let i=n(t,e);return r.current=t,i}},[n,...t])}function e6(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}var e8=((c=e8||{})[c.None=0]="None",c[c.RenderStrategy=1]="RenderStrategy",c[c.Static=2]="Static",c),e9=((f=e9||{})[f.Unmount=0]="Unmount",f[f.Hidden=1]="Hidden",f);function e7({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:o=!0,name:a,mergeRefs:s}){s=s??tt;let l=tr(t,e);if(o)return te(l,r,n,a,s);let u=i??0;if(2&u){let{static:e=!1,...t}=l;if(e)return te(t,r,n,a,s)}if(1&u){let{unmount:e=!0,...t}=l;return eL(e?0:1,{0:()=>null,1:()=>te({...t,hidden:!0,style:{display:"none"}},r,n,a,s)})}return te(l,r,n,a,s)}function te(e,t={},r,n,i){let{as:o=r,children:a,refName:s="ref",...l}=to(e,["unmount","static"]),u=void 0!==e.ref?{[s]:e.ref}:{},c="function"==typeof a?a(t):a;"className"in l&&l.className&&"function"==typeof l.className&&(l.className=l.className(t));let f={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n);e&&(f["data-headlessui-state"]=r.join(" "))}if(o===U.Fragment&&Object.keys(ti(l)).length>0){if(!(0,U.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`));let e=c.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>e6(null==e?void 0:e.className(...t),l.className):e6(null==e?void 0:e.className,l.className);return(0,U.cloneElement)(c,Object.assign({},tr(c.props,ti(to(l,["ref"]))),f,u,{ref:i(c.ref,u.ref)},t?{className:t}:{}))}return(0,U.createElement)(o,Object.assign({},to(l,["ref"]),o!==U.Fragment&&u,o!==U.Fragment&&f),c)}function tt(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function tr(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(e=>[e,void 0])));for(let e in r)Object.assign(t,{[e](t,...n){for(let i of r[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;i(t,...n)}}});return t}function tn(e){var t;return Object.assign((0,U.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function ti(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function to(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}var ta=((p=ta||{})[p.None=1]="None",p[p.Focusable=2]="Focusable",p[p.Hidden=4]="Hidden",p);let ts=tn(function(e,t){var r;let{features:n=1,...i}=e;return e7({ourProps:{ref:t,"aria-hidden":(2&n)==2||(null!=(r=i["aria-hidden"])?r:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}),tl=(0,U.createContext)(null);tl.displayName="OpenClosedContext";var tu=((h=tu||{})[h.Open=1]="Open",h[h.Closed=2]="Closed",h[h.Closing=4]="Closing",h[h.Opening=8]="Opening",h);function tc(){return(0,U.useContext)(tl)}function tf({value:e,children:t}){return U.createElement(tl.Provider,{value:e},t)}let tp=[];function th(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(null==t?void 0:t.getAttribute("disabled"))==="";return!(n&&function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"u">typeof window&&"u">typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&tp[0]!==e.target&&(tp.unshift(e.target),(tp=tp.filter(e=>null!=e&&e.isConnected)).splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var td=((d=td||{})[d.First=0]="First",d[d.Previous=1]="Previous",d[d.Next=2]="Next",d[d.Last=3]="Last",d[d.Specific=4]="Specific",d[d.Nothing=5]="Nothing",d),ty=((y=ty||{}).Space=" ",y.Enter="Enter",y.Escape="Escape",y.Backspace="Backspace",y.Delete="Delete",y.ArrowLeft="ArrowLeft",y.ArrowUp="ArrowUp",y.ArrowRight="ArrowRight",y.ArrowDown="ArrowDown",y.Home="Home",y.End="End",y.PageUp="PageUp",y.PageDown="PageDown",y.Tab="Tab",y);function tg(e,t,r,n){let i=e_(r);(0,U.useEffect)(()=>{function r(e){i.current(e)}return(e=e??window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}function tm(){let e=(0,U.useRef)(!1);return eO(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function tA(e){let t=ex(e),r=(0,U.useRef)(!1);(0,U.useEffect)(()=>(r.current=!1,()=>{r.current=!0,eC(()=>{r.current&&t()})}),[t])}var tw=((g=tw||{})[g.Forwards=0]="Forwards",g[g.Backwards=1]="Backwards",g);function tb(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}var tE=((m=tE||{})[m.None=1]="None",m[m.InitialFocus=2]="InitialFocus",m[m.TabLock=4]="TabLock",m[m.FocusLock=8]="FocusLock",m[m.RestoreFocus=16]="RestoreFocus",m[m.All=30]="All",m);let tv=Object.assign(tn(function(e,t){let r,n=(0,U.useRef)(null),i=e3(n,t),{initialFocus:o,containers:a,features:s=30,...l}=e;eR()||(s=1);let u=e0(n);!function({ownerDocument:e},t){let r=function(e=!0){let t=(0,U.useRef)(tp.slice());return e5(([e],[r])=>{!0===r&&!1===e&&eC(()=>{t.current.splice(0)}),!1===r&&!0===e&&(t.current=tp.slice())},[e,tp,t]),ex(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(t);e5(()=>{t||(null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&eq(r())},[t]),tA(()=>{t&&eq(r())})}({ownerDocument:u},!!(16&s));let c=function({ownerDocument:e,container:t,initialFocus:r},n){let i=(0,U.useRef)(null),o=tm();return e5(()=>{if(!n)return;let a=t.current;a&&eC(()=>{if(!o.current)return;let t=null==e?void 0:e.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===t){i.current=t;return}}else if(a.contains(t)){i.current=t;return}null!=r&&r.current?eq(r.current):eQ(a,eD.First)===eM.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement})},[n]),i}({ownerDocument:u,container:n,initialFocus:o},!!(2&s));!function({ownerDocument:e,container:t,containers:r,previousActiveElement:n},i){let o=tm();tg(null==e?void 0:e.defaultView,"focus",e=>{if(!i||!o.current)return;let a=tb(r);t.current instanceof HTMLElement&&a.add(t.current);let s=n.current;if(!s)return;let l=e.target;l&&l instanceof HTMLElement?tP(a,l)?(n.current=l,eq(l)):(e.preventDefault(),e.stopPropagation(),eq(s)):eq(n.current)},!0)}({ownerDocument:u,container:n,containers:a,previousActiveElement:c},!!(8&s));let f=(r=(0,U.useRef)(0),e$("keydown",e=>{"Tab"===e.key&&(r.current=e.shiftKey?1:0)},!0),r),p=ex(e=>{let t=n.current;t&&eL(f.current,{[tw.Forwards]:()=>{eQ(t,eD.First,{skipElements:[e.relatedTarget]})},[tw.Backwards]:()=>{eQ(t,eD.Last,{skipElements:[e.relatedTarget]})}})}),h=eB(),d=(0,U.useRef)(!1);return U.createElement(U.Fragment,null,!!(4&s)&&U.createElement(ts,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ta.Focusable}),e7({ourProps:{ref:i,onKeyDown(e){"Tab"==e.key&&(d.current=!0,h.requestAnimationFrame(()=>{d.current=!1}))},onBlur(e){let t=tb(a);n.current instanceof HTMLElement&&t.add(n.current);let r=e.relatedTarget;r instanceof HTMLElement&&"true"!==r.dataset.headlessuiFocusGuard&&(tP(t,r)||(d.current?eQ(n.current,eL(f.current,{[tw.Forwards]:()=>eD.Next,[tw.Backwards]:()=>eD.Previous})|eD.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&eq(e.target)))}},theirProps:l,defaultTag:"div",name:"FocusTrap"}),!!(4&s)&&U.createElement(ts,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ta.Focusable}))}),{features:tE});function tP(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let tS=(0,U.createContext)(!1);function tT(e){return U.createElement(tS.Provider,{value:e.force},e.children)}let tI=U.Fragment,tk=U.Fragment,tO=(0,U.createContext)(null),t_=(0,U.createContext)(null),tx=Object.assign(tn(function(e,t){let r=(0,U.useRef)(null),n=e3(function(e,t=!0){return Object.assign(e,{[e2]:t})}(e=>{r.current=e}),t),i=e0(r),o=function(e){let t=(0,U.useContext)(tS),r=(0,U.useContext)(tO),n=e0(e),[i,o]=(0,U.useState)(()=>{if(!t&&null!==r||ek.isServer)return null;let e=null==n?void 0:n.getElementById("headlessui-portal-root");if(e)return e;if(null===n)return null;let i=n.createElement("div");return i.setAttribute("id","headlessui-portal-root"),n.body.appendChild(i)});return(0,U.useEffect)(()=>{null!==i&&(null!=n&&n.body.contains(i)||null==n||n.body.appendChild(i))},[i,n]),(0,U.useEffect)(()=>{t||null!==r&&o(r.current)},[r,o,t]),i}(r),[a]=(0,U.useState)(()=>{var e;return ek.isServer?null:null!=(e=null==i?void 0:i.createElement("div"))?e:null}),s=(0,U.useContext)(t_),l=eR();return eO(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),eO(()=>{if(a&&s)return s.register(a)},[s,a]),tA(()=>{var e;o&&a&&(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&(null==(e=o.parentElement)||e.removeChild(o)))}),l&&o&&a?(0,V.createPortal)(e7({ourProps:{ref:n},theirProps:e,defaultTag:tI,name:"Portal"}),a):null}),{Group:tn(function(e,t){let{target:r,...n}=e,i={ref:e3(t)};return U.createElement(tO.Provider,{value:r},e7({ourProps:i,theirProps:n,defaultTag:tk,name:"Popover.Group"}))})}),{useState:tC,useEffect:tN,useLayoutEffect:tB,useDebugValue:tR}=K||(K=r.t(U,2));"u">typeof window&&"u">typeof window.document&&window.document.createElement;let tU=(K||(K=r.t(U,2))).useSyncExternalStore,tL=(nF=()=>new Map,nD={PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:eN(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n;let i={doc:e,d:t,meta:function(e){let t={};for(let r of e)Object.assign(t,r(t));return t}(r)},o=[eY()?{before({doc:e,d:t,meta:r}){function n(e){return r.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{var r;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=eN();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let i=null!=(r=window.scrollY)?r:window.pageYOffset,o=null;t.addEventListener(e,"click",t=>{if(t.target instanceof HTMLElement)try{let r=t.target.closest("a");if(!r)return;let{hash:i}=new URL(r.href),a=e.querySelector(i);a&&!n(a)&&(o=a)}catch{}},!0),t.addEventListener(e,"touchstart",e=>{if(e.target instanceof HTMLElement){if(n(e.target)){let r=e.target;for(;r.parentElement&&n(r.parentElement);)r=r.parentElement;t.style(r,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")}}),t.addEventListener(e,"touchmove",e=>{if(e.target instanceof HTMLElement){if(n(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),t.add(()=>{var e;i!==(null!=(e=window.scrollY)?e:window.pageYOffset)&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{},{before({doc:e}){var t;let r=e.documentElement;n=(null!=(t=e.defaultView)?t:window).innerWidth-r.clientWidth},after({doc:e,d:t}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,o=n-i;t.style(r,"paddingRight",`${o}px`)}},{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];o.forEach(({before:e})=>null==e?void 0:e(i)),o.forEach(({after:e})=>null==e?void 0:e(i))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}},A=nF(),w=new Set,{getSnapshot:()=>A,subscribe:e=>(w.add(e),()=>w.delete(e)),dispatch(e,...t){let r=nD[e].call(A,...t);r&&(A=r,w.forEach(e=>e()))}});tL.subscribe(()=>{let e=tL.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&tL.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&tL.dispatch("TEARDOWN",r)}});let tH=new Map,tF=new Map;function tD(e,t=!0){eO(()=>{var r;if(!t)return;let n="function"==typeof e?e():e.current;if(!n)return;let i=null!=(r=tF.get(n))?r:0;return tF.set(n,i+1),0!==i||(tH.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),function(){var e;if(!n)return;let t=null!=(e=tF.get(n))?e:1;if(1===t?tF.delete(n):tF.set(n,t-1),1!==t)return;let r=tH.get(n);r&&(null===r["aria-hidden"]?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,tH.delete(n))}},[e,t])}let tM=(0,U.createContext)(()=>{});tM.displayName="StackContext";var tj=((b=tj||{})[b.Add=0]="Add",b[b.Remove=1]="Remove",b);function tV({children:e,onUpdate:t,type:r,element:n,enabled:i}){let o=(0,U.useContext)(tM),a=ex((...e)=>{null==t||t(...e),o(...e)});return eO(()=>{let e=void 0===i||!0===i;return e&&a(0,r,n),()=>{e&&a(1,r,n)}},[a,r,n,i]),U.createElement(tM.Provider,{value:a},e)}let tK=(0,U.createContext)(null),tW=Object.assign(tn(function(e,t){let r=eU(),{id:n=`headlessui-description-${r}`,...i}=e,o=function e(){let t=(0,U.useContext)(tK);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),a=e3(t);return eO(()=>o.register(n),[n,o.register]),e7({ourProps:{ref:a,...o.props,id:n},theirProps:i,slot:o.slot||{},defaultTag:"p",name:o.name||"Description"})}),{});var tG=((E=tG||{})[E.Open=0]="Open",E[E.Closed=1]="Closed",E),tX=((v=tX||{})[v.SetTitleId=0]="SetTitleId",v);let tq={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},tz=(0,U.createContext)(null);function tQ(e){let t=(0,U.useContext)(tz);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,tQ),t}return t}function tY(e,t){return eL(t.type,tq,e,t)}tz.displayName="DialogContext";let tJ=e8.RenderStrategy|e8.Static,t$=Object.assign(tn(function(e,t){let r,n,i,o,a,s=eU(),{id:l=`headlessui-dialog-${s}`,open:u,onClose:c,initialFocus:f,role:p="dialog",__demoMode:h=!1,...d}=e,[y,g]=(0,U.useState)(0),m=(0,U.useRef)(!1);p="dialog"===p||"alertdialog"===p?p:(m.current||(m.current=!0,console.warn(`Invalid role [${p}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let A=tc();void 0===u&&null!==A&&(u=(A&tu.Open)===tu.Open);let w=(0,U.useRef)(null),b=e3(w,t),E=e0(w),v=e.hasOwnProperty("open")||null!==A,P=e.hasOwnProperty("onClose");if(!v&&!P)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!P)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof u)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${u}`);if("function"!=typeof c)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${c}`);let S=u?0:1,[T,I]=(0,U.useReducer)(tY,{titleId:null,descriptionId:null,panelRef:(0,U.createRef)()}),k=ex(()=>c(!1)),O=ex(e=>I({type:0,id:e})),_=!!eR()&&!h&&0===S,x=y>1,C=null!==(0,U.useContext)(tz),[N,B]=(r=(0,U.useContext)(t_),n=(0,U.useRef)([]),i=ex(e=>(n.current.push(e),r&&r.register(e),()=>o(e))),o=ex(e=>{let t=n.current.indexOf(e);-1!==t&&n.current.splice(t,1),r&&r.unregister(e)}),a=(0,U.useMemo)(()=>({register:i,unregister:o,portals:n}),[i,o,n]),[n,(0,U.useMemo)(()=>function({children:e}){return U.createElement(t_.Provider,{value:a},e)},[a])]),{resolveContainers:R,mainTreeNodeRef:L,MainTreeNode:H}=function({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var n;let i=(0,U.useRef)(null!=(n=null==r?void 0:r.current)?n:null),o=e0(i),a=ex(()=>{var r,n,a;let s=[];for(let t of e)null!==t&&(t instanceof HTMLElement?s.push(t):"current"in t&&t.current instanceof HTMLElement&&s.push(t.current));if(null!=t&&t.current)for(let e of t.current)s.push(e);for(let e of null!=(r=null==o?void 0:o.querySelectorAll("html > *, body > *"))?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(i.current)||e.contains(null==(a=null==(n=i.current)?void 0:n.getRootNode())?void 0:a.host)||s.some(t=>e.contains(t))||s.push(e));return s});return{resolveContainers:a,contains:ex(e=>a().some(t=>t.contains(e))),mainTreeNodeRef:i,MainTreeNode:(0,U.useMemo)(()=>function(){return null!=r?null:U.createElement(ts,{features:ta.Hidden,ref:i})},[i,r])}}({portals:N,defaultContainers:[{get current(){var F;return null!=(F=T.panelRef.current)?F:w.current}}]}),D=null!==A&&(A&tu.Closing)===tu.Closing,M=!C&&!D&&_;tD((0,U.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==E?void 0:E.querySelectorAll("body > *"))?e:[]).find(e=>"headlessui-portal-root"!==e.id&&e.contains(L.current)&&e instanceof HTMLElement))?t:null},[L]),M);let j=!!x||_;tD((0,U.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==E?void 0:E.querySelectorAll("[data-headlessui-portal]"))?e:[]).find(e=>e.contains(L.current)&&e instanceof HTMLElement))?t:null},[L]),j),eZ(R,e=>{e.preventDefault(),k()},!(!_||x));let V=!(x||0!==S);tg(null==E?void 0:E.defaultView,"keydown",e=>{V&&(e.defaultPrevented||e.key===ty.Escape&&(e.preventDefault(),e.stopPropagation(),k()))}),function(e,t,r=()=>[document.body]){var n;let i,o;n=e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}},i=tU(tL.subscribe,tL.getSnapshot,tL.getSnapshot),(o=e?i.get(e):void 0)&&o.count,eO(()=>{if(!(!e||!t))return tL.dispatch("PUSH",e,n),()=>tL.dispatch("POP",e,n)},[t,e])}(E,!(D||0!==S||C),R),(0,U.useEffect)(()=>{if(0!==S||!w.current)return;let e=new ResizeObserver(e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&k()}});return e.observe(w.current),()=>e.disconnect()},[S,w,k]);let[K,W]=function(){let[e,t]=(0,U.useState)([]);return[e.length>0?e.join(" "):void 0,(0,U.useMemo)(()=>function(e){let r=ex(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,U.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return U.createElement(tK.Provider,{value:n},e.children)},[t])]}(),G=(0,U.useMemo)(()=>[{dialogState:S,close:k,setTitleId:O},T],[S,T,k,O]),X=(0,U.useMemo)(()=>({open:0===S}),[S]),q={ref:b,id:l,role:p,"aria-modal":0===S||void 0,"aria-labelledby":T.titleId,"aria-describedby":K};return U.createElement(tV,{type:"Dialog",enabled:0===S,element:w,onUpdate:ex((e,t)=>{"Dialog"===t&&eL(e,{[tj.Add]:()=>g(e=>e+1),[tj.Remove]:()=>g(e=>e-1)})})},U.createElement(tT,{force:!0},U.createElement(tx,null,U.createElement(tz.Provider,{value:G},U.createElement(tx.Group,{target:w},U.createElement(tT,{force:!1},U.createElement(W,{slot:X,name:"Dialog.Description"},U.createElement(tv,{initialFocus:f,containers:R,features:_?eL(x?"parent":"leaf",{parent:tv.features.RestoreFocus,leaf:tv.features.All&~tv.features.FocusLock}):tv.features.None},U.createElement(B,null,e7({ourProps:q,theirProps:d,slot:X,defaultTag:"div",features:tJ,visible:0===S,name:"Dialog"}))))))))),U.createElement(H,null))}),{Backdrop:tn(function(e,t){let r=eU(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=e,[{dialogState:o},a]=tQ("Dialog.Backdrop"),s=e3(t);(0,U.useEffect)(()=>{if(null===a.panelRef.current)throw Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let l=(0,U.useMemo)(()=>({open:0===o}),[o]);return U.createElement(tT,{force:!0},U.createElement(tx,null,e7({ourProps:{ref:s,id:n,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Backdrop"})))}),Panel:tn(function(e,t){let r=eU(),{id:n=`headlessui-dialog-panel-${r}`,...i}=e,[{dialogState:o},a]=tQ("Dialog.Panel"),s=e3(t,a.panelRef),l=(0,U.useMemo)(()=>({open:0===o}),[o]);return e7({ourProps:{ref:s,id:n,onClick:ex(e=>{e.stopPropagation()})},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Panel"})}),Overlay:tn(function(e,t){let r=eU(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=e,[{dialogState:o,close:a}]=tQ("Dialog.Overlay");return e7({ourProps:{ref:e3(t),id:n,"aria-hidden":!0,onClick:ex(e=>{if(e.target===e.currentTarget){if(th(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),a()}})},theirProps:i,slot:(0,U.useMemo)(()=>({open:0===o}),[o]),defaultTag:"div",name:"Dialog.Overlay"})}),Title:tn(function(e,t){let r=eU(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:o,setTitleId:a}]=tQ("Dialog.Title"),s=e3(t);return(0,U.useEffect)(()=>(a(n),()=>a(null)),[n,a]),e7({ourProps:{ref:s,id:n},theirProps:i,slot:(0,U.useMemo)(()=>({open:0===o}),[o]),defaultTag:"h2",name:"Dialog.Title"})}),Description:tW}),tZ=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function t0(e){var t,r;let n=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let o=!1;for(let e of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),o=!0;let a=o?null!=(r=i.innerText)?r:"":n;return tZ.test(a)&&(a=a.replace(tZ,"")),a}var t1=((P=t1||{})[P.Open=0]="Open",P[P.Closed=1]="Closed",P),t2=((S=t2||{})[S.Pointer=0]="Pointer",S[S.Other=1]="Other",S),t3=((T=t3||{})[T.OpenMenu=0]="OpenMenu",T[T.CloseMenu=1]="CloseMenu",T[T.GoToItem=2]="GoToItem",T[T.Search=3]="Search",T[T.ClearSearch=4]="ClearSearch",T[T.RegisterItem=5]="RegisterItem",T[T.UnregisterItem=6]="UnregisterItem",T);function t4(e,t=e=>e){let r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=ez(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return -1===i&&(i=null),{items:n,activeItemIndex:i}}let t5={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var r;let n=t4(e),i=function(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=n??-1;switch(e.focus){case 0:for(let e=0;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 1:for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 2:for(let e=i+1;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 3:for(let e=r.length-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 4:for(let n=0;n<r.length;++n)if(t.resolveId(r[n],n,r)===e.id)return n;return n;case 5:return null;default:!function(e){throw Error("Unexpected object: "+e)}(e)}}(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(r=t.trigger)?r:1}},3:(e,t)=>{let r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return -1===o||o===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:o,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let r=t4(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=t4(e,e=>{let r=e.findIndex(e=>e.id===t.id);return -1!==r&&e.splice(r,1),e});return{...e,...r,activationTrigger:1}}},t6=(0,U.createContext)(null);function t8(e){let t=(0,U.useContext)(t6);if(null===t){let t=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,t8),t}return t}function t9(e,t){return eL(t.type,t5,e,t)}t6.displayName="MenuContext";let t7=U.Fragment,re=e8.RenderStrategy|e8.Static,rt=U.Fragment,rr=Object.assign(tn(function(e,t){let{__demoMode:r=!1,...n}=e,i=(0,U.useReducer)(t9,{__demoMode:r,menuState:r?0:1,buttonRef:(0,U.createRef)(),itemsRef:(0,U.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:a,buttonRef:s},l]=i,u=e3(t);eZ([s,a],(e,t)=>{var r;l({type:1}),eW(t,eK.Loose)||(e.preventDefault(),null==(r=s.current)||r.focus())},0===o);let c=ex(()=>{l({type:1})}),f=(0,U.useMemo)(()=>({open:0===o,close:c}),[o,c]);return U.createElement(t6.Provider,{value:i},U.createElement(tf,{value:eL(o,{0:tu.Open,1:tu.Closed})},e7({ourProps:{ref:u},theirProps:n,slot:f,defaultTag:t7,name:"Menu"})))}),{Button:tn(function(e,t){var r;let n=eU(),{id:i=`headlessui-menu-button-${n}`,...o}=e,[a,s]=t8("Menu.Button"),l=e3(a.buttonRef,t),u=eB(),c=ex(e=>{switch(e.key){case ty.Space:case ty.Enter:case ty.ArrowDown:e.preventDefault(),e.stopPropagation(),s({type:0}),u.nextFrame(()=>s({type:2,focus:td.First}));break;case ty.ArrowUp:e.preventDefault(),e.stopPropagation(),s({type:0}),u.nextFrame(()=>s({type:2,focus:td.Last}))}}),f=ex(e=>{e.key===ty.Space&&e.preventDefault()}),p=ex(t=>{if(th(t.currentTarget))return t.preventDefault();e.disabled||(0===a.menuState?(s({type:1}),u.nextFrame(()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),s({type:0})))}),h=(0,U.useMemo)(()=>({open:0===a.menuState}),[a]);return e7({ourProps:{ref:l,id:i,type:function(e,t){let[r,n]=(0,U.useState)(()=>e1(e));return eO(()=>{n(e1(e))},[e.type,e.as]),eO(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}(e,a.buttonRef),"aria-haspopup":"menu","aria-controls":null==(r=a.itemsRef.current)?void 0:r.id,"aria-expanded":0===a.menuState,onKeyDown:c,onKeyUp:f,onClick:p},theirProps:o,slot:h,defaultTag:"button",name:"Menu.Button"})}),Items:tn(function(e,t){var r,n;let i=eU(),{id:o=`headlessui-menu-items-${i}`,...a}=e,[s,l]=t8("Menu.Items"),u=e3(s.itemsRef,t),c=e0(s.itemsRef),f=eB(),p=tc(),h=null!==p?(p&tu.Open)===tu.Open:0===s.menuState;(0,U.useEffect)(()=>{let e=s.itemsRef.current;e&&0===s.menuState&&e!==(null==c?void 0:c.activeElement)&&e.focus({preventScroll:!0})},[s.menuState,s.itemsRef,c]),function({container:e,accept:t,walk:r,enabled:n=!0}){let i=(0,U.useRef)(t),o=(0,U.useRef)(r);(0,U.useEffect)(()=>{i.current=t,o.current=r},[t,r]),eO(()=>{if(!e||!n)return;let t=eH(e);if(!t)return;let r=i.current,a=o.current,s=Object.assign(e=>r(e),{acceptNode:r}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)a(l.currentNode)},[e,n,i,o])}({container:s.itemsRef.current,enabled:0===s.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let d=ex(e=>{var t,r;switch(f.dispose(),e.key){case ty.Space:if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:3,value:e.key});case ty.Enter:if(e.preventDefault(),e.stopPropagation(),l({type:1}),null!==s.activeItemIndex){let{dataRef:e}=s.items[s.activeItemIndex];null==(r=null==(t=e.current)?void 0:t.domRef.current)||r.click()}eG(s.buttonRef.current);break;case ty.ArrowDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:td.Next});case ty.ArrowUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:td.Previous});case ty.Home:case ty.PageUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:td.First});case ty.End:case ty.PageDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:td.Last});case ty.Escape:e.preventDefault(),e.stopPropagation(),l({type:1}),eN().nextFrame(()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case ty.Tab:e.preventDefault(),e.stopPropagation(),l({type:1}),eN().nextFrame(()=>{var t,r;t=s.buttonRef.current,r=e.shiftKey?eD.Previous:eD.Next,eQ(eV(),r,{relativeTo:t})});break;default:1===e.key.length&&(l({type:3,value:e.key}),f.setTimeout(()=>l({type:4}),350))}}),y=ex(e=>{e.key===ty.Space&&e.preventDefault()}),g=(0,U.useMemo)(()=>({open:0===s.menuState}),[s]);return e7({ourProps:{"aria-activedescendant":null===s.activeItemIndex||null==(r=s.items[s.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(n=s.buttonRef.current)?void 0:n.id,id:o,onKeyDown:d,onKeyUp:y,role:"menu",tabIndex:0,ref:u},theirProps:a,slot:g,defaultTag:"div",features:re,visible:h,name:"Menu.Items"})}),Item:tn(function(e,t){let r,n,i,o=eU(),{id:a=`headlessui-menu-item-${o}`,disabled:s=!1,...l}=e,[u,c]=t8("Menu.Item"),f=null!==u.activeItemIndex&&u.items[u.activeItemIndex].id===a,p=(0,U.useRef)(null),h=e3(t,p);eO(()=>{if(u.__demoMode||0!==u.menuState||!f||0===u.activationTrigger)return;let e=eN();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=p.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[u.__demoMode,p,f,u.menuState,u.activationTrigger,u.activeItemIndex]);let d=(r=(0,U.useRef)(""),n=(0,U.useRef)(""),ex(()=>{let e=p.current;if(!e)return"";let t=e.innerText;if(r.current===t)return n.current;let i=(function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let e=r.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():t0(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return t0(e).trim()})(e).trim().toLowerCase();return r.current=t,n.current=i,i})),y=(0,U.useRef)({disabled:s,domRef:p,get textValue(){return d()}});eO(()=>{y.current.disabled=s},[y,s]),eO(()=>(c({type:5,id:a,dataRef:y}),()=>c({type:6,id:a})),[y,a]);let g=ex(()=>{c({type:1})}),m=ex(e=>{if(s)return e.preventDefault();c({type:1}),eG(u.buttonRef.current)}),A=ex(()=>{if(s)return c({type:2,focus:td.Nothing});c({type:2,focus:td.Specific,id:a})}),w=(i=(0,U.useRef)([-1,-1]),{wasMoved(e){let t=e4(e);return(i.current[0]!==t[0]||i.current[1]!==t[1])&&(i.current=t,!0)},update(e){i.current=e4(e)}}),b=ex(e=>w.update(e)),E=ex(e=>{w.wasMoved(e)&&(s||f||c({type:2,focus:td.Specific,id:a,trigger:0}))}),v=ex(e=>{w.wasMoved(e)&&(s||f&&c({type:2,focus:td.Nothing}))}),P=(0,U.useMemo)(()=>({active:f,disabled:s,close:g}),[f,s,g]);return e7({ourProps:{id:a,ref:h,role:"menuitem",tabIndex:!0===s?void 0:-1,"aria-disabled":!0===s||void 0,disabled:void 0,onClick:m,onFocus:A,onPointerEnter:b,onMouseEnter:b,onPointerMove:E,onMouseMove:E,onPointerLeave:v,onMouseLeave:v},theirProps:l,slot:P,defaultTag:rt,name:"Menu.Item"})})});function rn(e,...t){e&&t.length>0&&e.classList.add(...t)}function ri(e,...t){e&&t.length>0&&e.classList.remove(...t)}function ro(e=""){return e.split(/\s+/).filter(e=>e.length>1)}let ra=(0,U.createContext)(null);ra.displayName="TransitionContext";var rs=((I=rs||{}).Visible="visible",I.Hidden="hidden",I);let rl=(0,U.createContext)(null);function ru(e){return"children"in e?ru(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function rc(e,t){let r=e_(e),n=(0,U.useRef)([]),i=tm(),o=eB(),a=ex((e,t=e9.Hidden)=>{let a=n.current.findIndex(({el:t})=>t===e);-1!==a&&(eL(t,{[e9.Unmount](){n.current.splice(a,1)},[e9.Hidden](){n.current[a].state="hidden"}}),o.microTask(()=>{var e;!ru(n)&&i.current&&(null==(e=r.current)||e.call(r))}))}),s=ex(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>a(e,e9.Unmount)}),l=(0,U.useRef)([]),u=(0,U.useRef)(Promise.resolve()),c=(0,U.useRef)({enter:[],leave:[],idle:[]}),f=ex((e,r,n)=>{l.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{l.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(c.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?u.current=u.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),p=ex((e,t,r)=>{Promise.all(c.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=l.current.shift())||e()}).then(()=>r(t))});return(0,U.useMemo)(()=>({children:n,register:s,unregister:a,onStart:f,onStop:p,wait:u,chains:c}),[s,a,n,f,p,c,u])}function rf(){}rl.displayName="NestingContext";let rp=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function rh(e){var t;let r={};for(let n of rp)r[n]=null!=(t=e[n])?t:rf;return r}let rd=e8.RenderStrategy,ry=tn(function(e,t){let{show:r,appear:n=!1,unmount:i=!0,...o}=e,a=(0,U.useRef)(null),s=e3(a,t);eR();let l=tc();if(void 0===r&&null!==l&&(r=(l&tu.Open)===tu.Open),![!0,!1].includes(r))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=(0,U.useState)(r?"visible":"hidden"),f=rc(()=>{c("hidden")}),[p,h]=(0,U.useState)(!0),d=(0,U.useRef)([r]);eO(()=>{!1!==p&&d.current[d.current.length-1]!==r&&(d.current.push(r),h(!1))},[d,r]);let y=(0,U.useMemo)(()=>({show:r,appear:n,initial:p}),[r,n,p]);(0,U.useEffect)(()=>{if(r)c("visible");else if(ru(f)){let e=a.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&c("hidden")}else c("hidden")},[r,f]);let g={unmount:i},m=ex(()=>{var t;p&&h(!1),null==(t=e.beforeEnter)||t.call(e)}),A=ex(()=>{var t;p&&h(!1),null==(t=e.beforeLeave)||t.call(e)});return U.createElement(rl.Provider,{value:f},U.createElement(ra.Provider,{value:y},e7({ourProps:{...g,as:U.Fragment,children:U.createElement(rg,{ref:s,...g,...o,beforeEnter:m,beforeLeave:A})},theirProps:{},defaultTag:U.Fragment,features:rd,visible:"visible"===u,name:"Transition"})))}),rg=tn(function(e,t){var r,n,i;let o;let{beforeEnter:a,afterEnter:s,beforeLeave:l,afterLeave:u,enter:c,enterFrom:f,enterTo:p,entered:h,leave:d,leaveFrom:y,leaveTo:g,...m}=e,A=(0,U.useRef)(null),w=e3(A,t),b=null==(r=m.unmount)||r?e9.Unmount:e9.Hidden,{show:E,appear:v,initial:P}=function(){let e=(0,U.useContext)(ra);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[S,T]=(0,U.useState)(E?"visible":"hidden"),I=function(){let e=(0,U.useContext)(rl);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:k,unregister:O}=I;(0,U.useEffect)(()=>k(A),[k,A]),(0,U.useEffect)(()=>{if(b===e9.Hidden&&A.current){if(E&&"visible"!==S){T("visible");return}return eL(S,{hidden:()=>O(A),visible:()=>k(A)})}},[S,A,k,O,E,b]);let _=e_({base:ro(m.className),enter:ro(c),enterFrom:ro(f),enterTo:ro(p),entered:ro(h),leave:ro(d),leaveFrom:ro(y),leaveTo:ro(g)}),x=(i={beforeEnter:a,afterEnter:s,beforeLeave:l,afterLeave:u},o=(0,U.useRef)(rh(i)),(0,U.useEffect)(()=>{o.current=rh(i)},[i]),o),C=eR();(0,U.useEffect)(()=>{if(C&&"visible"===S&&null===A.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[A,S,C]);let N=v&&E&&P,B=C&&(!P||v)?E?"enter":"leave":"idle",R=function(e=0){let[t,r]=(0,U.useState)(e),n=tm(),i=(0,U.useCallback)(e=>{n.current&&r(t=>t|e)},[t,n]),o=(0,U.useCallback)(e=>!!(t&e),[t]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:(0,U.useCallback)(e=>{n.current&&r(t=>t&~e)},[r,n]),toggleFlag:(0,U.useCallback)(e=>{n.current&&r(t=>t^e)},[r])}}(0),L=ex(e=>eL(e,{enter:()=>{R.addFlag(tu.Opening),x.current.beforeEnter()},leave:()=>{R.addFlag(tu.Closing),x.current.beforeLeave()},idle:()=>{}})),H=ex(e=>eL(e,{enter:()=>{R.removeFlag(tu.Opening),x.current.afterEnter()},leave:()=>{R.removeFlag(tu.Closing),x.current.afterLeave()},idle:()=>{}})),F=rc(()=>{T("hidden"),O(A)},I),D=(0,U.useRef)(!1);!function({immediate:e,container:t,direction:r,classes:n,onStart:i,onStop:o}){let a=tm(),s=eB(),l=e_(r);eO(()=>{e&&(l.current="enter")},[e]),eO(()=>{let e=eN();s.add(e.dispose);let r=t.current;if(r&&"idle"!==l.current&&a.current){var u,c,f;let t,a,s,p,h,d,y;return e.dispose(),i.current(l.current),e.add((u=n.current,c="enter"===l.current,f=()=>{e.dispose(),o.current(l.current)},a=c?"enter":"leave",s=eN(),p=void 0!==f?(t={called:!1},(...e)=>{if(!t.called)return t.called=!0,f(...e)}):()=>{},"enter"===a&&(r.removeAttribute("hidden"),r.style.display=""),h=eL(a,{enter:()=>u.enter,leave:()=>u.leave}),d=eL(a,{enter:()=>u.enterTo,leave:()=>u.leaveTo}),y=eL(a,{enter:()=>u.enterFrom,leave:()=>u.leaveFrom}),ri(r,...u.base,...u.enter,...u.enterTo,...u.enterFrom,...u.leave,...u.leaveFrom,...u.leaveTo,...u.entered),rn(r,...u.base,...h,...y),s.nextFrame(()=>{ri(r,...u.base,...h,...y),rn(r,...u.base,...h,...d),function(e,t){let r=eN();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[o,a]=[n,i].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t}),s=o+a;if(0!==s){r.group(r=>{r.setTimeout(()=>{t(),r.dispose()},s),r.addEventListener(e,"transitionrun",e=>{e.target===e.currentTarget&&r.dispose()})});let n=r.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t(),n())})}else t();r.add(()=>t()),r.dispose}(r,()=>(ri(r,...u.base,...h),rn(r,...u.base,...u.entered),p()))}),s.dispose)),e.dispose}},[r])}({immediate:N,container:A,classes:_,direction:B,onStart:e_(e=>{D.current=!0,F.onStart(A,e,L)}),onStop:e_(e=>{D.current=!1,F.onStop(A,e,H),"leave"!==e||ru(F)||(T("hidden"),O(A))})});let M=m;return N?M={...M,className:e6(m.className,..._.current.enter,..._.current.enterFrom)}:D.current&&(M.className=e6(m.className,null==(n=A.current)?void 0:n.className),""===M.className&&delete M.className),U.createElement(rl.Provider,{value:F},U.createElement(tf,{value:eL(S,{visible:tu.Open,hidden:tu.Closed})|R.flags},e7({ourProps:{ref:w},theirProps:M,defaultTag:"div",features:rd,visible:"visible"===S,name:"Transition.Child"})))}),rm=tn(function(e,t){let r=null!==(0,U.useContext)(ra),n=null!==tc();return U.createElement(U.Fragment,null,!r&&n?U.createElement(ry,{ref:t,...e}):U.createElement(rg,{ref:t,...e}))}),rA=Object.assign(ry,{Child:rm,Root:ry}),rw="data:image/svg+xml,%3csvg%20width='41'%20height='40'%20viewBox='0%200%2041%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20x='0.5'%20width='40'%20height='40'%20rx='20'%20fill='url(%23pattern0)'/%3e%3cdefs%3e%3cpattern%20id='pattern0'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_21497_326778'%20transform='translate(-0.00625)%20scale(0.0125)'/%3e%3c/pattern%3e%3cimage%20id='image0_21497_326778'%20width='81'%20height='80'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABQCAYAAABh05mTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAi3SURBVHgB7Z1dbBRVFMfPLJVuE1lGFNOENi5v2sbY8kIbEymJtJiYSIVq9AEKrQm+0A+Q+KBpqz5ppIU3Ywvti4kWktaYQFsTi4nZ8sTyQH3TIa0JD0Km2wQWkB3Pf3Zms/Oxu7Mfszvb7i9Zdjt7Zzfz33PuOffcOxeBSowoisEtRG0KUZAo9pJAQjD+mkTtkYzED1lQH0I4RnTHRxR+lh+SLMtUIgQqMkFWbZ3okEKxffz1h8gqVK6EfSQs8vPsv7K8SEWkKCJqwrURKX2K+uw6kkDKokC+qWII6qqIEC9CsT7+mn4qnMVlCwsqjNyT5UlyCVdE9Ih4ZlwTs+Ai7hADEG+YvCOeGYg5wGLOUIEomIg7RbHpKSmX+GUTlQHcZ04+Q76Ru7IsUZ4URETN+sao/JA4oh/PN/hsoTxA37fFX32VBTxJ5YnI2UJ3jb+aHkYfXaccydkSazlJfkzKbxRPjMseFmJmG1tlLkl7TiJq/R8E9GrwyJXwVhI6s+0nsxZxAwuoI7GQ+7MRMisRN4GAOlKAhGanru0jh6AP3CQCgmCErxWB00ljR9E5KYjU0uahlq+5lqP2bKaGjkTc6q+GgC/TpkNoqvHXrD2MRpfStcrozpxID1GZjELcQRl9QRTb0rVIG1i0QHKTKqQNNGnd2e+vDtHmCCSZEJ+Q4n8QfTRn92ZKd9bcOEgVVGJc1kvl1rburEXjv6mCARZr8Z68tt983NYSnxANUQULmNqws0aLJVasMD121mixxIoVpsfOGg2WWI5W2NrSQu3tb9LBjnaqq6tTj4WWlmj68hWanr5CbmC2RoOIz4titxIv8XueQCBA5779mjra21O2mb58mQZPnyU34Gi9W9YqPYY8kSu8ENDz42NY3M8zV2hPc3Pado0NDRSJROjmzTAVGp7swnBwMf5ao5SuPDT0OR1sP2A41vHW26oAZiDg9I8/JFw3E/iMxlddGbVK9+W13XiRCCyPiQ5RCYBb9p44roqiP0JLN2wFBHBhOwHRD45PXKLV1VXL59fXOxM8S1ApU3+dKv0ITyG+o1DxaW3Zazk2N79g27an54QaSJKB2L0fnVRFBMvLyyz0N1QMfPElMWHVEllRsUhrZCw0cL9lZnVl1XIM1td7otty/L33P0wICAKB7ZY2a2v2Vp0vMDw8qyJWlbDUZeeakXXrRQ/2n7K0HRn5km6z5SV/Vm9Pt6EN3DtV15AviqabKmLMY/XCul1WYVtbjW4MccYvGrOx4aHPLEKPT0ySi8CJg6qIHKL3UYlYXv7Tcqyr613j30cOW8Q5N3Yh8RrvXbv6iyVnhNDIFd2Ec8QmLTorJasZLie5o07XkSPUwxE78XfXYcP7qjjTcXEQbOZYwEabvhUBxy1X1sGqXjXZrvH7h6lExVcI0tq6l+pNltbWto9Tk13xFIiFSmaFz9n54k6a+P47tr4DVF1dbflcjFQWr+e8MiQLlLtqsr1D3F6K7CYB0pafOIEuBOaUx20UEma3oGdkJT+lEgJrXI+ss/W9QfkA4Y4ePW6I2G7jI+GuEI8u3qjcIDDYRdhMQLzR0QtFsz4TkqdE1EFgGRw4lVZMWO+1uQWa59FNicTT8aaIOoP9fTQw0Gc8duYTmmPx3I66WSBVkYdpaHzF8DeEc6vQmgey4wVNpcBcbAiFbpDX4LqiXIXqLKc4VEyQE7Zw9Ubv89C/ra7+Y+jbICByxGTmFhbIi+juLFERJuohzAAHDLOF6UDMc2Pn1T6v3VSkBUuhkgaQVNzSk22st3G1CIEAgUDhBL2wmhydkfsd5Gq39xBGtD5RuEUuggKCUwGBXuFOJuTACmHhK3f+MjxSWX2hYCsM6+6MmZxj5BKDA1YBEWkxDQDq6nbZFhCSmZ//lbzIUz3FwT3DMXIHWILZqlCBGf7iK0OuhzawVnPFRsdJXmhXJXc5n+S4LMenB/6LW6IrtNjMoUxcnLRcHPpBNZFOMb+CAkWHTbBJxlzVBm6Oo3HjOp5VESEnZvXJBSJcWDBjJyzSGUydphIK749z6QuzffU2w0EELks/6vJwkEtf6nruxLzzDlEc5sMFX4eTqsyFC0TyHAhso8bGhqwDAM6/fTtuZanOHzxzNlG8dYMYCc1w54SIbo6hQ3/8nnVlRj2Phco1uqrF3tfzK61lwDp5j5GLWy6dy3qY0dHz6nQohDBPyGcC7XGum3B/mLg1w7QWpwbKtlGBwUVhQmrPnibLUM4MrO80i45VXQABaOLiJXVY2MgFiUznI5CgMLuSpfDZwq78QTQaVRfCG1aFocqtubQr8y1waSyBw1I45IUQBCLhgtE/OqkNotaI2UD9fIAfCTknKjzFqC2yFS7ek2X7pXWAA8wYdg2hCilhETuTtz+wiOjlIq1HSAQUHUs9Mb5wUZiiCrZgRxPrMRs0a0Rlp3IjkBGLFQLbO6oQdThS11CJVop5FSTXekROxpf6BMLuIhJVUGE3Pi+nuBs/pYgYT2O7E6oAJC55Dad6M+0Nkg+iUYnd+jl+6W5l0+OwG++X0+wJkXG2774s97s1HCwPhBEUGdK1cDRl+jTu1hJtMtAPshENZ27nkE2Y9oQ1N864I4njyXv0CfhQvKSND66104mAIOvNhXDvhm+Dby6UKZCYyXoZCTpZzSIl2niEsxUQ5LQWZyMKyUFkKhcBQc5b/2H4U+2vmfXFV04EqawRRpDK8TVFKQfy2j8RQj6MPprihBx9axuVH9iEsjPffWZz2vrPDi0FKpv9FJEDYijnNAKn/6wCw5Xxfq0yHiRvgk3NBwq5/3Ze7mwH9tVCX8m/NMbcXrrdTd3VmOuBH6MmQAWk4JaYjHbfGywTd2MGqQQI8a30p8pus3I7sL8Ei3msSLcEy5ji4B9wpuy3zbdD/18vYmydQkHTI3Vx0fViCWf4ZioxmqhNivpQXvOp2zYLQe2mTdPQUpDwL7cLC6SwtfluYVkgVrUVIsrmyv91DJTKn0hYjQAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",rb="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.423462'%20width='24'%20height='24'%20rx='12'%20fill='%231C1326'/%3e%3cpath%20d='M15.6787%209.69931L16.5929%2010.7735C16.6976%2010.8942%2016.7904%2010.9934%2016.8279%2011.0499C17.1013%2011.3216%2017.2546%2011.6889%2017.2544%2012.0716C17.2288%2012.523%2016.9345%2012.8305%2016.662%2013.1594L16.0222%2013.9106L15.6885%2014.2998C15.6765%2014.3132%2015.6688%2014.3298%2015.6663%2014.3475C15.6638%2014.3652%2015.6666%2014.3832%2015.6743%2014.3993C15.6821%2014.4155%2015.6945%2014.429%2015.71%2014.4383C15.7255%2014.4476%2015.7434%2014.4522%2015.7616%2014.4515H19.0968C19.6062%2014.4515%2020.248%2014.8797%2020.2105%2015.5297C20.2095%2015.8251%2020.0899%2016.1081%2019.8779%2016.317C19.6659%2016.5259%2019.3788%2016.6437%2019.079%2016.6447H13.856C13.5124%2016.6447%2012.5883%2016.6817%2012.3296%2015.8936C12.2746%2015.7289%2012.2671%2015.5524%2012.3079%2015.3837C12.3831%2015.1343%2012.502%2014.8998%2012.6594%2014.6909C12.922%2014.3017%2013.2064%2013.9125%2013.4868%2013.535C13.8481%2013.0407%2014.2194%2012.5619%2014.5847%2012.0579C14.5977%2012.0415%2014.6047%2012.0213%2014.6047%2012.0005C14.6047%2011.9797%2014.5977%2011.9595%2014.5847%2011.9431L13.2577%2010.3863C13.2491%2010.375%2013.2379%2010.3658%2013.225%2010.3595C13.2122%2010.3532%2013.198%2010.3499%2013.1836%2010.3499C13.1693%2010.3499%2013.1551%2010.3532%2013.1423%2010.3595C13.1295%2010.3658%2013.1182%2010.375%2013.1096%2010.3863C12.7542%2010.8591%2011.1982%2012.9531%2010.8664%2013.3773C10.5346%2013.8016%209.71714%2013.8249%209.26493%2013.3773L7.18959%2011.3243C7.17633%2011.3112%207.1594%2011.3022%207.14103%2011.2986C7.12261%2011.295%207.10348%2011.2968%207.08614%2011.3039C7.06879%2011.311%207.05398%2011.323%207.04358%2011.3384C7.03317%2011.3538%207.02764%2011.3719%207.02768%2011.3904V15.3389C7.03256%2015.6192%206.94837%2015.8938%206.78689%2016.1245C6.6254%2016.3552%206.39473%2016.5303%206.12722%2016.6253C5.95626%2016.6839%205.77359%2016.7014%205.59439%2016.6763C5.41518%2016.6513%205.24465%2016.5843%205.09704%2016.4811C4.94943%2016.3779%204.82898%2016.2414%204.74575%2016.083C4.66252%2015.9246%204.61892%2015.7489%204.61859%2015.5705V8.47138C4.63049%208.21553%204.7239%207.96991%204.88554%207.76938C5.04719%207.56885%205.26884%207.42363%205.51901%207.35435C5.73365%207.298%205.95954%207.29856%206.17386%207.35599C6.38817%207.41341%206.58326%207.52563%206.73936%207.6813L9.93042%2010.83C9.93998%2010.8395%209.95151%2010.8469%209.96431%2010.8516C9.97706%2010.8562%209.9907%2010.8581%2010.0043%2010.857C10.0178%2010.8559%2010.031%2010.8518%2010.0428%2010.8451C10.0546%2010.8385%2010.0648%2010.8293%2010.0726%2010.8183L12.3395%207.72606C12.4442%207.60053%2012.5756%207.49905%2012.7243%207.42883C12.873%207.35856%2013.0355%207.32121%2013.2005%207.31933H19.0968C19.2581%207.31956%2019.4176%207.35378%2019.5644%207.41969C19.7113%207.48555%2019.8422%207.5816%2019.9484%207.70131C20.0546%207.82108%2020.1336%207.9618%2020.1802%208.11405C20.2267%208.2663%2020.2397%208.42661%2020.2184%208.58425C20.1768%208.85767%2020.0361%209.107%2019.8222%209.28592C19.6083%209.46485%2019.3358%209.56127%2019.0553%209.55728H15.7537C15.7371%209.55766%2015.7209%209.56244%2015.7068%209.57111C15.6928%209.57974%2015.6813%209.59197%2015.6736%209.60645C15.666%209.62099%2015.6624%209.63725%2015.6632%209.65356C15.6641%209.66992%2015.6695%209.68572%2015.6787%209.69931Z'%20fill='url(%23paint0_radial_6204_5907)'/%3e%3cdefs%3e%3cradialGradient%20id='paint0_radial_6204_5907'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(4.66396%207.31249)%20rotate(31.8526)%20scale(18.4306%2015.0426)'%3e%3cstop%20stop-color='%237500EB'/%3e%3cstop%20offset='0.48642'%20stop-color='%23E42575'/%3e%3cstop%20offset='0.791667'%20stop-color='%23E42575'/%3e%3cstop%20offset='1'%20stop-color='%23FF6914'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e",rE="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%20clip-path='url(%23clip0_6327_5988)'%3e%3crect%20width='24'%20height='24'%20rx='12'%20fill='black'/%3e%3crect%20x='5.37042'%20y='5.10571'%20width='14.1245'%20height='14.3972'%20fill='url(%23pattern0)'/%3e%3c/g%3e%3cdefs%3e%3cpattern%20id='pattern0'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_6327_5988'%20transform='matrix(0.00331001%200%200%200.00324732%20-0.161%20-0.168981)'/%3e%3c/pattern%3e%3cclipPath%20id='clip0_6327_5988'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3cimage%20id='image0_6327_5988'%20width='399'%20height='399'%20xlink:href='data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNtcwQwAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJDAAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkAZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMAAAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAAtr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR7AABMzQAAmZoAACZmAAAPXP/bAEMABQMEBAQDBQQEBAUFBQYHDAgHBwcHDwsLCQwRDxISEQ8RERMWHBcTFBoVEREYIRgaHR0fHx8TFyIkIh4kHB4fHv/bAEMBBQUFBwYHDggIDh4UERQeHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHv/CABEIAY8BjwMBIgACEQEDEQH/xAAbAAEBAQEBAQEBAAAAAAAAAAAACAYHBQECBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf2K5JLV2JEV2JEV2JE+V4IzbnDAAAA2Jnf1XYkRXYkRXYkRXYkD+KxpMPMAAAAAAAAAB6NdyJXYAAABO/O+ic7AAAG6wu6KSAAAAk2spNPFAAAAAAAAAB6NdyJXYAAABO/O+ic7AAAG6wu6KSAAAAk2spNPFAAAAAAAAAB6NdyJXYAAABO/O+ic7AAAG6wu6KSAAAAk2spNPFAAAAAAAAAB6NdyHXgAAABO/O+hc9AAAG6wu5KTAAAAk2spMPGAAAAAAAAAA3OGHRHOx0RzsdEc7HRPnPB1TauhnPHQxzx0Mc8dDHPMd3TDHLf3zsdEc7HRHOx0RzsbvDfkAAAAAAAAAAAAAAAUT0PnnQwAABhtzhibAAAAAAAAAAAAAAAAAAAAUT0PnnQwAABhtzhibAAAAAAAAAAAAAAAAAAAAUT0PnnQwAABhtzhibAAAAAAAAAAAAAAADYGPboYVuhhW6GFbr4dQ6Hwvdm5YYblhhuWGG5wzEnIm4/RhW6GFboYVuhhWyxoAAAAAAAAAB/fXsiV2AAAATpz7onOwAABuMPuikgAAAJLrSTTxQAAAAAAAAAejXciV2AAAATvzvonOwAABusLuikgAAAJNrKTTxQAAAAAAAAAejXciV2AAAATvzvonOwAABusLuikgAAAJNrKTTxQAAAAAAAAAejXciV2AAAATvzvonOwAABusLuikgAAAJNrKTTxQAAAAAAAAAf21zHPqFcJNFZJNFZJNFZJN+Gjwf34AAANljRZiS/0Vkk0Vkk0Vkk0VdJjygAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/8QAJRAAAAMIAwEBAQEAAAAAAAAAAAUwAQIDBAYWNTYHFEAVUIAR/9oACAEBAAEFAv7/AIUtMRXelOjpTo6U6OlOjpTo6U6OlOh6Tm3WJOyk0870p0dKdHSnR0p0dKdHSnR0p0RZaZhO+WUhsizcGE5BhIVtLwpc+QpCBCmD9CI45EcNITsAy8hbkUeQNgQoXZET3N+QtyKPIGwIULsiJ7m/IW5FHkDYEKF2RE9zfkLcijyBsCFC7Iie5vyFuRR5A2BChdkRPc35C3Io8gbAhQuyInub8hbkUeQNgQoXZET3N+Qvax2fRr5rG1AhQ7WMqNE7ax458spVBvLwLwOBeBwLwOBeBwLwOBeBwLwOA2rzj/KaJGHbLPJxZ5OLPJxZ5OLPJxZ5OLPJxZ5OKlIHCiC5Vxwx28DgXgcC8DgXgcC8DgXgcC8DgTFVG8aF7+P9fQrrW/yOP9fQrrW/yOP9fQrrW/yOP9fQrrW/yOP9fQrrW/yOP9fQrrW/yOP9fQrrW/yOP9fQrrW/fK04bzMG1DsWodi1DsWodi1DsWodi1DsNpU6YylTuEUOXWSC6yQXWSC6yQXWSC6yQXWSC6yQVSfwDKVdpY7ay1DsWodi1DsWodi1DsWodi1DsTFNHMCF5ZB1j88jXzrGVAhRDrHqjROXWOHHkLcijyBsCFC7Iie5vyFuRR5A2BChdkRPc35C3Io8gbAhQuyInub8hbkUeQNgQoXZET3N+QtyKPIGwIULsiJ7m/IW5FHkDYEKF2RE9zfkLcijyBsCFC7Iie5vySb7IU5DfciOIVxGhxj9Cjo0OBUKDWsdYaxHYxp5YM/PQHPrGg+saD6xoPrGg+saD6xoPrGgeNDJ5iThmZOu/WNB9Y0H1jQfWNB9Y0H1jQfWNBGMJ+ND/v8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPwEcf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8BHH//xAA5EAABAQUDCQcCBQUAAAAAAAACAQADBDCTETSyNUBEcnN0g5KxBRITITFQUUFhFDJxkaFCY4CBkP/aAAgBAQAGPwL/AD/tduHpp8iKq10iKatdIimrXSIpq10iKatdIimrXSIpq10iKat3ihX6Js1loQwr5UX0VAVrpEU1a6RFNWukRTVrpEU1a6RFNWukRTVrpEU1bvPHD0B+SBUzZy6L0M0FWF06FAAUsRE+kl4jkEBDFDVE+ZMOD4UIUtKxfsklQMUISSxUX6tFOHf5Hb4hT/S5rDbUesrhDJcapYZUfvLzEuaw21HrK4QyXGqWGVH7y8xLmsNtR6yuEMlxqlhlR+8vMS5rDbUesrhDJcapYZUfvLzEuaw21HrK4QyXGqWGVH7y8xLmsNtR6yuEMlxqlhlR+8vMS5rDbUesrhDJcapYZUfvLzEuaw6qtiI9HrKWxfR0NsmHtX1QsMqNJPRYg8S5sLlHoPEHyRTG1W0fkbR+RtH5G0fkbR+RtH5G0fkb1cJw2e9odovnhIp2eS+ZL8tpHO2kc7aRztpHO2kc7aRztpHO2kc7B2j2c+eD4Zpair5p90ZEUnJfdXbaPyNo/I2j8jaPyNo/I2j8jaPyMTvxQd976gNi+wcUpL/WHF7TxSkv9YcXtPFKS/1hxe08UpL/AFhxe08UpL/WHF7TxSkv9YcXtPFKS/1hxe08UpL/AFhxewI9CEsEvTvEiNdwqC13CoLXcKgtdwqC13CoLXcKgtdwqC1v4YV4gs97O7RA3dhqqLZ6L8KjXg6ZNeDpk14OmTXg6ZNeDpk14OmTXg6ZNeDpkw9n9ngb3xCS1e7/AAjW/hRT9XgtdwqC13CoLXcKgtdwqC13CoLXcKgtdwqCxPChbRHzXukirmzgS80V4KL+8olRLLXYqsmHtS2xCX+JUaApYiRBonNmsNtR6yuEMlxqlhlR+8vMS5rDbUesrhDJcapYZUfvLzEuaw21HrK4QyXGqWGVH7y8xLmsNtR6yuEMlxqlhlR+8vMS5rDbUesrhDJcapYZUfvLzEuaw21HrK4QyXGqWGVH7y8xLmsNtR6yuEMlxqlhlR+8vMS5q5eF6AaEv7shgSEJJaip9ZLzwyQu4CAtnzJhyekgito2r90kqqrYiNFvna2gb4yH9FXNu45jYh0PwD1URspRlcmylGVybKUZXJspRlcmylGVybKUZXJspRlcmsLtGLVF/vFLQQ7QixFPREfE2UoyuTZSjK5NlKMrk2UoyuTZSjK5NlKMrk2UoyuTeG+jol4K/wBJPVVP+AH/xAAoEAABAgUDBAIDAQAAAAAAAAABAPARMFFxwSFAYTFBUKGBsYCR0ZD/2gAIAQEAAT8h/P8A4J2T0nVhOrCdWE6sJ1YTqwnVhEoL6kgA9S9fFxED6TqwnVhOrCdWE6sJ1YTqwuEdA9jbRoBAyhMFC+2bQJIclZQALr9Rk6bVK0JIRH5kwD3GiAPYoPBFlygbVzolOryWGrfwHOiU6vJYat/Ac6JTq8lhq38BzolOryWGrfwHOiU6vJYat/Ac6JTq8lhq38BzolOryWGrfwBHCEmmiUMQEiBQ6mSNoEGLxSimxIg7YGgrRYL9/lczbrmbdczbrmbdczbrmbdczbowgDT0I6P2UWbMNLqCRprCC4m2XE2y4m2XE2y4m2XE2y4m2XE2y6tWBFjoS8NOUVDDlH9LmbdczbrmbdczbrmbdczbrmbdQuIIHQvB7I6mJ37q0lxo8S6tJcaPEurSXGjxLq0lxo8S6tJcaPEurSXGjxLq0lxo8S6tJcaPAFnDRj0isCYp1ZTqynVlOrKdWU6sp1ZR5onYf2QiPHWTpA9R2TqwnVhOrCdWE6sJ1YTqwnVhFzcVkIwOgOpMUNaj2ivtOrKdWU6sp1ZTqynVlOrKhN5o6FgYn42wJoOKghKBzI5Hc6j6AkwooGiOhjlDhBpQAtq50SnV5LDVv4DnRKdXksNW/gOdEp1eSw1b+A50SnV5LDVv4DnRKdXksNW/gOdEp1eSw1b+A50SnV5LDVv4EeP4sAFRD3GiAPcSYbaa6hB1HuTTmpESAe5IywESSYABR8BqpJG2FRr/ACYFNzKbmU3MpuZTcym5lNzKJes4Ew+5egkAAA9puZTcym5lNzKbmU3MpuZRl1HFb4J/wA//2gAMAwEAAgADAAAAEPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPNPPPOPPPPPPPPPPPPPPPPPPPPFPPPPPPPPPPPPPPPPPPPPPPPPFPPPPPPPPPPPPPPPPPPPPPPPPFPPPPPPPPPPPPPPPPPPPPPPPPHPPPOPPPPPPPPPPPPPPPLDDDDHPPPOLDDDLPPPPPPPPPPPPPPPPPPPKPPPPPPPPPPPPPPPPPPPPPPPPKPPPPPPPPPPPPPPPPPPPPPPPPKPPPPPPPPPPPPPPPPMMMNOMMMJMMMMPPPPPPPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPFPPPPPPPPPPPPPPPPPPPPPPPPFPPPPPPPPPPPPPPPPPPPPPPPPFPPPPPPPPPPPPPPPPPPPGPPPPNPPPPPPPPJPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP/xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/EBx//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPxAcf//EACYQAQABAwQBBQEBAQEAAAAAAAERACExMFDw8UFAUWFxgZGhgJD/2gAIAQEAAT8Q/wC/7iwi5HtITQrVq1atWrCYGTo91YGmFR4LPuJBNCtWrVq1ashDEGcXFwPTMgkmUNR+NBDFHgkAGjGQMElGBYlk+V0Z5/JGGs5ADHmL2oAINBHwCRqEGyJkowgOspMT9B689m533LVRHs3O+5aqI9m533LVRHs3O+5aqI9m533LVRHs3O+5aqI9m532jVRKGE+AMr9aRbEZ5iB/Ef3REhc/ylj/ADSBSf8AhFB/npgQrBGWBKMPeT812GvYa9hr2GvYa9hr2Gpvwi7fIkP6NGdVgHBWMCAAY8AD0GvQa9Br0GvQa9Br0GvQaoA4tpWaDaBQ+Uxag7pCD7WQfwrsNew17DXsNew17DXsNVC+nwRDKqvkhPCUlElbq+vxc7blW4udtyrcXO25VuLnbcq3FztuVbi523Ktxc7blW4udtprQPDZ/YhgPiQnJbQq1atWrVqnZQW6PwSalFaSYDLLyEHLNodGrVq1atWrVYBaqOR+8hLB7EzZWRExA+wcaFWrVq1atUQqIDAlRkHwX0xHUpwCT9KACDROYeHikfmB+aPkbIkEb9njSCi7bBED6D157NzvuWqiPZud9y1UR7NzvuWqiPZud9y1UR7NzvuWqiPZud9y1UR7NzvtGqigkRZmQf4UD4BI1IhZEw6MktLQEshaSx9kTJowshWgFKuJQfbotXweCJVWwBlr5etjM/RPTY2XGH0I86AMGDBgwYMKoQ8D2Ri0qsukbFYO/sAQNAGDBgwYMH/q6K5SP8/8AP/Z'/%3e%3c/defs%3e%3c/svg%3e",rv="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.8742%204.5804L18.5392%208.15088C18.8511%208.45416%2019.0047%208.76103%2018.9999%209.07026C18.995%209.3795%2018.8608%209.66136%2018.5984%209.91707C18.3239%2010.1847%2018.0277%2010.3203%2017.7109%2010.3262C17.3941%2010.331%2017.0797%2010.1811%2016.7677%209.87785L13.0193%206.22648C12.5937%205.8114%2012.1825%205.51762%2011.7872%205.34516C11.3917%205.1727%2010.9758%205.14535%2010.5405%205.26428C10.104%205.38203%209.63603%205.68532%209.13422%206.17295C8.44258%206.84733%208.11246%207.48007%208.14634%208.0712C8.18018%208.6623%208.52358%209.27602%209.17534%209.90996L12.954%2013.5922C13.2696%2013.8991%2013.4244%2014.2059%2013.4195%2014.5104C13.4147%2014.8161%2013.2793%2015.098%2013.012%2015.3584C12.746%2015.6177%2012.4522%2015.7533%2012.133%2015.764C11.8137%2015.7747%2011.4957%2015.6261%2011.1813%2015.3192L7.51634%2011.7487C6.92022%2011.1683%206.48975%2010.6188%206.22495%2010.1002C5.96014%209.58168%205.86099%208.99533%205.92991%208.34118C5.99158%207.78099%206.17416%207.23864%206.47887%206.71294C6.78237%206.18723%207.21768%205.64964%207.78237%205.09896C8.45466%204.44362%209.09673%203.94171%209.70858%203.59203C10.3192%203.24236%2010.9105%203.04849%2011.4812%203.00806C12.0532%202.96762%2012.6166%203.07942%2013.1741%203.34346C13.7315%203.6075%2014.2974%204.01902%2014.873%204.5804H14.8742Z'%20fill='url(%23paint0_linear_4212_6487)'/%3e%3cpath%20d='M9.12459%2018.9872L5.46081%2015.4167C5.14884%2015.1122%204.99527%2014.8066%205.00011%2014.4973C5.00495%2014.1881%205.13917%2013.9062%205.40156%2013.6505C5.67604%2013.3829%205.97229%2013.2473%206.28909%2013.2414C6.60589%2013.2366%206.92028%2013.3853%207.23225%2013.6897L10.9795%2017.3411C11.4063%2017.7562%2011.8162%2018.05%2012.2116%2018.2224C12.607%2018.3949%2013.023%2018.421%2013.4595%2018.3033C13.896%2018.1856%2014.3639%2017.8823%2014.8657%2017.3934C15.5574%2016.7191%2015.8875%2016.0863%2015.8537%2015.4952C15.8198%2014.9041%2015.4764%2014.2904%2014.8247%2013.6553L12.8114%2011.7106C12.4958%2011.4038%2012.341%2011.0969%2012.3458%2010.7925C12.3507%2010.4868%2012.4861%2010.2049%2012.7533%209.94445C13.0194%209.68514%2013.3132%209.54957%2013.6324%209.53887C13.9516%209.52816%2014.2696%209.67682%2014.584%209.9837L16.4824%2011.8165C17.0785%2012.3969%2017.509%2012.9464%2017.7738%2013.465C18.0386%2013.9835%2018.1378%2014.5699%2018.0688%2015.224C18.0072%2015.7842%2017.8246%2016.3266%2017.5199%2016.8523C17.2164%2017.378%2016.7811%2017.9156%2016.2164%2018.4663C15.5441%2019.1216%2014.902%2019.6235%2014.2902%2019.9732C13.6783%2020.3229%2013.0871%2020.5179%2012.5151%2020.5583C11.9432%2020.5988%2011.3797%2020.487%2010.8223%2020.2229C10.2648%2019.9589%209.69894%2019.5474%209.12338%2018.986L9.12459%2018.9872Z'%20fill='url(%23paint1_linear_4212_6487)'/%3e%3cpath%20d='M11.4098%209.77448C12.153%209.77448%2012.7556%209.18182%2012.7556%208.4507C12.7556%207.71962%2012.153%207.12695%2011.4098%207.12695C10.6665%207.12695%2010.064%207.71962%2010.064%208.4507C10.064%209.18182%2010.6665%209.77448%2011.4098%209.77448Z'%20fill='url(%23paint2_radial_4212_6487)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4212_6487'%20x1='17.9364'%20y1='6.66057'%20x2='6.64095'%20y2='11.7639'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23201C1B'/%3e%3cstop%20offset='0.36'%20stop-color='%2377390D'/%3e%3cstop%20offset='0.67'%20stop-color='%23EA8101'/%3e%3cstop%20offset='1'%20stop-color='%23F4B852'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_4212_6487'%20x1='6.3763'%20y1='17.0541'%20x2='19.5023'%20y2='13.0825'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%231F1D1C'/%3e%3cstop%20offset='0.37'%20stop-color='%2377390D'/%3e%3cstop%20offset='0.67'%20stop-color='%23EA8101'/%3e%3cstop%20offset='1'%20stop-color='%23F4FB52'/%3e%3c/linearGradient%3e%3cradialGradient%20id='paint2_radial_4212_6487'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(11.4098%208.45191)%20scale(1.34581%201.32377)'%3e%3cstop%20stop-color='%23F4B852'/%3e%3cstop%20offset='0.33'%20stop-color='%23EA8101'/%3e%3cstop%20offset='0.64'%20stop-color='%2377390D'/%3e%3cstop%20offset='1'%20stop-color='%23211C1D'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e",rP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.4283%2019.185V16.4677C19.4283%2016.36%2019.3855%2016.2572%2019.3092%2016.1809L7.74741%204.61916C7.67106%204.54281%207.56829%204.5%207.46055%204.5H4.74332C4.60917%204.5%204.5%204.60917%204.5%204.74332V7.26787C4.5%207.37562%204.54281%207.47837%204.61916%207.55472L8.76923%2011.7047C8.86412%2011.7997%208.86412%2011.9538%208.76923%2012.0487L4.57136%2016.2465C4.52569%2016.2922%204.5%2016.3543%204.5%2016.4185V19.185C4.5%2019.319%204.60917%2019.4283%204.74332%2019.4283H9.28369C9.41784%2019.4283%209.527%2019.319%209.527%2019.185V17.5552C9.527%2017.491%209.55271%2017.4289%209.59838%2017.3832L11.8504%2015.1312C11.9453%2015.0363%2012.0994%2015.0363%2012.1943%2015.1312L16.3729%2019.3099C16.4492%2019.3862%2016.552%2019.429%2016.6597%2019.429H19.1843C19.3185%2019.429%2019.4276%2019.3198%2019.4276%2019.1857L19.4283%2019.185Z'%20fill='white'/%3e%3cpath%20d='M13.372%208.09816H15.6461C15.781%208.09816%2015.8909%208.20805%2015.8909%208.34292V10.617C15.8909%2010.8353%2016.1549%2010.9445%2016.309%2010.7897L19.4287%207.66505C19.4743%207.61937%2019.5001%207.5573%2019.5001%207.49236V4.75588C19.5001%204.62102%2019.3908%204.51114%2019.2553%204.51114L16.4781%204.50757C16.4132%204.50757%2016.3511%204.53326%2016.3047%204.57892L13.1986%207.68003C13.0445%207.83415%2013.1537%208.09816%2013.3713%208.09816H13.372Z'%20fill='%23EE7A30'/%3e%3c/svg%3e";function rS(e,t=4,r=5){if(e.length<=t+r)return e;let n=e.slice(0,t),i=e.slice(e.length-r);return`${n}...${i}`}let rT={[em.MAGICEDEN]:rb,[em.UNISAT]:rv,[em.XVERSE]:rP,[em.LEATHER]:rw,[em.OKX]:rE},rI={[eg.MAINNET]:"Mainnet",[eg.TESTNET]:"Testnet",[eg.SIGNET]:"Signet"};function rk({address:e,network:t,onViewProfile:r,onChangeWallet:n,onDisconnectWallet:i,renderAvatar:o}){let{wallet:a}=eE();return ep.jsx(rr,{as:"section",className:"ord-connect-font ord-wallet-connected-container relative inline-block text-left",children:({open:s})=>ep.jsxs(ep.Fragment,{children:[ep.jsxs(rr.Button,{className:"ord-wallet-connected-button",children:[ep.jsxs("div",{className:"wallet-identifier-container",children:[o?o(e,"large"):ep.jsx(eP,{size:28,variant:"beam",name:e,colors:["#1C2DCB","#F226B8"]}),ep.jsx("img",{src:rT[a],alt:`${a} is connected`})]}),ep.jsxs("section",{className:"address-container",children:[ep.jsx("p",{className:"address",children:rS(e)}),ep.jsxs("section",{className:"network-container",children:[ep.jsx("div",{className:"status-indicator"}),ep.jsx("p",{className:"network",children:rI[t]??t})]})]}),ep.jsx("img",{src:"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%207.5L10%2012.5L15%207.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",className:`dropdown-button ${s?"close-dropdown-button":"expand-dropdown-button"}`,alt:"ord connect dropdown"})]}),ep.jsx(rA,{as:U.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:ep.jsxs(rr.Items,{className:"ord-wallet-connection-dropdown",children:[ep.jsxs(rr.Item,{as:"button",className:"dropdown-button",onClick:()=>null==r?void 0:r(),children:[ep.jsx("span",{className:"label",children:"View profile"}),ep.jsx("span",{className:"value",children:rS(e)})]}),ep.jsx(rr.Item,{as:"button",className:"dropdown-button",onClick:()=>null==n?void 0:n(),children:ep.jsx("span",{className:"change-wallet-label",children:"Change wallet"})}),ep.jsx("hr",{className:"horizontal-separator"}),ep.jsxs(rr.Item,{as:"button",className:"dropdown-button",onClick:()=>null==i?void 0:i(),children:[ep.jsx("span",{className:"label",children:"Disconnect wallet"}),ep.jsx("img",{src:"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.5%2017.5H4.16667C3.72464%2017.5%203.30072%2017.3244%202.98816%2017.0118C2.67559%2016.6993%202.5%2016.2754%202.5%2015.8333V4.16667C2.5%203.72464%202.67559%203.30072%202.98816%202.98816C3.30072%202.67559%203.72464%202.5%204.16667%202.5H7.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.333%2014.1667L17.4997%2010L13.333%205.83337'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%2010H7.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",className:"logout-icon",alt:"logout"})]})]})})]})})}function rO({openModal:e,disabled:t}){return ep.jsx("button",{type:"button",onClick:e,disabled:t,"data-testid":"connect-wallet-button",className:"ord-connect-font ord-connect-wallet-button",children:ep.jsx("span",{})})}async function r_(){let e=0;for(;e<20;){if("u">typeof window&&window.unisat)try{let e=await window.unisat.getAccounts();if(e&&e.length>0)return!0}catch{break}e+=1,await new Promise(e=>{setTimeout(e,100)})}return!1}let rx={[em.MAGICEDEN]:"Magic Eden",[em.UNISAT]:"UniSat",[em.XVERSE]:"Xverse",[em.LEATHER]:"Leather",[em.OKX]:"OKX"};function rC({wallet:e,subtitle:t,onConnect:r,icon:n,setErrorMessage:i,isDisabled:o,isMobileDevice:a,renderAvatar:s,isPreferred:l}){let{wallet:u,address:c}=eE(),[{connectedWallet:f,connectedAddress:p}]=(0,U.useState)({connectedWallet:u,connectedAddress:c}),[h,d]=(0,U.useState)(!1),y=rx[e],g=(0,U.useCallback)(async()=>{d(!0),await Promise.race([r().then(()=>d(!1)).catch(()=>d(!1)),new Promise(e=>{setTimeout(()=>e("timeout"),5e3)})])==="timeout"?i("No wallet pop-up? The extension is not responding. Try reloading your browser."):d(!1)},[r,i]),m=f===e&&p.ordinals;return ep.jsx("button",{type:"button",className:"wallet-option-button",onClick:g,disabled:o,children:ep.jsxs("div",{className:"option-wrapper",children:[ep.jsx("img",{className:"wallet-icon",src:n,alt:""}),ep.jsxs("div",{className:"wallet-option",children:[ep.jsx("span",{className:"wallet-option-label",children:y}),ep.jsx("span",{className:"wallet-option-subtitle",style:{display:a?"block":"none"},children:t})]}),f===e&&p.ordinals?ep.jsxs("div",{className:"wallet-option-connected-address",children:[s?s(p.ordinals,"small"):ep.jsx(eP,{size:16,variant:"beam",name:p.ordinals,colors:["#1C2DCB","#F226B8"]}),ep.jsx("span",{className:"label",children:rS(p.ordinals)})]}):null,!m&&l?ep.jsx("span",{className:"preferred-label",children:"Preferred"}):null,h?ep.jsx("img",{src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20stroke='%23fff'%3e%3cg%20fill='none'%20fill-rule='evenodd'%20stroke-width='2'%3e%3ccircle%20cx='22'%20cy='22'%20r='1'%3e%3canimate%20attributeName='r'%20begin='0s'%20dur='1.8s'%20values='1;%2020'%20calcMode='spline'%20keyTimes='0;%201'%20keySplines='0.165,%200.84,%200.44,%201'%20repeatCount='indefinite'/%3e%3canimate%20attributeName='stroke-opacity'%20begin='0s'%20dur='1.8s'%20values='1;%200'%20calcMode='spline'%20keyTimes='0;%201'%20keySplines='0.3,%200.61,%200.355,%201'%20repeatCount='indefinite'/%3e%3c/circle%3e%3ccircle%20cx='22'%20cy='22'%20r='1'%3e%3canimate%20attributeName='r'%20begin='-0.9s'%20dur='1.8s'%20values='1;%2020'%20calcMode='spline'%20keyTimes='0;%201'%20keySplines='0.165,%200.84,%200.44,%201'%20repeatCount='indefinite'/%3e%3canimate%20attributeName='stroke-opacity'%20begin='-0.9s'%20dur='1.8s'%20values='1;%200'%20calcMode='spline'%20keyTimes='0;%201'%20keySplines='0.3,%200.61,%200.355,%201'%20repeatCount='indefinite'/%3e%3c/circle%3e%3c/g%3e%3c/svg%3e",width:24,alt:`${y} extension is loading`}):ep.jsx("img",{src:"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2018L15%2012L9%206'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",alt:"Chevron Right",width:24,height:24,className:"chveron-btn"})]})})}let rN={[em.OKX]:"https://www.okx.com/web3",[em.MAGICEDEN]:"https://wallet.magiceden.io/",[em.UNISAT]:"https://unisat.io/download",[em.XVERSE]:"https://www.xverse.app/download",[em.LEATHER]:"https://leather.io/install-extension"};function rB({isOpen:e,closeModal:t,renderAvatar:r,preferredWallet:n,walletsOrder:i}){let{updateAddress:o,network:a,updateWallet:s,updatePublicKey:l,updateFormat:u,wallet:c,format:f,address:p,publicKey:h,disconnectWallet:d}=eE(),[y,g]=(0,U.useState)(""),m=!(typeof window>"u")&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent),A=(0,U.useCallback)((e,t)=>{t instanceof L.ki&&window.open(rN[e],"_blank","noopener,noreferrer"),g(t.message??t.toString()),console.error(`Error while connecting to ${e} wallet`,t),d()},[d]),w=(0,U.useCallback)(async()=>{if("testnet"===a){let e=Error("Magic Eden wallet is not supported on testnet");return A(em.MAGICEDEN,e),!1}try{g("");let e=await (0,F.ZK)(a);if(!e||e.length<1)throw d(),Error("Magic Eden via Ordit returned no addresses.");let r=e.find(e=>"segwit"===e.format||"p2sh-p2wpkh"===e.format);if(!r)throw Error("Magic Eden via Ordit did not return a P2SH or Segwit address.");let n=e.find(e=>"taproot"===e.format);if(!n)throw Error("Magic Eden via Ordit did not return a Taproot address.");return o({ordinals:n.address,payments:r.address}),l({ordinals:n.publicKey,payments:r.publicKey}),s(em.MAGICEDEN),u({ordinals:n.format,payments:r.format}),t(),!0}catch(e){return A(em.MAGICEDEN,e),!1}},[t,d,a,A,o,u,l,s]),b=(0,U.useCallback)(async({readOnly:e}={})=>{try{g("");let r=await (0,M.ZK)(a,e);if(!r||r.length<1)throw d(),Error("Unisat via Ordit returned no addresses.");let n=r[0];return o({ordinals:n.address,payments:n.address}),l({ordinals:n.publicKey,payments:n.publicKey}),s(em.UNISAT),u({ordinals:n.format,payments:n.format}),t(),!0}catch(e){return A(em.UNISAT,e),!1}},[t,d,a,A,o,u,l,s]),E=(0,U.useCallback)(async()=>{try{g("");let e=await (0,j.ZK)(a);if(!e||e.length<1)throw d(),Error("Xverse via Ordit returned no addresses.");let r=e.find(e=>"p2sh-p2wpkh"===e.format||"segwit"===e.format);if(!r)throw Error("Xverse via Ordit did not return a P2SH or Segwit address.");let n=e.find(e=>"taproot"===e.format);if(!n)throw Error("Xverse via Ordit did not return a Taproot address.");return o({ordinals:n.address,payments:r.address}),l({ordinals:n.publicKey,payments:r.publicKey}),s(em.XVERSE),u({ordinals:n.format,payments:r.format}),t(),!0}catch(e){return A(em.XVERSE,e),!1}},[t,d,a,A,o,u,l,s]),v=(0,U.useCallback)(async()=>{try{g("");let e=await (0,H.ZK)(a);if(!e||e.length<1)throw d(),Error("Leather via Ordit returned no addresses.");let r=e.find(e=>"segwit"===e.format);if(!r)throw Error("Leather via Ordit did not return a Segwit address.");let n=e.find(e=>"taproot"===e.format);if(!n)throw Error("Leather via Ordit did not return a Taproot address.");return o({ordinals:n.address,payments:r.address}),l({ordinals:n.publicKey,payments:r.publicKey}),s(em.LEATHER),u({ordinals:n.format,payments:r.format}),t(),!0}catch(e){return A(em.LEATHER,e),!1}},[t,d,a,A,o,u,l,s]),P=(0,U.useCallback)(async()=>{try{g("");let e=await (0,D.ZK)(a);if(!e||e.length<1)throw d(),Error("OKX via Ordit returned no addresses.");let r=e[0];return o({ordinals:r.address,payments:r.address}),l({ordinals:r.publicKey,payments:r.publicKey}),s(em.OKX),u({ordinals:r.format,payments:r.format}),t(),!0}catch(e){return A(em.OKX,e),!1}},[t,d,a,A,o,u,l,s]);(0,U.useEffect)(()=>{if(c!==em.UNISAT)return;let e=!0,t=!1,r=()=>b();return p&&h&&f&&(async()=>{let n=await r_();if(e){if(!n){d();return}t=await b({readOnly:!0}),e&&t&&window.unisat.addListener("accountsChanged",r)}})(),()=>{e=!1,t&&window.unisat.removeListener("accountsChanged",r)}},[c,b,d]);let S=(0,U.useMemo)(()=>{let e=[{wallet:em.OKX,subtitle:"Available on OKX app",onConnect:P,icon:rE,setErrorMessage:g,isMobileDevice:m,renderAvatar:r,isAvailable:!m||m&&a===eg.MAINNET,order:20},{wallet:em.UNISAT,subtitle:"Coming soon on mobile browsing",onConnect:b,icon:rv,setErrorMessage:g,isMobileDevice:m,renderAvatar:r,isAvailable:!m,order:21},{wallet:em.XVERSE,subtitle:"Available on Xverse app",onConnect:E,icon:rP,setErrorMessage:g,isMobileDevice:m,renderAvatar:r,isAvailable:!0,order:22},{wallet:em.MAGICEDEN,subtitle:"Coming soon on mobile browsing",onConnect:w,icon:rb,setErrorMessage:g,isDisabled:m,isMobileDevice:m,renderAvatar:r,isAvailable:!m,order:23},{wallet:em.LEATHER,subtitle:"Coming soon on mobile browsing",onConnect:v,icon:rw,setErrorMessage:g,isDisabled:m,isMobileDevice:m,renderAvatar:r,isAvailable:!m,order:24}];return i?e.map(e=>{let t=i.findIndex(t=>t===e.wallet);return t>=0?{...e,order:t}:e}).sort((e,t)=>e.order-t.order):e},[i,m,a,v,w,P,b,E,r]);return ep.jsx(rA,{appear:!0,show:e,as:U.Fragment,children:ep.jsxs(t$,{as:"div",className:"ord-connect-font ord-connect-wallet-modal",onClose:t,children:[ep.jsx(rA.Child,{as:U.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:ep.jsx("section",{className:"backdrop"})}),ep.jsx("section",{className:"outer-container",children:ep.jsx("div",{className:"inner-container",children:ep.jsx(rA.Child,{as:U.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:ep.jsxs(t$.Panel,{className:"panel",children:[ep.jsxs("section",{className:"panel-title-container",children:[ep.jsx(t$.Title,{as:"h3",className:"panel-title",children:"Choose Bitcoin wallet to connect"}),ep.jsx("button",{type:"button",onClick:t,className:"close-button",children:ep.jsx("img",{src:"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022Z'%20stroke='%23F2F2F2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%209L9%2015'%20stroke='%23F2F2F2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%209L15%2015'%20stroke='%23F2F2F2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",alt:"close modal"})})]}),ep.jsxs("section",{className:"panel-content-container",children:[ep.jsx("section",{className:"panel-content-inner-container",children:S.map((e,t)=>{if(!e.isAvailable)return null;let r=t===S.length-1;return ep.jsxs(ep.Fragment,{children:[ep.jsx(rC,{wallet:e.wallet,subtitle:e.subtitle,onConnect:e.onConnect,icon:e.icon,setErrorMessage:e.setErrorMessage,isMobileDevice:e.isMobileDevice,renderAvatar:e.renderAvatar,isPreferred:n===e.wallet}),!r&&ep.jsx("hr",{className:"horizontal-separator"})]})})}),ep.jsx("p",{className:"error-message",children:y})]})]})})})})]})})}function rR({hideConnectButton:e,onViewProfile:t,onChangeWalletClick:r,onDisconnectWalletClick:n,renderAvatar:i,preferredWallet:o,walletsOrder:a}){let{address:s,disconnectWallet:l,network:u,isModalOpen:c,openModal:f,closeModal:p}=eE(),h=function(){let[e,t]=(0,U.useState)(!1);return(0,U.useEffect)(()=>{t(!0)},[]),e}();return ep.jsxs(ep.Fragment,{children:[e?null:null!=s&&s.ordinals?ep.jsx(rk,{address:s.ordinals,network:u,onViewProfile:t,onChangeWallet:()=>{f(),null==r||r()},onDisconnectWallet:()=>{l(),null==n||n()},renderAvatar:i}):ep.jsx(rO,{disabled:!h,openModal:f}),h?ep.jsx(rB,{isOpen:c,closeModal:p,renderAvatar:i,preferredWallet:o,walletsOrder:a}):null]})}var rU=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,rL=Math.ceil,rH=Math.floor,rF="[BigNumber Error] ",rD=rF+"Number primitive has more than 15 significant digits: ",rM=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function rj(e){var t=0|e;return e>0||e===t?t:t-1}function rV(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function rK(e,t){var r,n,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,u=t.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=l==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return l>u^r?1:-1;for(s=(l=i.length)<(u=o.length)?l:u,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return l==u?0:l>u^r?1:-1}function rW(e,t,r,n){if(e<t||e>r||e!==rH(e))throw Error(rF+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function rG(e){var t=e.c.length-1;return rj(e.e/14)==t&&e.c[t]%2!=0}function rX(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function rq(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}async function rz({address:e,wallet:t,network:r,psbt:n,options:i}){var o,a;if(null!=(o=null==i?void 0:i.signingIndexes)&&o.length&&null!=(a=null==i?void 0:i.inputsToSign)&&a.length)throw Error("Cannot have both indexes and inputs to sign together");let s=(null==i?void 0:i.finalize)??!0,l=(null==i?void 0:i.extractTx)??!0,u=()=>n.data.inputs.map((e,t)=>t);if(t===em.MAGICEDEN)return await (0,F.FN)(n,{network:r,inputsToSign:(null==i?void 0:i.inputsToSign)??[{address:e,signingIndexes:(null==i?void 0:i.signingIndexes)??u(),sigHash:null==i?void 0:i.sigHash}],finalize:s,extractTx:l});if(t===em.UNISAT)return await (0,M.FN)(n,{finalize:s,extractTx:l});if(t===em.XVERSE)return await (0,j.FN)(n,{network:r,inputsToSign:(null==i?void 0:i.inputsToSign)??[{address:e,signingIndexes:(null==i?void 0:i.signingIndexes)??u(),sigHash:null==i?void 0:i.sigHash}],finalize:s,extractTx:l});if(t===em.LEATHER)return await (0,H.FN)(n,{network:r,finalize:s,extractTx:l,allowedSighash:null!=i&&i.sigHash?[null==i?void 0:i.sigHash]:[],signAtIndexes:(null==i?void 0:i.signingIndexes)??u()});if(t===em.OKX)return await (0,D.FN)(n,{finalize:s,extractTx:l,network:r,inputsToSign:(null==i?void 0:i.inputsToSign)??[{address:e,signingIndexes:(null==i?void 0:i.signingIndexes)??u(),sigHash:null==i?void 0:i.sigHash}]});throw Error("Invalid wallet selected")}!function e(t){var r,n,i,o,a,s,l,u,c,f=T.prototype={constructor:T,toString:null,valueOf:null},p=new T(1),h=20,d=4,y=-7,g=21,m=-1e7,A=1e7,w=!1,b=1,E=0,v={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz",S=!0;function T(e,t){var r,n,i,o,a,s,l,f,p=this;if(!(p instanceof T))return new T(e,t);if(null==t){if(e&&!0===e._isBigNumber){p.s=e.s,!e.c||e.e>A?p.c=p.e=null:e.e<m?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice());return}if((s="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,a=e;a>=10;a/=10,o++);o>A?p.c=p.e=null:(p.e=o,p.c=[e]);return}f=String(e)}else{if(!rU.test(f=String(e)))return c(p,f,s);p.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(o=f.indexOf("."))>-1&&(f=f.replace(".","")),(a=f.search(/e/i))>0?(o<0&&(o=a),o+=+f.slice(a+1),f=f.substring(0,a)):o<0&&(o=f.length)}else{if(rW(t,2,P.length,"Base"),10==t&&S)return _(p=new T(e),h+p.e+1,d);if(f=String(e),s="number"==typeof e){if(0*e!=0)return c(p,f,s,t);if(p.s=1/e<0?(f=f.slice(1),-1):1,T.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(rD+e)}else p.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=P.slice(0,t),o=a=0,l=f.length;a<l;a++)if(0>r.indexOf(n=f.charAt(a))){if("."==n){if(a>o){o=l;continue}}else if(!i&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){i=!0,a=-1,o=0;continue}return c(p,String(e),s,t)}s=!1,(o=(f=u(f,t,10,p.s)).indexOf("."))>-1?f=f.replace(".",""):o=f.length}for(a=0;48===f.charCodeAt(a);a++);for(l=f.length;48===f.charCodeAt(--l););if(f=f.slice(a,++l)){if(l-=a,s&&T.DEBUG&&l>15&&(e>9007199254740991||e!==rH(e)))throw Error(rD+p.s*e);if((o=o-a-1)>A)p.c=p.e=null;else if(o<m)p.c=[p.e=0];else{if(p.e=o,p.c=[],a=(o+1)%14,o<0&&(a+=14),a<l){for(a&&p.c.push(+f.slice(0,a)),l-=14;a<l;)p.c.push(+f.slice(a,a+=14));a=14-(f=f.slice(a)).length}else a-=l;for(;a--;f+="0");p.c.push(+f)}}else p.c=[p.e=0]}function I(e,t,r,n){var i,o,a,s,l;if(null==r?r=d:rW(r,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)l=rV(e.c),l=1==n||2==n&&(a<=y||a>=g)?rX(l,a):rq(l,a,"0");else if(o=(e=_(new T(e),t,r)).e,s=(l=rV(e.c)).length,1==n||2==n&&(t<=o||o<=y)){for(;s<t;l+="0",s++);l=rX(l,o)}else if(t-=a,l=rq(l,o,"0"),o+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-s)>0)for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function k(e,t){for(var r,n,i=1,o=new T(e[0]);i<e.length;i++)(n=new T(e[i])).s&&(r=rK(o,n))!==t&&(0!==r||o.s!==t)||(o=n);return o}function O(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>A?e.c=e.e=null:r<m?e.c=[e.e=0]:(e.e=r,e.c=t),e}function _(e,t,r,n){var i,o,a,s,l,u,c,f=e.c;if(f){e:{for(i=1,s=f[0];s>=10;s/=10,i++);if((o=t-i)<0)o+=14,a=t,c=rH((l=f[u=0])/rM[i-a-1]%10);else if((u=rL((o+1)/14))>=f.length){if(n){for(;f.length<=u;f.push(0));l=c=0,i=1,o%=14,a=o-14+1}else break e}else{for(l=s=f[u],i=1;s>=10;s/=10,i++);o%=14,c=(a=o-14+i)<0?0:rH(l/rM[i-a-1]%10)}if(n=n||t<0||null!=f[u+1]||(a<0?l:l%rM[i-a-1]),n=r<4?(c||n)&&(0==r||r==(e.s<0?3:2)):c>5||5==c&&(4==r||n||6==r&&(o>0?a>0?l/rM[i-a]:0:f[u-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,n?(t-=e.e+1,f[0]=rM[(14-t%14)%14],e.e=-t||0):f[0]=e.e=0,e;if(0==o?(f.length=u,s=1,u--):(f.length=u+1,s=rM[14-o],f[u]=a>0?rH(l/rM[i-a]%rM[a])*s:0),n)for(;;)if(0==u){for(o=1,a=f[0];a>=10;a/=10,o++);for(a=f[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,1e14==f[0]&&(f[0]=1));break}else{if(f[u]+=s,1e14!=f[u])break;f[u--]=0,s=1}for(o=f.length;0===f[--o];f.pop());}e.e>A?e.c=e.e=null:e.e<m&&(e.c=[e.e=0])}return e}function x(e){var t,r=e.e;return null===r?e.toString():(t=rV(e.c),t=r<=y||r>=g?rX(t,r):rq(t,r,"0"),e.s<0?"-"+t:t)}return T.clone=e,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(rW(r=e[t],0,1e9,t),h=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(rW(r=e[t],0,8,t),d=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(rW(r[0],-1e9,0,t),rW(r[1],0,1e9,t),y=r[0],g=r[1]):(rW(r,-1e9,1e9,t),y=-(g=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)rW(r[0],-1e9,-1,t),rW(r[1],1,1e9,t),m=r[0],A=r[1];else if(rW(r,-1e9,1e9,t),r)m=-(A=r<0?-r:r);else throw Error(rF+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))w=r;else throw w=!r,Error(rF+"crypto unavailable")}else w=r}else throw Error(rF+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(rW(r=e[t],0,9,t),b=r),e.hasOwnProperty(t="POW_PRECISION")&&(rW(r=e[t],0,1e9,t),E=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))v=r;else throw Error(rF+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(rF+t+" invalid: "+r);S="0123456789"==r.slice(0,10),P=r}}else throw Error(rF+"Object expected: "+e)}return{DECIMAL_PLACES:h,ROUNDING_MODE:d,EXPONENTIAL_AT:[y,g],RANGE:[m,A],CRYPTO:w,MODULO_MODE:b,POW_PRECISION:E,FORMAT:v,ALPHABET:P}},T.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!T.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===o||-1===o)&&i>=-1e9&&i<=1e9&&i===rH(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==rH(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(rF+"Invalid BigNumber: "+e)},T.maximum=T.max=function(){return k(arguments,-1)},T.minimum=T.min=function(){return k(arguments,1)},T.random=(r=9007199254740992*Math.random()&2097151?function(){return rH(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,i,o,a,s=0,l=[],u=new T(p);if(null==e?e=h:rW(e,0,1e9),o=rL(e/14),w){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(a=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(l.push(a%1e14),s+=2);s=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);s<o;)(a=(31&t[s])*281474976710656+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(l.push(a%1e14),s+=7);s=o/7}else throw w=!1,Error(rF+"crypto unavailable")}if(!w)for(;s<o;)(a=r())<9e15&&(l[s++]=a%1e14);for(o=l[--s],e%=14,o&&e&&(a=rM[14-e],l[s]=rH(o/a)*a);0===l[s];l.pop(),s--);if(s<0)l=[i=0];else{for(i=-1;0===l[0];l.splice(0,1),i-=14);for(s=1,a=l[0];a>=10;a/=10,s++);s<14&&(i-=14-s)}return u.e=i,u.c=l,u}),T.sum=function(){for(var e=1,t=arguments,r=new T(t[0]);e<t.length;)r=r.plus(t[e++]);return r},u=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>r-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}return function(r,n,i,o,a){var s,u,c,f,p,y,g,m,A=r.indexOf("."),w=h,b=d;for(A>=0&&(f=E,E=0,r=r.replace(".",""),y=(m=new T(n)).pow(r.length-A),E=f,m.c=t(rq(rV(y.c),y.e,"0"),10,i,e),m.e=m.c.length),c=f=(g=t(r,n,i,a?(s=P,e):(s=e,P))).length;0==g[--f];g.pop());if(!g[0])return s.charAt(0);if(A<0?--c:(y.c=g,y.e=c,y.s=o,g=(y=l(y,m,w,b,i)).c,p=y.r,c=y.e),A=g[u=c+w+1],f=i/2,p=p||u<0||null!=g[u+1],p=b<4?(null!=A||p)&&(0==b||b==(y.s<0?3:2)):A>f||A==f&&(4==b||p||6==b&&1&g[u-1]||b==(y.s<0?8:7)),u<1||!g[0])r=p?rq(s.charAt(1),-w,s.charAt(0)):s.charAt(0);else{if(g.length=u,p)for(--i;++g[--u]>i;)g[u]=0,u||(++c,g=[1].concat(g));for(f=g.length;!g[--f];);for(A=0,r="";A<=f;r+=s.charAt(g[A++]));r=rq(r,c,s.charAt(0))}return r}}(),l=function(){function e(e,t,r){var n,i,o,a,s=0,l=e.length,u=t%1e7,c=t/1e7|0;for(e=e.slice();l--;)n=c*(o=e[l]%1e7)+(a=e[l]/1e7|0)*u,s=((i=u*o+n%1e7*1e7+s)/r|0)+(n/1e7|0)+c*a,e[l]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,a,s){var l,u,c,f,p,h,d,y,g,m,A,w,b,E,v,P,S,I=n.s==i.s?1:-1,k=n.c,O=i.c;if(!k||!k[0]||!O||!O[0])return new T(n.s&&i.s&&(k?!O||k[0]!=O[0]:O)?k&&0==k[0]||!O?0*I:I/0:NaN);for(g=(y=new T(I)).c=[],I=o+(u=n.e-i.e)+1,s||(s=1e14,u=rj(n.e/14)-rj(i.e/14),I=I/14|0),c=0;O[c]==(k[c]||0);c++);if(O[c]>(k[c]||0)&&u--,I<0)g.push(1),f=!0;else{for(E=k.length,P=O.length,c=0,I+=2,(p=rH(s/(O[0]+1)))>1&&(O=e(O,p,s),k=e(k,p,s),P=O.length,E=k.length),b=P,A=(m=k.slice(0,P)).length;A<P;m[A++]=0);S=[0].concat(S=O.slice()),v=O[0],O[1]>=s/2&&v++;do{if(p=0,(l=t(O,m,P,A))<0){if(w=m[0],P!=A&&(w=w*s+(m[1]||0)),(p=rH(w/v))>1)for(p>=s&&(p=s-1),d=(h=e(O,p,s)).length,A=m.length;1==t(h,m,d,A);)p--,r(h,P<d?S:O,d,s),d=h.length,l=1;else 0==p&&(l=p=1),d=(h=O.slice()).length;if(d<A&&(h=[0].concat(h)),r(m,h,A,s),A=m.length,-1==l)for(;1>t(O,m,P,A);)p++,r(m,P<A?S:O,A,s),A=m.length}else 0===l&&(p++,m=[0]);g[c++]=p,m[0]?m[A++]=k[b]||0:(m=[k[b]],A=1)}while((b++<E||null!=m[0])&&I--);f=null!=m[0],g[0]||g.splice(0,1)}if(1e14==s){for(c=1,I=g[0];I>=10;I/=10,c++);_(y,o+(y.e=c+14*u-1)+1,a,f)}else y.e=u,y.r=+f;return y}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,o=/^\.([^.]+)$/,a=/^-?(Infinity|NaN)$/,s=/^\s*\+(?=[\w.])|^\s+|\s+$/g,c=function(e,t,r,l){var u,c=r?t:t.replace(s,"");if(a.test(c))e.s=isNaN(c)?null:c<0?-1:1;else{if(!r&&(c=c.replace(n,function(e,t,r){return u="x"==(r=r.toLowerCase())?16:"b"==r?2:8,l&&l!=u?e:t}),l&&(u=l,c=c.replace(i,"$1").replace(o,"0.$1")),t!=c))return new T(c,u);if(T.DEBUG)throw Error(rF+"Not a"+(l?" base "+l:"")+" number: "+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new T(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return rK(this,new T(e,t))},f.decimalPlaces=f.dp=function(e,t){var r,n,i;if(null!=e)return rW(e,0,1e9),null==t?t=d:rW(t,0,8),_(new T(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-rj(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},f.dividedBy=f.div=function(e,t){return l(this,new T(e,t),h,d)},f.dividedToIntegerBy=f.idiv=function(e,t){return l(this,new T(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var r,n,i,o,a,s,l,u,c,f=this;if((e=new T(e)).c&&!e.isInteger())throw Error(rF+"Exponent not an integer: "+x(e));if(null!=t&&(t=new T(t)),s=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return c=new T(Math.pow(+x(f),s?e.s*(2-rG(e)):+x(e))),t?c.mod(t):c;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new T(NaN);(n=!l&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||s&&f.c[1]>=24e7:f.c[0]<8e13||s&&f.c[0]<=9999975e7)))return o=f.s<0&&rG(e)?-0:0,f.e>-1&&(o=1/o),new T(l?1/o:o);E&&(o=rL(E/14+2))}for(s?(r=new T(.5),l&&(e.s=1),u=rG(e)):u=(i=Math.abs(+x(e)))%2,c=new T(p);;){if(u){if(!(c=c.times(f)).c)break;o?c.c.length>o&&(c.c.length=o):n&&(c=c.mod(t))}if(i){if(0===(i=rH(i/2)))break;u=i%2}else if(_(e=e.times(r),e.e+1,1),e.e>14)u=rG(e);else{if(0==(i=+x(e)))break;u=i%2}f=f.times(f),o?f.c&&f.c.length>o&&(f.c.length=o):n&&(f=f.mod(t))}return n?c:(l&&(c=p.div(c)),t?c.mod(t):o?_(c,E,d,a):c)},f.integerValue=function(e){var t=new T(this);return null==e?e=d:rW(e,0,8),_(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===rK(this,new T(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return rK(this,new T(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=rK(this,new T(e,t)))||0===t},f.isInteger=function(){return!!this.c&&rj(this.e/14)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return 0>rK(this,new T(e,t))},f.isLessThanOrEqualTo=f.lte=function(e,t){return -1===(t=rK(this,new T(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var r,n,i,o,a=this.s;if(t=(e=new T(e,t)).s,!a||!t)return new T(NaN);if(a!=t)return e.s=-t,this.plus(e);var s=this.e/14,l=e.e/14,u=this.c,c=e.c;if(!s||!l){if(!u||!c)return u?(e.s=-t,e):new T(c?this:NaN);if(!u[0]||!c[0])return c[0]?(e.s=-t,e):new T(u[0]?this:3==d?-0:0)}if(s=rj(s),l=rj(l),u=u.slice(),a=s-l){for((o=a<0)?(a=-a,i=u):(l=s,i=c),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=u.length)<(t=c.length))?a:t,a=t=0;t<n;t++)if(u[t]!=c[t]){o=u[t]<c[t];break}if(o&&(i=u,u=c,c=i,e.s=-e.s),(t=(n=c.length)-(r=u.length))>0)for(;t--;u[r++]=0);for(t=1e14-1;n>a;){if(u[--n]<c[n]){for(r=n;r&&!u[--r];u[r]=t);--u[r],u[n]+=1e14}u[n]-=c[n]}for(;0==u[0];u.splice(0,1),--l);return u[0]?O(e,u,l):(e.s=3==d?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,n;return e=new T(e,t),this.c&&e.s&&(!e.c||e.c[0])?e.c&&(!this.c||this.c[0])?(9==b?(n=e.s,e.s=1,r=l(this,e,0,3),e.s=n,r.s*=n):r=l(this,e,0,b),(e=this.minus(r.times(e))).c[0]||1!=b||(e.s=this.s),e):new T(this):new T(NaN)},f.multipliedBy=f.times=function(e,t){var r,n,i,o,a,s,l,u,c,f,p,h,d,y=this.c,g=(e=new T(e,t)).c;if(!y||!g||!y[0]||!g[0])return this.s&&e.s&&(!y||y[0]||g)&&(!g||g[0]||y)?(e.s*=this.s,y&&g?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=rj(this.e/14)+rj(e.e/14),e.s*=this.s,(l=y.length)<(f=g.length)&&(d=y,y=g,g=d,i=l,l=f,f=i),i=l+f,d=[];i--;d.push(0));for(i=f;--i>=0;){for(r=0,p=g[i]%1e7,h=g[i]/1e7|0,o=i+(a=l);o>i;)s=h*(u=y[--a]%1e7)+(c=y[a]/1e7|0)*p,r=((u=p*u+s%1e7*1e7+d[o]+r)/1e14|0)+(s/1e7|0)+h*c,d[o--]=u%1e14;d[o]=r}return r?++n:d.splice(0,1),O(e,d,n)},f.negated=function(){var e=new T(this);return e.s=-e.s||null,e},f.plus=function(e,t){var r,n=this.s;if(t=(e=new T(e,t)).s,!n||!t)return new T(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,a=this.c,s=e.c;if(!i||!o){if(!a||!s)return new T(n/0);if(!a[0]||!s[0])return s[0]?e:new T(a[0]?this:0*n)}if(i=rj(i),o=rj(o),a=a.slice(),n=i-o){for(n>0?(o=i,r=s):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(t=s.length)<0&&(r=s,s=a,a=r,t=n),n=0;t;)n=(a[--t]=a[t]+s[t]+n)/1e14|0,a[t]=1e14===a[t]?0:a[t]%1e14;return n&&(a=[n].concat(a),++o),O(e,a,o)},f.precision=f.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return rW(e,1,1e9),null==t?t=d:rW(t,0,8),_(new T(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},f.shiftedBy=function(e){return rW(e,-9007199254740991,9007199254740991),this.times("1e"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,n,i,o=this.c,a=this.s,s=this.e,u=h+4,c=new T("0.5");if(1!==a||!o||!o[0])return new T(!a||a<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(a=Math.sqrt(+x(this)))||a==1/0?(((t=rV(o)).length+s)%2==0&&(t+="0"),a=Math.sqrt(+t),s=rj((s+1)/2)-(s<0||s%2),r=new T(t=a==1/0?"5e"+s:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new T(a+""),r.c[0]){for((a=(s=r.e)+u)<3&&(a=0);;)if(i=r,r=c.times(i.plus(l(this,i,u,1))),rV(i.c).slice(0,a)===(t=rV(r.c)).slice(0,a)){if(r.e<s&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(_(r,r.e+h+2,1),e=!r.times(r).eq(this));break}if(!n&&(_(i,i.e+h+2,0),i.times(i).eq(this))){r=i;break}u+=4,a+=4,n=1}}return _(r,r.e+h+1,d,e)},f.toExponential=function(e,t){return null!=e&&(rW(e,0,1e9),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(rW(e,0,1e9),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=v;else if("object"!=typeof r)throw Error(rF+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,o=n.split("."),a=+r.groupSize,s=+r.secondaryGroupSize,l=r.groupSeparator||"",u=o[0],c=o[1],f=this.s<0,p=f?u.slice(1):u,h=p.length;if(s&&(i=a,a=s,s=i,h-=i),a>0&&h>0){for(i=h%a||a,u=p.substr(0,i);i<h;i+=a)u+=l+p.substr(i,a);s>0&&(u+=l+p.slice(i)),f&&(u="-"+u)}n=c?u+(r.decimalSeparator||"")+((s=+r.fractionGroupSize)?c.replace(RegExp("\\d{"+s+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):c):u}return(r.prefix||"")+n+(r.suffix||"")},f.toFraction=function(e){var t,r,n,i,o,a,s,u,c,f,h,y,g=this.c;if(null!=e&&(!(s=new T(e)).isInteger()&&(s.c||1!==s.s)||s.lt(p)))throw Error(rF+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+x(s));if(!g)return new T(this);for(t=new T(p),c=r=new T(p),n=u=new T(p),y=rV(g),o=t.e=y.length-this.e-1,t.c[0]=rM[(a=o%14)<0?14+a:a],e=!e||s.comparedTo(t)>0?o>0?t:c:s,a=A,A=1/0,s=new T(y),u.c[0]=0;f=l(s,t,0,1),1!=(i=r.plus(f.times(n))).comparedTo(e);)r=n,n=i,c=u.plus(f.times(i=c)),u=i,t=s.minus(f.times(i=t)),s=i;return i=l(e.minus(r),n,0,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=this.s,o*=2,h=1>l(c,n,o,d).minus(this).abs().comparedTo(l(u,r,o,d).minus(this).abs())?[c,n]:[u,r],A=a,h},f.toNumber=function(){return+x(this)},f.toPrecision=function(e,t){return null!=e&&rW(e,1,1e9),I(this,e,t,2)},f.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=y||i>=g?rX(rV(r.c),i):rq(rV(r.c),i,"0"):10===e&&S?t=rq(rV((r=_(new T(r),h+i+1,d)).c),r.e,"0"):(rW(e,2,P.length,"Base"),t=u(rq(rV(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},f.valueOf=f.toJSON=function(){return x(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,null!=t&&T.set(t),T}();var rQ={},rY={},rJ={};rJ.byteLength=function(e){var t=r4(e),r=t[0],n=t[1];return(r+n)*3/4-n},rJ.toByteArray=function(e){var t,r,n=r4(e),i=n[0],o=n[1],a=new r0((i+o)*3/4-o),s=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=rZ[e.charCodeAt(r)]<<18|rZ[e.charCodeAt(r+1)]<<12|rZ[e.charCodeAt(r+2)]<<6|rZ[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=rZ[e.charCodeAt(r)]<<2|rZ[e.charCodeAt(r+1)]>>4,a[s++]=255&t),1===o&&(t=rZ[e.charCodeAt(r)]<<10|rZ[e.charCodeAt(r+1)]<<4|rZ[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},rJ.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],o=0,a=r-n;o<a;o+=16383)i.push(function(e,t,r){for(var n,i=[],o=t;o<r;o+=3)i.push(r$[(n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r$[n>>12&63]+r$[n>>6&63]+r$[63&n]);return i.join("")}(e,o,o+16383>a?a:o+16383));return 1===n?i.push(r$[(t=e[r-1])>>2]+r$[t<<4&63]+"=="):2===n&&i.push(r$[(t=(e[r-2]<<8)+e[r-1])>>10]+r$[t>>4&63]+r$[t<<2&63]+"="),i.join("")};for(var r$=[],rZ=[],r0="u">typeof Uint8Array?Uint8Array:Array,r1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r2=0,r3=r1.length;r2<r3;++r2)r$[r2]=r1[r2],rZ[r1.charCodeAt(r2)]=r2;function r4(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}rZ[45]=62,rZ[95]=63;var r5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r5.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,f=r?i-1:0,p=r?-1:1,h=e[t+f];for(f+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},r5.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,p=23===i?5960464477539062e-23:0,h=n?0:o-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?t+=p/l:t+=p*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=d,a/=256,u-=8);e[r+h-d]|=128*y},/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function(e){let t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647;let{Uint8Array:r,ArrayBuffer:n,SharedArrayBuffer:i}=globalThis;function o(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new r(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,r)}function s(e,t,s){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|h(e,t),n=o(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(n.isView(e))return function(e){if(L(e,r)){let t=new r(e);return f(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,n)||e&&L(e.buffer,n)||"u">typeof i&&(L(e,i)||e&&L(e.buffer,i)))return f(e,t,s);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return a.from(l,t,s);let u=function(e){var t;if(a.isBuffer(e)){let t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?o(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(u)return u;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,s);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),o(e<0?0:0|p(e))}function c(e){let t=e.length<0?0:0|p(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,n){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===n?new r(e):void 0===n?new r(e,t):new r(e,t,n),a.prototype),i}function p(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(n.isView(e)||L(e,n))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return R(e).length;default:if(o)return i?-1:B(e).length;t=(""+t).toLowerCase(),o=!0}}function d(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=H[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var i,o;return i=t,o=r,0===i&&o===this.length?rJ.fromByteArray(this):rJ.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function g(e,t,n,i,o){var s;if(0===e.length)return -1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(s=n=+n)!=s&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return -1;n=e.length-1}else if(n<0){if(!o)return -1;n=0}if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:m(e,t,n,i,o);if("number"==typeof t)return t&=255,"function"==typeof r.prototype.indexOf?o?r.prototype.indexOf.call(e,t,n):r.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,i,o);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return -1}function A(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(o=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function b(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i){_(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function v(e,t,r,n,i){_(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function P(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function S(e,t,r,n,i){return t=+t,r>>>=0,i||P(e,t,r,4),r5.write(e,t,r,n,23,4),r+4}function T(e,t,r,n,i){return t=+t,r>>>=0,i||P(e,t,r,8),r5.write(e,t,r,n,52,8),r+8}a.TYPED_ARRAY_SUPPORT=function(){try{let e=new r(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,r.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,r.prototype),Object.setPrototypeOf(a,r),a.alloc=function(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(L(e,r)&&(e=a.from(e,e.offset,e.byteLength)),L(t,r)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=a.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){let t=e[n];if(L(t,r))o+t.length>i.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(i,o)):r.prototype.set.call(i,t,o);else if(a.isBuffer(t))t.copy(i,o);else throw TypeError('"list" argument must be an Array of Buffers');o+=t.length}return i},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?A(this,0,e):d.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},t&&(a.prototype[t]=a.prototype.inspect),a.prototype.compare=function(e,t,n,i,o){if(L(e,r)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,l=n-t,u=Math.min(s,l),c=this.slice(i,o),f=e.slice(t,n);for(let e=0;e<u;++e)if(c[e]!==f[e]){s=c[e],l=f[e];break}return s<l?-1:l<s?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,o,a,s,l,u,c,f;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,U(B(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,U(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return l=t,u=r,U(R(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,f=r,U(function(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=F(function(e){x(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=F(function(e){x(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=F(function(e){x(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),a.prototype.readBigInt64BE=F(function(e){x(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),r5.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),r5.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),r5.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),r5.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;b(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;b(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=F(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=F(function(e,t=0){return v(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);b(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);b(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||b(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=F(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=F(function(e,t=0){return v(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return T(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return T(this,e,t,!1,r)},a.prototype.copy=function(e,t,n,i){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let o=i-n;return this===e&&"function"==typeof r.prototype.copyWithin?this.copyWithin(t,n,i):r.prototype.set.call(e,this.subarray(n,i),t),o},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};let I={};function k(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function O(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function _(e,t,r,n,i,o){if(e>r||e<t){let r;let n="bigint"==typeof t?"n":"";throw r=0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(o+1)*8}${n}`:`>= -(2${n} ** ${(o+1)*8-1}${n}) and < 2 ** ${(o+1)*8-1}${n}`,new I.ERR_OUT_OF_RANGE("value",r,e)}x(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&C(i,n.length-(o+1))}function x(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function C(e,t,r){throw Math.floor(e)!==e?(x(e,r),new I.ERR_OUT_OF_RANGE("offset","an integer",e)):t<0?new I.ERR_BUFFER_OUT_OF_BOUNDS:new I.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}k("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),k("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=O(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=O(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let N=/[^+/0-9A-Za-z-_]/g;function B(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function R(e){return rJ.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let H=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function F(e){return typeof BigInt>"u"?D:e}function D(){throw Error("BigInt not supported")}}(rY);let r6=rY.Buffer,r8=rY.Blob,r9=rY.BlobOptions,r7=rY.Buffer,ne=rY.File,nt=rY.FileOptions,nr=rY.INSPECT_MAX_BYTES,nn=rY.SlowBuffer,ni=rY.TranscodeEncoding,no=rY.atob,na=rY.btoa,ns=rY.constants,nl=rY.isAscii,nu=rY.isUtf8,nc=rY.kMaxLength,nf=Object.freeze(Object.defineProperty({__proto__:null,Blob:r8,BlobOptions:r9,Buffer:r7,File:ne,FileOptions:nt,INSPECT_MAX_BYTES:nr,SlowBuffer:nn,TranscodeEncoding:ni,atob:no,btoa:na,constants:ns,default:r6,isAscii:nl,isUtf8:nu,kMaxLength:nc,kStringMaxLength:rY.kStringMaxLength,resolveObjectURL:rY.resolveObjectURL,transcode:rY.transcode},Symbol.toStringTag,{value:"Module"}));var np={},nh={};Object.defineProperty(nh,"__esModule",{value:!0}),nh.testnet=nh.regtest=nh.bitcoin=void 0,nh.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},nh.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},nh.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var nd={},ny={},ng={},nm={};Object.defineProperty(nm,"__esModule",{value:!0}),nm.encode=nm.decode=nm.check=void 0,nm.check=function(e){if(e.length<8||e.length>72||48!==e[0]||e[1]!==e.length-2||2!==e[2])return!1;let t=e[3];if(0===t||5+t>=e.length||2!==e[4+t])return!1;let r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},nm.decode=function(e){if(e.length<8)throw Error("DER sequence length is too short");if(e.length>72)throw Error("DER sequence length is too long");if(48!==e[0])throw Error("Expected DER sequence");if(e[1]!==e.length-2)throw Error("DER sequence length is invalid");if(2!==e[2])throw Error("Expected DER integer");let t=e[3];if(0===t)throw Error("R length is zero");if(5+t>=e.length)throw Error("R length is too long");if(2!==e[4+t])throw Error("Expected DER integer (2)");let r=e[5+t];if(0===r)throw Error("S length is zero");if(6+t+r!==e.length)throw Error("S length is invalid");if(128&e[4])throw Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw Error("R value excessively padded");if(128&e[t+6])throw Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},nm.encode=function(e,t){let r=e.length,n=t.length;if(0===r)throw Error("R length is zero");if(0===n)throw Error("S length is zero");if(r>33)throw Error("R length is too long");if(n>33)throw Error("S length is too long");if(128&e[0])throw Error("R value is negative");if(128&t[0])throw Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw Error("S value excessively padded");let i=r6.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i};var nA={};Object.defineProperty(nA,"__esModule",{value:!0}),nA.REVERSE_OPS=nA.OPS=void 0;let nw={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};nA.OPS=nw;let nb={};for(let e of(nA.REVERSE_OPS=nb,Object.keys(nw)))nb[nw[e]]=e;var nE={};function nv(e){return e<nA.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}Object.defineProperty(nE,"__esModule",{value:!0}),nE.decode=nE.encode=nE.encodingLength=void 0,nE.encodingLength=nv,nE.encode=function(e,t,r){let n=nv(t);return 1===n?e.writeUInt8(t,r):2===n?(e.writeUInt8(nA.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===n?(e.writeUInt8(nA.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(nA.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),n},nE.decode=function(e,t){let r,n;let i=e.readUInt8(t);if(i<nA.OPS.OP_PUSHDATA1)r=i,n=1;else if(i===nA.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(i===nA.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(i!==nA.OPS.OP_PUSHDATA4)throw Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:i,number:r,size:n}};var nP={};Object.defineProperty(nP,"__esModule",{value:!0}),nP.encode=nP.decode=void 0,nP.decode=function(e,t,r){t=t||4,r=void 0===r||r;let n=e.length;if(0===n)return 0;if(n>t)throw TypeError("Script number overflow");if(r&&!(127&e[n-1])&&(n<=1||!(128&e[n-2])))throw Error("Non-minimally encoded script number");if(5===n){let t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-((-129&r)*4294967296+t):4294967296*r+t}let i=0;for(let t=0;t<n;++t)i|=e[t]<<8*t;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},nP.encode=function(e){var t;let r=Math.abs(e),n=(t=r)>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0,i=r6.allocUnsafe(n),o=e<0;for(let e=0;e<n;++e)i.writeUInt8(255&r,e),r>>=8;return 128&i[n-1]?i.writeUInt8(o?128:0,n-1):o&&(i[n-1]|=128),i};var nS={},nT={};let nI=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}(nf);var nk={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var nO in nk.Null=nk.Nil,nk)nk[nO].toJSON=(function(e){return e}).bind(null,nO);function n_(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function nx(e){return nk.Nil(e)?"":n_(e.constructor)}function nC(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function nN(e){return nk.Function(e)?e.toJSON?e.toJSON():n_(e):nk.Array(e)?"Array":e&&nk.Object(e)?"Object":void 0!==e?e:""}function nB(e,t,r){var n=nk.Function(t)?"":nk.String(t)?JSON.stringify(t):t&&nk.Object(t)?"":t;return"Expected "+nN(e)+", got"+(""!==r?" "+r:"")+(""!==n?" "+n:"")}function nR(e,t,r){r=r||nx(t),this.message=nB(e,t,r),nC(this,nR),this.__type=e,this.__value=t,this.__valueTypeName=r}function nU(e,t,r,n,i){var o,a;e?(i=i||nx(n),this.message=(o=i,a='" of type ',"key"===r&&(a='" with key type '),nB('property "'+nN(t)+a+nN(e),n,o))):this.message='Unexpected property "'+t+'"',nC(this,nR),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}nR.prototype=Object.create(Error.prototype),nR.prototype.constructor=nR,nU.prototype=Object.create(Error.prototype),nU.prototype.constructor=nR;var nL,nH,nF,nD,nM,nj,nV,nK={TfTypeError:nR,TfPropertyTypeError:nU,tfCustomError:function(e,t){return new nR(e,{},t)},tfSubError:function(e,t,r){return e instanceof nU?(t=t+"."+e.__property,e=new nU(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof nR&&(e=new nU(e.__type,t,r,e.__value,e.__valueTypeName)),nC(e),e},tfJSON:nN,getValueTypeName:nx},nW=nK.tfJSON,nG=nK.TfTypeError,nX=nK.TfPropertyTypeError,nq=nK.tfSubError,nz=nK.getValueTypeName,nQ={arrayOf:function(e,t){function r(r,n){return!(!nk.Array(r)||nk.Nil(r))&&(void 0===t.minLength||!(r.length<t.minLength))&&(void 0===t.maxLength||!(r.length>t.maxLength))&&(void 0===t.length||r.length===t.length)&&r.every(function(t,r){try{return nJ(e,t,n)}catch(e){throw nq(e,r)}})}return e=nY(e),t=t||{},r.toJSON=function(){var r="["+nW(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":(void 0!==t.minLength||void 0!==t.maxLength)&&(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return nk.Nil(r)||t(r,n,e)}return t=nY(t),r.toJSON=function(){return"?"+nW(t)},r},map:function(e,t){function r(r,n){if(!nk.Object(r)||nk.Nil(r))return!1;for(var i in r){try{t&&nJ(t,i,n)}catch(e){throw nq(e,i,"key")}try{var o=r[i];nJ(e,o,n)}catch(e){throw nq(e,i)}}return!0}return e=nY(e),t&&(t=nY(t)),t?r.toJSON=function(){return"{"+nW(t)+": "+nW(e)+"}"}:r.toJSON=function(){return"{"+nW(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=nY(e[r]);function n(e,r){if(!nk.Object(e)||nk.Nil(e))return!1;try{for(n in t){var n,i=t[n],o=e[n];nJ(i,o,r)}}catch(e){throw nq(e,n)}if(r){for(n in e)if(!t[n])throw new nX(void 0,n)}return!0}return n.toJSON=function(){return nW(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(nY);function t(t,r){return e.some(function(e){try{return nJ(e,t,r)}catch{return!1}})}return t.toJSON=function(){return e.map(nW).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(nY);function t(t,r){return e.every(function(e){try{return nJ(e,t,r)}catch{return!1}})}return t.toJSON=function(){return e.map(nW).join(" & ")},t},quacksLike:function(e){function t(t){return e===nz(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(nY);function t(t,r){return!(nk.Nil(t)||nk.Nil(t.length))&&(!r||t.length===e.length)&&e.every(function(e,n){try{return nJ(e,t[n],r)}catch(e){throw nq(e,n)}})}return t.toJSON=function(){return"("+e.map(nW).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function nY(e){if(nk.String(e))return"?"===e[0]?nQ.maybe(e.slice(1)):nk[e]||nQ.quacksLike(e);if(e&&nk.Object(e)){if(nk.Array(e)){if(1!==e.length)throw TypeError("Expected compile() parameter of type Array of length 1");return nQ.arrayOf(e[0])}return nQ.object(e)}return nk.Function(e)?e:nQ.value(e)}function nJ(e,t,r,n){if(nk.Function(e)){if(e(t,r))return!0;throw new nG(n||e,t)}return nJ(nY(e),t,r)}for(var n$ in nQ.oneOf=nQ.anyOf,nk)nJ[n$]=nk[n$];for(n$ in nQ)nJ[n$]=nQ[n$];var nZ=function(){if(nV)return nj;function e(e){return r6.isBuffer(e)}function t(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function r(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw nK.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}nV=1;var n=r.bind(null,nk.Array),i=r.bind(null,e),o=r.bind(null,t),a={ArrayN:n,Buffer:e,BufferN:i,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:t,HexN:o,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-9007199254740991&&e<=9007199254740991&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||nk.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:r.bind(null,nk.String),UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=9007199254740991&&Math.floor(e)===e}};for(var s in a)a[s].toJSON=(function(e){return e}).bind(null,s);return nj=a}();for(n$ in nZ)nJ[n$]=nZ[n$];function n0(){return C||(C=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.signature=e.number=e.isCanonicalScriptSignature=e.isDefinedHashType=e.isCanonicalPubKey=e.toStack=e.fromASM=e.toASM=e.decompile=e.compile=e.countNonPushOnlyOPs=e.isPushOnly=e.OPS=void 0,Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return nA.OPS}});let t=function(){if(x)return nS;x=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.encode=nS.decode=void 0;let e=n0(),{typeforce:t}=nT,r=r6.alloc(1,0);function n(e){let t=0;for(;0===e[t];)++t;return t===e.length?r:128&(e=e.slice(t))[0]?r6.concat([r,e],1+e.length):e}function i(e){0===e[0]&&(e=e.slice(1));let t=r6.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}return nS.decode=function(t){let r=t.readUInt8(t.length-1);if(!(0,e.isDefinedHashType)(r))throw Error("Invalid hashType "+r);let n=nm.decode(t.slice(0,-1)),o=i(n.r),a=i(n.s);return{signature:r6.concat([o,a],64),hashType:r}},nS.encode=function(r,i){if(t({signature:nT.BufferN(64),hashType:nT.UInt8},{signature:r,hashType:i}),!(0,e.isDefinedHashType)(i))throw Error("Invalid hashType "+i);let o=r6.allocUnsafe(1);o.writeUInt8(i,0);let a=n(r.slice(0,32)),s=n(r.slice(32,64));return r6.concat([nm.encode(a,s),o])},nS}(),{typeforce:r}=nT,n=nA.OPS.OP_RESERVED;function i(e){return nT.Buffer(e)||nT.Number(e)&&(e===nA.OPS.OP_0||e>=nA.OPS.OP_1&&e<=nA.OPS.OP_16||e===nA.OPS.OP_1NEGATE)}function o(e){return nT.Array(e)&&e.every(i)}function a(e){if(0===e.length)return nA.OPS.OP_0;if(1===e.length){if(e[0]>=1&&e[0]<=16)return n+e[0];if(129===e[0])return nA.OPS.OP_1NEGATE}}function s(e){return r6.isBuffer(e)}function l(e){return r6.isBuffer(e)}function u(e){if(s(e))return e;r(nT.Array,e);let t=e.reduce((e,t)=>l(t)?1===t.length&&void 0!==a(t)?e+1:e+nE.encodingLength(t.length)+t.length:e+1,0),n=r6.allocUnsafe(t),i=0;if(e.forEach(e=>{if(l(e)){let t=a(e);if(void 0!==t){n.writeUInt8(t,i),i+=1;return}i+=nE.encode(n,e.length,i),e.copy(n,i),i+=e.length}else n.writeUInt8(e,i),i+=1}),i!==n.length)throw Error("Could not decode chunks");return n}function c(e){if(nT.Array(e))return e;r(nT.Buffer,e);let t=[],n=0;for(;n<e.length;){let r=e[n];if(r>nA.OPS.OP_0&&r<=nA.OPS.OP_PUSHDATA4){let r=nE.decode(e,n);if(null===r||(n+=r.size)+r.number>e.length)return null;let i=e.slice(n,n+r.number);n+=r.number;let o=a(i);void 0!==o?t.push(o):t.push(i)}else t.push(r),n+=1}return t}function f(e){let t=-129&e;return t>0&&t<4}e.isPushOnly=o,e.countNonPushOnlyOPs=function(e){return e.length-e.filter(i).length},e.compile=u,e.decompile=c,e.toASM=function(e){if(s(e)&&(e=c(e)),!e)throw Error("Could not convert invalid chunks to ASM");return e.map(e=>{if(l(e)){let t=a(e);if(void 0===t)return e.toString("hex");e=t}return nA.REVERSE_OPS[e]}).join(" ")},e.fromASM=function(e){return r(nT.String,e),u(e.split(" ").map(e=>void 0!==nA.OPS[e]?nA.OPS[e]:(r(nT.Hex,e),r6.from(e,"hex"))))},e.toStack=function(e){return r(o,e=c(e)),e.map(e=>l(e)?e:e===nA.OPS.OP_0?r6.allocUnsafe(0):nP.encode(e-n))},e.isCanonicalPubKey=function(e){return nT.isPoint(e)},e.isDefinedHashType=f,e.isCanonicalScriptSignature=function(e){return!!(r6.isBuffer(e)&&f(e[e.length-1]))&&nm.check(e.slice(0,-1))},e.number=nP,e.signature=t}(ng)),ng}nJ.compile=nY,nJ.TfTypeError=nG,nJ.TfPropertyTypeError=nX,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=e.Null=e.BufferN=e.Function=e.UInt32=e.UInt8=e.tuple=e.maybe=e.Hex=e.Buffer=e.String=e.Boolean=e.Array=e.Number=e.Hash256bit=e.Hash160bit=e.Buffer256bit=e.isTaptree=e.isTapleaf=e.TAPLEAF_VERSION_MASK=e.Satoshi=e.isPoint=e.stacksEqual=e.typeforce=void 0,e.typeforce=nJ;let t=nI.Buffer.alloc(32,0),r=nI.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");e.stacksEqual=function(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))},e.isPoint=function(e){if(!nI.Buffer.isBuffer(e)||e.length<33)return!1;let n=e[0],i=e.slice(1,33);if(0===i.compare(t)||i.compare(r)>=0)return!1;if((2===n||3===n)&&33===e.length)return!0;let o=e.slice(33);return!(0===o.compare(t)||o.compare(r)>=0)&&4===n&&65===e.length};let n=21*1e14;function i(t){return!!(t&&"output"in t&&nI.Buffer.isBuffer(t.output))&&(void 0===t.version||(t.version&e.TAPLEAF_VERSION_MASK)===t.version)}e.Satoshi=function(t){return e.typeforce.UInt53(t)&&t<=n},e.TAPLEAF_VERSION_MASK=254,e.isTapleaf=i,e.isTaptree=function t(r){return(0,e.Array)(r)?2===r.length&&r.every(e=>t(e)):i(r)},e.Buffer256bit=e.typeforce.BufferN(32),e.Hash160bit=e.typeforce.BufferN(20),e.Hash256bit=e.typeforce.BufferN(32),e.Number=e.typeforce.Number,e.Array=e.typeforce.Array,e.Boolean=e.typeforce.Boolean,e.String=e.typeforce.String,e.Buffer=e.typeforce.Buffer,e.Hex=e.typeforce.Hex,e.maybe=e.typeforce.maybe,e.tuple=e.typeforce.tuple,e.UInt8=e.typeforce.UInt8,e.UInt32=e.typeforce.UInt32,e.Function=e.typeforce.Function,e.BufferN=e.typeforce.BufferN,e.Null=e.typeforce.Null,e.oneOf=e.typeforce.oneOf}(nT);var n1={};Object.defineProperty(n1,"__esModule",{value:!0}),n1.value=n1.prop=void 0,n1.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},n1.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)},Object.defineProperty(ny,"__esModule",{value:!0}),ny.p2data=void 0;let n2=n0(),n3=n2.OPS;ny.p2data=function(e,t){if(!e.data&&!e.output)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,nT.typeforce)({network:nT.typeforce.maybe(nT.typeforce.Object),output:nT.typeforce.maybe(nT.typeforce.Buffer),data:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer))},e);let r={name:"embed",network:e.network||nh.bitcoin};if(n1.prop(r,"output",()=>{if(e.data)return n2.compile([n3.OP_RETURN].concat(e.data))}),n1.prop(r,"data",()=>{if(e.output)return n2.decompile(e.output).slice(1)}),t.validate&&e.output){let t=n2.decompile(e.output);if(t[0]!==n3.OP_RETURN||!t.slice(1).every(nT.typeforce.Buffer))throw TypeError("Output is invalid");if(e.data&&!(0,nT.stacksEqual)(e.data,r.data))throw TypeError("Data mismatch")}return Object.assign(r,e)};var n4={};Object.defineProperty(n4,"__esModule",{value:!0}),n4.p2ms=void 0;let n5=n0(),n6=n5.OPS,n8=n6.OP_RESERVED;n4.p2ms=function(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&void 0!==e.m)&&!e.signatures)throw TypeError("Not enough data");function r(e){return n5.isCanonicalScriptSignature(e)||(t.allowIncomplete&&e===n6.OP_0)!==void 0}t=Object.assign({validate:!0},t||{}),(0,nT.typeforce)({network:nT.typeforce.maybe(nT.typeforce.Object),m:nT.typeforce.maybe(nT.typeforce.Number),n:nT.typeforce.maybe(nT.typeforce.Number),output:nT.typeforce.maybe(nT.typeforce.Buffer),pubkeys:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.isPoint)),signatures:nT.typeforce.maybe(nT.typeforce.arrayOf(r)),input:nT.typeforce.maybe(nT.typeforce.Buffer)},e);let n={network:e.network||nh.bitcoin},i=[],o=!1;function a(e){o||(o=!0,i=n5.decompile(e),n.m=i[0]-n8,n.n=i[i.length-2]-n8,n.pubkeys=i.slice(1,-2))}if(n1.prop(n,"output",()=>{if(e.m&&n.n&&e.pubkeys)return n5.compile([].concat(n8+e.m,e.pubkeys,n8+n.n,n6.OP_CHECKMULTISIG))}),n1.prop(n,"m",()=>{if(n.output)return a(n.output),n.m}),n1.prop(n,"n",()=>{if(n.pubkeys)return n.pubkeys.length}),n1.prop(n,"pubkeys",()=>{if(e.output)return a(e.output),n.pubkeys}),n1.prop(n,"signatures",()=>{if(e.input)return n5.decompile(e.input).slice(1)}),n1.prop(n,"input",()=>{if(e.signatures)return n5.compile([n6.OP_0].concat(e.signatures))}),n1.prop(n,"witness",()=>{if(n.input)return[]}),n1.prop(n,"name",()=>{if(!(!n.m||!n.n))return`p2ms(${n.m} of ${n.n})`}),t.validate){if(e.output){if(a(e.output),!nT.typeforce.Number(i[0])||!nT.typeforce.Number(i[i.length-2])||i[i.length-1]!==n6.OP_CHECKMULTISIG||n.m<=0||n.n>16||n.m>n.n||n.n!==i.length-3||!n.pubkeys.every(e=>(0,nT.isPoint)(e)))throw TypeError("Output is invalid");if(void 0!==e.m&&e.m!==n.m)throw TypeError("m mismatch");if(void 0!==e.n&&e.n!==n.n)throw TypeError("n mismatch");if(e.pubkeys&&!(0,nT.stacksEqual)(e.pubkeys,n.pubkeys))throw TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw TypeError("Pubkey count mismatch");if(n.n=e.pubkeys.length,n.n<n.m)throw TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<n.m)throw TypeError("Not enough signatures provided");if(e.signatures.length>n.m)throw TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==n6.OP_0)throw TypeError("Input is invalid");if(0===n.signatures.length||!n.signatures.every(r))throw TypeError("Input has invalid signature(s)");if(e.signatures&&!(0,nT.stacksEqual)(e.signatures,n.signatures))throw TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw TypeError("Signature count mismatch")}}return Object.assign(n,e)};var n9={};Object.defineProperty(n9,"__esModule",{value:!0}),n9.p2pk=void 0;let n7=n0(),ie=n7.OPS;n9.p2pk=function(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,nT.typeforce)({network:nT.typeforce.maybe(nT.typeforce.Object),output:nT.typeforce.maybe(nT.typeforce.Buffer),pubkey:nT.typeforce.maybe(nT.isPoint),signature:nT.typeforce.maybe(n7.isCanonicalScriptSignature),input:nT.typeforce.maybe(nT.typeforce.Buffer)},e);let r=n1.value(()=>n7.decompile(e.input)),n={name:"p2pk",network:e.network||nh.bitcoin};if(n1.prop(n,"output",()=>{if(e.pubkey)return n7.compile([e.pubkey,ie.OP_CHECKSIG])}),n1.prop(n,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),n1.prop(n,"signature",()=>{if(e.input)return r()[0]}),n1.prop(n,"input",()=>{if(e.signature)return n7.compile([e.signature])}),n1.prop(n,"witness",()=>{if(n.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==ie.OP_CHECKSIG)throw TypeError("Output is invalid");if(!(0,nT.isPoint)(n.pubkey))throw TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(n.pubkey))throw TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(n.input))throw TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw TypeError("Input is invalid");if(!n7.isCanonicalScriptSignature(n.signature))throw TypeError("Input has invalid signature")}}return Object.assign(n,e)};var it={},ir={},ii={},io={},ia={};function is(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function il(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function iu(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function ic(e,...t){if(!iu(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ip(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");is(e.outputLen),is(e.blockLen)}function ih(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function id(e,t){ic(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(ia,"__esModule",{value:!0}),ia.output=ia.exists=ia.hash=ia.bytes=ia.bool=ia.number=ia.isBytes=void 0,ia.number=is,ia.bool=il,ia.isBytes=iu,ia.bytes=ic,ia.hash=ip,ia.exists=ih,ia.output=id,ia.default={number:is,bool:il,bytes:ic,hash:ip,exists:ih,output:id};var iy={},ig={};Object.defineProperty(ig,"__esModule",{value:!0}),ig.crypto=void 0,ig.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0,e.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.rotr=(e,t)=>e<<32-t|e>>>t,e.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],e.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,e.byteSwapIfBE=e.isLE?e=>e:t=>(0,e.byteSwap)(t),e.byteSwap32=function(t){for(let r=0;r<t.length;r++)t[r]=(0,e.byteSwap)(t[r])};let t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));e.bytesToHex=function(e){(0,ia.bytes)(e);let r="";for(let n=0;n<e.length;n++)r+=t[e[n]];return r};let r={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function n(e){return e>=r._0&&e<=r._9?e-r._0:e>=r._A&&e<=r._F?e-(r._A-10):e>=r._a&&e<=r._f?e-(r._a-10):void 0}e.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){let r=n(e.charCodeAt(o)),a=n(e.charCodeAt(o+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[o]+e[o+1])+'" at index '+o);i[t]=16*r+a}return i};let i=async()=>{};async function o(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);let t=Date.now()-i;t>=0&&t<r||(await (0,e.nextTick)(),i+=t)}}function a(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function s(e){return"string"==typeof e&&(e=a(e)),(0,ia.bytes)(e),e}e.nextTick=i,e.asyncLoop=o,e.utf8ToBytes=a,e.toBytes=s,e.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];(0,ia.bytes)(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r};class l{clone(){return this._cloneInto()}}e.Hash=l;let u={}.toString;e.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==u.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)},e.wrapConstructor=function(e){let t=t=>e().update(s(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(s(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(s(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(ig.crypto&&"function"==typeof ig.crypto.getRandomValues)return ig.crypto.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}}(iy),Object.defineProperty(io,"__esModule",{value:!0}),io.HashMD=io.Maj=io.Chi=void 0;let im=iy;io.Chi=(e,t,r)=>e&t^~e&r,io.Maj=(e,t,r)=>e&t^e&r^t&r;class iA extends im.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,im.createView)(this.buffer)}update(e){(0,ia.exists)(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=(0,im.toBytes)(e)).length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let t=(0,im.createView)(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,ia.exists)(this),(0,ia.output)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),l=n?4:0,u=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+u,s,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=(0,im.createView)(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=s/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}io.HashMD=iA,Object.defineProperty(ii,"__esModule",{value:!0}),ii.ripemd160=ii.RIPEMD160=void 0;let iw=io,ib=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),iE=new Uint8Array(Array(16).fill(0).map((e,t)=>t)),iv=iE.map(e=>(9*e+5)%16),iP=[iE],iS=[iv];for(let e=0;e<4;e++)for(let t of[iP,iS])t.push(t[e].map(e=>ib[e]));let iT=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),iI=iP.map((e,t)=>e.map(e=>iT[t][e])),ik=iS.map((e,t)=>e.map(e=>iT[t][e])),iO=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),i_=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function ix(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}let iC=new Uint32Array(16);class iN extends iw.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)iC[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,a=0|this.h2,s=a,l=0|this.h3,u=l,c=0|this.h4,f=c;for(let e=0;e<5;e++){let t=4-e,p=iO[e],h=i_[e],d=iP[e],y=iS[e],g=iI[e],m=ik[e];for(let t=0;t<16;t++){let n=(0,iy.rotl)(r+ix(e,i,a,l)+iC[d[t]]+p,g[t])+c|0;r=c,c=l,l=0|(0,iy.rotl)(a,10),a=i,i=n}for(let e=0;e<16;e++){let r=(0,iy.rotl)(n+ix(t,o,s,u)+iC[y[e]]+h,m[e])+f|0;n=f,f=u,u=0|(0,iy.rotl)(s,10),s=o,o=r}}this.set(this.h1+a+u|0,this.h2+l+f|0,this.h3+c+n|0,this.h4+r+o|0,this.h0+i+s|0)}roundClean(){iC.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}ii.RIPEMD160=iN,ii.ripemd160=(0,iy.wrapConstructor)(()=>new iN);var iB={};Object.defineProperty(iB,"__esModule",{value:!0}),iB.sha1=void 0;let iR=io,iU=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),iL=new Uint32Array(80);class iH extends iR.HashMD{constructor(){super(64,20,8,!1),this.A=0|iU[0],this.B=0|iU[1],this.C=0|iU[2],this.D=0|iU[3],this.E=0|iU[4]}get(){let{A:e,B:t,C:r,D:n,E:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)iL[r]=e.getUint32(t,!1);for(let e=16;e<80;e++)iL[e]=(0,iy.rotl)(iL[e-3]^iL[e-8]^iL[e-14]^iL[e-16],1);let{A:r,B:n,C:i,D:o,E:a}=this;for(let e=0;e<80;e++){let t,s;e<20?(t=(0,iR.Chi)(n,i,o),s=1518500249):e<40?(t=n^i^o,s=1859775393):e<60?(t=(0,iR.Maj)(n,i,o),s=2400959708):(t=n^i^o,s=3395469782);let l=(0,iy.rotl)(r,5)+t+a+s+iL[e]|0;a=o,o=i,i=(0,iy.rotl)(n,30),n=r,r=l}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,this.set(r,n,i,o,a)}roundClean(){iL.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}iB.sha1=(0,iy.wrapConstructor)(()=>new iH);var iF={};Object.defineProperty(iF,"__esModule",{value:!0}),iF.sha224=iF.sha256=void 0;let iD=io,iM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ij=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),iV=new Uint32Array(64);class iK extends iD.HashMD{constructor(){super(64,32,8,!1),this.A=0|ij[0],this.B=0|ij[1],this.C=0|ij[2],this.D=0|ij[3],this.E=0|ij[4],this.F=0|ij[5],this.G=0|ij[6],this.H=0|ij[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)iV[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=iV[e-15],r=iV[e-2],n=(0,iy.rotr)(t,7)^(0,iy.rotr)(t,18)^t>>>3,i=(0,iy.rotr)(r,17)^(0,iy.rotr)(r,19)^r>>>10;iV[e]=i+iV[e-7]+n+iV[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+((0,iy.rotr)(a,6)^(0,iy.rotr)(a,11)^(0,iy.rotr)(a,25))+(0,iD.Chi)(a,s,l)+iM[e]+iV[e]|0,c=((0,iy.rotr)(r,2)^(0,iy.rotr)(r,13)^(0,iy.rotr)(r,22))+(0,iD.Maj)(r,n,i)|0;u=l,l=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,a,s,l,u)}roundClean(){iV.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class iW extends iK{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}iF.sha256=(0,iy.wrapConstructor)(()=>new iK),iF.sha224=(0,iy.wrapConstructor)(()=>new iW),function(e){function t(e){return r6.from((0,iF.sha256)(Uint8Array.from(e)))}Object.defineProperty(e,"__esModule",{value:!0}),e.taggedHash=e.TAGGED_HASH_PREFIXES=e.TAGS=e.hash256=e.hash160=e.sha256=e.sha1=e.ripemd160=void 0,e.ripemd160=function(e){return r6.from((0,ii.ripemd160)(Uint8Array.from(e)))},e.sha1=function(e){return r6.from((0,iB.sha1)(Uint8Array.from(e)))},e.sha256=t,e.hash160=function(e){return r6.from((0,ii.ripemd160)((0,iF.sha256)(Uint8Array.from(e))))},e.hash256=function(e){return r6.from((0,iF.sha256)((0,iF.sha256)(Uint8Array.from(e))))},e.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],e.TAGGED_HASH_PREFIXES={"BIP0340/challenge":r6.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":r6.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":r6.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:r6.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:r6.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:r6.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:r6.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":r6.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":r6.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},e.taggedHash=function(r,n){return t(r6.concat([e.TAGGED_HASH_PREFIXES[r],n]))}}(ir);var iG=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*l+1>>>0,u=new Uint8Array(o);e[r];){var c=t[e.charCodeAt(r)];if(255===c)return;for(var f=0,p=o-1;(0!==c||f<i)&&-1!==p;p--,f++)c+=a*u[p]>>>0,u[p]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=f,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var d=new Uint8Array(n+(o-h)),y=n;h!==o;)d[y++]=u[h++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var l=(o-i)*u+1>>>0,c=new Uint8Array(l);i!==o;){for(var f=t[i],p=0,h=l-1;(0!==f||p<n)&&-1!==h;h--,p++)f+=256*c[h]>>>0,c[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=p,i++}for(var d=l-n;d!==l&&0===c[d];)d++;for(var y=s.repeat(r);d<l;++d)y+=e.charAt(c[d]);return y},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw Error("Non-base"+a+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),{sha256:iX}=iF,iq=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=Uint8Array.from(t),n=e(r),i=r.length+4,o=new Uint8Array(i);return o.set(r,0),o.set(n.subarray(0,4),r.length),iG.encode(o,i)},decode:function(e){var r=t(iG.decode(e));if(!r)throw Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=iG.decodeUnsafe(e);if(r)return t(r)}}}(function(e){return iX(iX(e))});Object.defineProperty(it,"__esModule",{value:!0}),it.p2pkh=void 0;let iz=n0(),iQ=iz.OPS;it.p2pkh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,nT.typeforce)({network:nT.typeforce.maybe(nT.typeforce.Object),address:nT.typeforce.maybe(nT.typeforce.String),hash:nT.typeforce.maybe(nT.typeforce.BufferN(20)),output:nT.typeforce.maybe(nT.typeforce.BufferN(25)),pubkey:nT.typeforce.maybe(nT.isPoint),signature:nT.typeforce.maybe(iz.isCanonicalScriptSignature),input:nT.typeforce.maybe(nT.typeforce.Buffer)},e);let r=n1.value(()=>{let t=r6.from(iq.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}}),n=n1.value(()=>iz.decompile(e.input)),i=e.network||nh.bitcoin,o={name:"p2pkh",network:i};if(n1.prop(o,"address",()=>{if(!o.hash)return;let e=r6.allocUnsafe(21);return e.writeUInt8(i.pubKeyHash,0),o.hash.copy(e,1),iq.encode(e)}),n1.prop(o,"hash",()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||o.pubkey?ir.hash160(e.pubkey||o.pubkey):void 0),n1.prop(o,"output",()=>{if(o.hash)return iz.compile([iQ.OP_DUP,iQ.OP_HASH160,o.hash,iQ.OP_EQUALVERIFY,iQ.OP_CHECKSIG])}),n1.prop(o,"pubkey",()=>{if(e.input)return n()[1]}),n1.prop(o,"signature",()=>{if(e.input)return n()[0]}),n1.prop(o,"input",()=>{if(e.pubkey&&e.signature)return iz.compile([e.signature,e.pubkey])}),n1.prop(o,"witness",()=>{if(o.input)return[]}),t.validate){let t=r6.from([]);if(e.address){if(r().version!==i.pubKeyHash)throw TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw TypeError("Invalid address");t=r().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==iQ.OP_DUP||e.output[1]!==iQ.OP_HASH160||20!==e.output[2]||e.output[23]!==iQ.OP_EQUALVERIFY||e.output[24]!==iQ.OP_CHECKSIG)throw TypeError("Output is invalid");let r=e.output.slice(3,23);if(t.length>0&&!t.equals(r))throw TypeError("Hash mismatch");t=r}if(e.pubkey){let r=ir.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw TypeError("Hash mismatch");t=r}if(e.input){let r=n();if(2!==r.length)throw TypeError("Input is invalid");if(!iz.isCanonicalScriptSignature(r[0]))throw TypeError("Input has invalid signature");if(!(0,nT.isPoint)(r[1]))throw TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw TypeError("Pubkey mismatch");let i=ir.hash160(r[1]);if(t.length>0&&!t.equals(i))throw TypeError("Hash mismatch")}}return Object.assign(o,e)};var iY={};Object.defineProperty(iY,"__esModule",{value:!0}),iY.p2sh=void 0;let iJ=n0(),i$=iJ.OPS;iY.p2sh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,nT.typeforce)({network:nT.typeforce.maybe(nT.typeforce.Object),address:nT.typeforce.maybe(nT.typeforce.String),hash:nT.typeforce.maybe(nT.typeforce.BufferN(20)),output:nT.typeforce.maybe(nT.typeforce.BufferN(23)),redeem:nT.typeforce.maybe({network:nT.typeforce.maybe(nT.typeforce.Object),output:nT.typeforce.maybe(nT.typeforce.Buffer),input:nT.typeforce.maybe(nT.typeforce.Buffer),witness:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer))}),input:nT.typeforce.maybe(nT.typeforce.Buffer),witness:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||nh.bitcoin);let n={network:r},i=n1.value(()=>{let t=r6.from(iq.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}}),o=n1.value(()=>iJ.decompile(e.input)),a=n1.value(()=>{let t=o(),n=t[t.length-1];return{network:r,output:n===i$.OP_FALSE?r6.from([]):n,input:iJ.compile(t.slice(0,-1)),witness:e.witness||[]}});if(n1.prop(n,"address",()=>{if(!n.hash)return;let e=r6.allocUnsafe(21);return e.writeUInt8(n.network.scriptHash,0),n.hash.copy(e,1),iq.encode(e)}),n1.prop(n,"hash",()=>e.output?e.output.slice(2,22):e.address?i().hash:n.redeem&&n.redeem.output?ir.hash160(n.redeem.output):void 0),n1.prop(n,"output",()=>{if(n.hash)return iJ.compile([i$.OP_HASH160,n.hash,i$.OP_EQUAL])}),n1.prop(n,"redeem",()=>{if(e.input)return a()}),n1.prop(n,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return iJ.compile([].concat(iJ.decompile(e.redeem.input),e.redeem.output))}),n1.prop(n,"witness",()=>n.redeem&&n.redeem.witness?n.redeem.witness:n.input?[]:void 0),n1.prop(n,"name",()=>{let e=["p2sh"];return void 0!==n.redeem&&void 0!==n.redeem.name&&e.push(n.redeem.name),e.join("-")}),t.validate){let t=r6.from([]);if(e.address){if(i().version!==r.scriptHash)throw TypeError("Invalid version or Network mismatch");if(20!==i().hash.length)throw TypeError("Invalid address");t=i().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==i$.OP_HASH160||20!==e.output[1]||e.output[22]!==i$.OP_EQUAL)throw TypeError("Output is invalid");let r=e.output.slice(2,22);if(t.length>0&&!t.equals(r))throw TypeError("Hash mismatch");t=r}let n=e=>{if(e.output){let r=iJ.decompile(e.output);if(!r||r.length<1)throw TypeError("Redeem.output too short");if(e.output.byteLength>520)throw TypeError("Redeem.output unspendable if larger than 520 bytes");if(iJ.countNonPushOnlyOPs(r)>201)throw TypeError("Redeem.output unspendable with more than 201 non-push ops");let n=ir.hash160(e.output);if(t.length>0&&!t.equals(n))throw TypeError("Hash mismatch");t=n}if(e.input){let t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw TypeError("Empty input");if(t&&r)throw TypeError("Input and witness provided");if(t){let t=iJ.decompile(e.input);if(!iJ.isPushOnly(t))throw TypeError("Non push-only scriptSig")}}};if(e.input){let e=o();if(!e||e.length<1)throw TypeError("Input too short");if(!r6.isBuffer(a().output))throw TypeError("Input is invalid");n(a())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw TypeError("Network mismatch");if(e.input){let t=a();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw TypeError("Redeem.input mismatch")}n(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!(0,nT.stacksEqual)(e.redeem.witness,e.witness))throw TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,e)};var iZ={},i0={};Object.defineProperty(i0,"__esModule",{value:!0}),i0.bech32m=i0.bech32=void 0;let i1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i2={};for(let e=0;e<i1.length;e++)i2[i1.charAt(e)]=e;function i3(e){let t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i4(e){let t=1;for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i3(t)^n>>5}t=i3(t);for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);t=i3(t)^31&n}return t}function i5(e,t,r,n){let i=0,o=0,a=(1<<r)-1,s=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],o+=t;o>=r;)s.push(i>>(o-=r)&a);if(n)o>0&&s.push(i<<r-o&a);else{if(o>=t)return"Excess padding";if(i<<r-o&a)return"Non-zero padding"}return s}function i6(e){return i5(e,8,5,!0)}function i8(e){let t=i5(e,5,8,!1);if(Array.isArray(t))return t}function i9(e){let t=i5(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}function i7(e){let t;function r(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";let n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;let o=(e=n).lastIndexOf("1");if(-1===o)return"No separator character for "+e;if(0===o)return"Missing prefix for "+e;let a=e.slice(0,o),s=e.slice(o+1);if(s.length<6)return"Data too short";let l=i4(a);if("string"==typeof l)return l;let u=[];for(let e=0;e<s.length;++e){let t=s.charAt(e),r=i2[t];if(void 0===r)return"Unknown character "+t;l=i3(l)^r,e+6>=s.length||u.push(r)}return l!==t?"Invalid checksum for "+e:{prefix:a,words:u}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){let n=r(e,t);if("object"==typeof n)return n},decode:function(e,t){let n=r(e,t);if("object"==typeof n)return n;throw Error(n)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw TypeError("Exceeds length limit");let i=i4(e=e.toLowerCase());if("string"==typeof i)throw Error(i);let o=e+"1";for(let e=0;e<r.length;++e){let t=r[e];if(t>>5)throw Error("Non 5-bit word");i=i3(i)^t,o+=i1.charAt(t)}for(let e=0;e<6;++e)i=i3(i);i^=t;for(let e=0;e<6;++e){let t=i>>(5-e)*5&31;o+=i1.charAt(t)}return o},toWords:i6,fromWordsUnsafe:i8,fromWords:i9}}i0.bech32=i7("bech32"),i0.bech32m=i7("bech32m"),Object.defineProperty(iZ,"__esModule",{value:!0}),iZ.p2wpkh=void 0;let oe=n0(),ot=oe.OPS,or=r6.alloc(0);iZ.p2wpkh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,nT.typeforce)({address:nT.typeforce.maybe(nT.typeforce.String),hash:nT.typeforce.maybe(nT.typeforce.BufferN(20)),input:nT.typeforce.maybe(nT.typeforce.BufferN(0)),network:nT.typeforce.maybe(nT.typeforce.Object),output:nT.typeforce.maybe(nT.typeforce.BufferN(22)),pubkey:nT.typeforce.maybe(nT.isPoint),signature:nT.typeforce.maybe(oe.isCanonicalScriptSignature),witness:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer))},e);let r=n1.value(()=>{let t=i0.bech32.decode(e.address),r=t.words.shift(),n=i0.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:r6.from(n)}}),n=e.network||nh.bitcoin,i={name:"p2wpkh",network:n};if(n1.prop(i,"address",()=>{if(!i.hash)return;let e=i0.bech32.toWords(i.hash);return e.unshift(0),i0.bech32.encode(n.bech32,e)}),n1.prop(i,"hash",()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||i.pubkey?ir.hash160(e.pubkey||i.pubkey):void 0),n1.prop(i,"output",()=>{if(i.hash)return oe.compile([ot.OP_0,i.hash])}),n1.prop(i,"pubkey",()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0),n1.prop(i,"signature",()=>{if(e.witness)return e.witness[0]}),n1.prop(i,"input",()=>{if(i.witness)return or}),n1.prop(i,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),t.validate){let t=r6.from([]);if(e.address){if(n&&n.bech32!==r().prefix)throw TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw TypeError("Invalid address version");if(20!==r().data.length)throw TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==ot.OP_0||20!==e.output[1])throw TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){let r=ir.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw TypeError("Hash mismatch");if(t=r,!(0,nT.isPoint)(e.pubkey)||33!==e.pubkey.length)throw TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw TypeError("Witness is invalid");if(!oe.isCanonicalScriptSignature(e.witness[0]))throw TypeError("Witness has invalid signature");if(!(0,nT.isPoint)(e.witness[1])||33!==e.witness[1].length)throw TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw TypeError("Pubkey mismatch");let r=ir.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw TypeError("Hash mismatch")}}return Object.assign(i,e)};var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.p2wsh=void 0;let oi=n0(),oo=oi.OPS,oa=r6.alloc(0);function os(e){return!!(r6.isBuffer(e)&&65===e.length&&4===e[0]&&(0,nT.isPoint)(e))}on.p2wsh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,nT.typeforce)({network:nT.typeforce.maybe(nT.typeforce.Object),address:nT.typeforce.maybe(nT.typeforce.String),hash:nT.typeforce.maybe(nT.typeforce.BufferN(32)),output:nT.typeforce.maybe(nT.typeforce.BufferN(34)),redeem:nT.typeforce.maybe({input:nT.typeforce.maybe(nT.typeforce.Buffer),network:nT.typeforce.maybe(nT.typeforce.Object),output:nT.typeforce.maybe(nT.typeforce.Buffer),witness:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer))}),input:nT.typeforce.maybe(nT.typeforce.BufferN(0)),witness:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer))},e);let r=n1.value(()=>{let t=i0.bech32.decode(e.address),r=t.words.shift(),n=i0.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:r6.from(n)}}),n=n1.value(()=>oi.decompile(e.redeem.input)),i=e.network;i||(i=e.redeem&&e.redeem.network||nh.bitcoin);let o={network:i};if(n1.prop(o,"address",()=>{if(!o.hash)return;let e=i0.bech32.toWords(o.hash);return e.unshift(0),i0.bech32.encode(i.bech32,e)}),n1.prop(o,"hash",()=>e.output?e.output.slice(2):e.address?r().data:o.redeem&&o.redeem.output?ir.sha256(o.redeem.output):void 0),n1.prop(o,"output",()=>{if(o.hash)return oi.compile([oo.OP_0,o.hash])}),n1.prop(o,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:oa,witness:e.witness.slice(0,-1)}}),n1.prop(o,"input",()=>{if(o.witness)return oa}),n1.prop(o,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){let t=oi.toStack(n());return o.redeem=Object.assign({witness:t},e.redeem),o.redeem.input=oa,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),n1.prop(o,"name",()=>{let e=["p2wsh"];return void 0!==o.redeem&&void 0!==o.redeem.name&&e.push(o.redeem.name),e.join("-")}),t.validate){let t=r6.from([]);if(e.address){if(r().prefix!==i.bech32)throw TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw TypeError("Invalid address version");if(32!==r().data.length)throw TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==oo.OP_0||32!==e.output[1])throw TypeError("Output is invalid");let r=e.output.slice(2);if(t.length>0&&!t.equals(r))throw TypeError("Hash mismatch");t=r}if(e.redeem){if(e.redeem.network&&e.redeem.network!==i)throw TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw TypeError("Ambiguous witness source");if(e.redeem.output){let r=oi.decompile(e.redeem.output);if(!r||r.length<1)throw TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw TypeError("Redeem.output unspendable if larger than 3600 bytes");if(oi.countNonPushOnlyOPs(r)>201)throw TypeError("Redeem.output unspendable with more than 201 non-push ops");let n=ir.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw TypeError("Hash mismatch");t=n}if(e.redeem.input&&!oi.isPushOnly(n()))throw TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!(0,nT.stacksEqual)(e.witness,e.redeem.witness))throw TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&n().some(os)||e.redeem.output&&(oi.decompile(e.redeem.output)||[]).some(os))throw TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){let t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw TypeError("Witness and redeem.output mismatch");if(e.witness.some(os)||(oi.decompile(t)||[]).some(os))throw TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,e)};var ol={},ou={};Object.defineProperty(ou,"__esModule",{value:!0}),ou.getEccLib=ou.initEccLib=void 0;let oc={};ou.initEccLib=function(e){e?e!==oc.eccLib&&(op("function"==typeof e.isXOnlyPoint),op(e.isXOnlyPoint(of("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),op(e.isXOnlyPoint(of("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),op(e.isXOnlyPoint(of("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),op(e.isXOnlyPoint(of("0000000000000000000000000000000000000000000000000000000000000001"))),op(!e.isXOnlyPoint(of("0000000000000000000000000000000000000000000000000000000000000000"))),op(!e.isXOnlyPoint(of("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),op("function"==typeof e.xOnlyPointAddTweak),oh.forEach(t=>{let r=e.xOnlyPointAddTweak(of(t.pubkey),of(t.tweak));null===t.result?op(null===r):(op(null!==r),op(r.parity===t.parity),op(r6.from(r.xOnlyPubkey).equals(of(t.result))))}),oc.eccLib=e):oc.eccLib=e},ou.getEccLib=function(){if(!oc.eccLib)throw Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return oc.eccLib};let of=e=>r6.from(e,"hex");function op(e){if(!e)throw Error("ecc library invalid")}let oh=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}];var od={},oy={},og={exports:{}};!/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */function(e,t){var r=nI.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=nI:(n(nI,t),t.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return nI.SlowBuffer(e)}}(og,og.exports);var om=og.exports.Buffer;function oA(e){if(e<0||e>9007199254740991||e%1!=0)throw RangeError("value out of range")}function ow(e){return oA(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Object.defineProperty(oy,"__esModule",{value:!0}),oy.BufferReader=oy.BufferWriter=oy.cloneBuffer=oy.reverseBuffer=oy.writeUInt64LE=oy.readUInt64LE=oy.varuint=void 0;let{typeforce:ob}=nT,oE={encode:function e(t,r,n){if(oA(t),r||(r=om.allocUnsafe(ow(t))),!om.isBuffer(r))throw TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),e.bytes=1):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),e.bytes=5):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),e.bytes=9),r},decode:function e(t,r){if(!om.isBuffer(t))throw TypeError("buffer must be a Buffer instance");r||(r=0);var n=t.readUInt8(r);if(n<253)return e.bytes=1,n;if(253===n)return e.bytes=3,t.readUInt16LE(r+1);if(254===n)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var i=t.readUInt32LE(r+1),o=4294967296*t.readUInt32LE(r+5)+i;return oA(o),o},encodingLength:ow};function ov(e,t){if("number"!=typeof e)throw Error("cannot write a non-number as a number");if(e<0)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("RangeError: value out of range");if(Math.floor(e)!==e)throw Error("value has a fractional component")}function oP(e,t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return ov((n*=4294967296)+r,9007199254740991),n+r}function oS(e,t,r){return ov(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}oy.varuint=oE,oy.readUInt64LE=oP,oy.writeUInt64LE=oS,oy.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},oy.cloneBuffer=function(e){let t=r6.allocUnsafe(e.length);return e.copy(t),t};class oT{static withCapacity(e){return new oT(r6.alloc(e))}constructor(e,t=0){this.buffer=e,this.offset=t,ob(nT.tuple(nT.Buffer,nT.UInt32),[e,t])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=oS(this.buffer,e,this.offset)}writeVarInt(e){oE.encode(e,this.buffer,this.offset),this.offset+=oE.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(e=>this.writeVarSlice(e))}end(){if(this.buffer.length===this.offset)return this.buffer;throw Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}oy.BufferWriter=oT;class oI{constructor(e,t=0){this.buffer=e,this.offset=t,ob(nT.tuple(nT.Buffer,nT.UInt32),[e,t])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=oP(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=oE.decode(this.buffer,this.offset);return this.offset+=oE.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw Error("Cannot read slice out of bounds");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}function ok(){return B||(B=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.p2tr=e.p2wsh=e.p2wpkh=e.p2sh=e.p2pkh=e.p2pk=e.p2ms=e.embed=void 0,Object.defineProperty(e,"embed",{enumerable:!0,get:function(){return ny.p2data}}),Object.defineProperty(e,"p2ms",{enumerable:!0,get:function(){return n4.p2ms}}),Object.defineProperty(e,"p2pk",{enumerable:!0,get:function(){return n9.p2pk}}),Object.defineProperty(e,"p2pkh",{enumerable:!0,get:function(){return it.p2pkh}}),Object.defineProperty(e,"p2sh",{enumerable:!0,get:function(){return iY.p2sh}}),Object.defineProperty(e,"p2wpkh",{enumerable:!0,get:function(){return iZ.p2wpkh}}),Object.defineProperty(e,"p2wsh",{enumerable:!0,get:function(){return on.p2wsh}});let t=function(){if(N)return ol;N=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.p2tr=void 0;let e=n0(),t=oO(),r=e.OPS;return ol.p2tr=function(n,i){if(!n.address&&!n.output&&!n.pubkey&&!n.internalPubkey&&!(n.witness&&n.witness.length>1))throw TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),(0,nT.typeforce)({address:nT.typeforce.maybe(nT.typeforce.String),input:nT.typeforce.maybe(nT.typeforce.BufferN(0)),network:nT.typeforce.maybe(nT.typeforce.Object),output:nT.typeforce.maybe(nT.typeforce.BufferN(34)),internalPubkey:nT.typeforce.maybe(nT.typeforce.BufferN(32)),hash:nT.typeforce.maybe(nT.typeforce.BufferN(32)),pubkey:nT.typeforce.maybe(nT.typeforce.BufferN(32)),signature:nT.typeforce.maybe(nT.typeforce.anyOf(nT.typeforce.BufferN(64),nT.typeforce.BufferN(65))),witness:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer)),scriptTree:nT.typeforce.maybe(nT.isTaptree),redeem:nT.typeforce.maybe({output:nT.typeforce.maybe(nT.typeforce.Buffer),redeemVersion:nT.typeforce.maybe(nT.typeforce.Number),witness:nT.typeforce.maybe(nT.typeforce.arrayOf(nT.typeforce.Buffer))}),redeemVersion:nT.typeforce.maybe(nT.typeforce.Number)},n);let o=n1.value(()=>(0,t.fromBech32)(n.address)),a=n1.value(()=>{if(!(!n.witness||!n.witness.length))return n.witness.length>=2&&80===n.witness[n.witness.length-1][0]?n.witness.slice(0,-1):n.witness.slice()}),s=n1.value(()=>n.scriptTree?(0,od.toHashTree)(n.scriptTree):n.hash?{hash:n.hash}:void 0),l=n.network||nh.bitcoin,u={name:"p2tr",network:l};if(n1.prop(u,"address",()=>{if(!u.pubkey)return;let e=i0.bech32m.toWords(u.pubkey);return e.unshift(1),i0.bech32m.encode(l.bech32,e)}),n1.prop(u,"hash",()=>{let e=s();if(e)return e.hash;let t=a();if(t&&t.length>1){let e=t[t.length-1],r=e[0]&nT.TAPLEAF_VERSION_MASK,n=t[t.length-2],i=(0,od.tapleafHash)({output:n,version:r});return(0,od.rootHashFromPath)(e,i)}return null}),n1.prop(u,"output",()=>{if(u.pubkey)return e.compile([r.OP_1,u.pubkey])}),n1.prop(u,"redeemVersion",()=>n.redeemVersion?n.redeemVersion:n.redeem&&void 0!==n.redeem.redeemVersion&&null!==n.redeem.redeemVersion?n.redeem.redeemVersion:od.LEAF_VERSION_TAPSCRIPT),n1.prop(u,"redeem",()=>{let e=a();if(!(!e||e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&nT.TAPLEAF_VERSION_MASK}}),n1.prop(u,"pubkey",()=>{if(n.pubkey)return n.pubkey;if(n.output)return n.output.slice(2);if(n.address)return o().data;if(u.internalPubkey){let e=(0,od.tweakKey)(u.internalPubkey,u.hash);if(e)return e.x}}),n1.prop(u,"internalPubkey",()=>{if(n.internalPubkey)return n.internalPubkey;let e=a();if(e&&e.length>1)return e[e.length-1].slice(1,33)}),n1.prop(u,"signature",()=>{if(n.signature)return n.signature;let e=a();if(!(!e||1!==e.length))return e[0]}),n1.prop(u,"witness",()=>{if(n.witness)return n.witness;let e=s();if(e&&n.redeem&&n.redeem.output&&n.internalPubkey){let t=(0,od.tapleafHash)({output:n.redeem.output,version:u.redeemVersion}),r=(0,od.findScriptPath)(e,t);if(!r)return;let i=(0,od.tweakKey)(n.internalPubkey,e.hash);if(!i)return;let o=nI.Buffer.concat([nI.Buffer.from([u.redeemVersion|i.parity]),n.internalPubkey].concat(r));return[n.redeem.output,o]}if(n.signature)return[n.signature]}),i.validate){let t=nI.Buffer.from([]);if(n.address){if(l&&l.bech32!==o().prefix)throw TypeError("Invalid prefix or Network mismatch");if(1!==o().version)throw TypeError("Invalid address version");if(32!==o().data.length)throw TypeError("Invalid address data");t=o().data}if(n.pubkey){if(t.length>0&&!t.equals(n.pubkey))throw TypeError("Pubkey mismatch");t=n.pubkey}if(n.output){if(34!==n.output.length||n.output[0]!==r.OP_1||32!==n.output[1])throw TypeError("Output is invalid");if(t.length>0&&!t.equals(n.output.slice(2)))throw TypeError("Pubkey mismatch");t=n.output.slice(2)}if(n.internalPubkey){let e=(0,od.tweakKey)(n.internalPubkey,u.hash);if(t.length>0&&!t.equals(e.x))throw TypeError("Pubkey mismatch");t=e.x}if(t&&t.length&&!(0,ou.getEccLib)().isXOnlyPoint(t))throw TypeError("Invalid pubkey for p2tr");let i=s();if(n.hash&&i&&!n.hash.equals(i.hash))throw TypeError("Hash mismatch");if(n.redeem&&n.redeem.output&&i){let e=(0,od.tapleafHash)({output:n.redeem.output,version:u.redeemVersion});if(!(0,od.findScriptPath)(i,e))throw TypeError("Redeem script not in tree")}let c=a();if(n.redeem&&u.redeem){if(n.redeem.redeemVersion&&n.redeem.redeemVersion!==u.redeem.redeemVersion)throw TypeError("Redeem.redeemVersion and witness mismatch");if(n.redeem.output){if(0===e.decompile(n.redeem.output).length)throw TypeError("Redeem.output is invalid");if(u.redeem.output&&!n.redeem.output.equals(u.redeem.output))throw TypeError("Redeem.output and witness mismatch")}if(n.redeem.witness&&u.redeem.witness&&!(0,nT.stacksEqual)(n.redeem.witness,u.redeem.witness))throw TypeError("Redeem.witness and witness mismatch")}if(c&&c.length){if(1===c.length){if(n.signature&&!n.signature.equals(c[0]))throw TypeError("Signature mismatch")}else{let e=c[c.length-1];if(e.length<33)throw TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);if((e.length-33)%32!=0)throw TypeError(`The control-block length of ${e.length} is incorrect!`);let r=(e.length-33)/32;if(r>128)throw TypeError(`The script path is too long. Got ${r}, expected max 128.`);let i=e.slice(1,33);if(n.internalPubkey&&!n.internalPubkey.equals(i))throw TypeError("Internal pubkey mismatch");if(!(0,ou.getEccLib)().isXOnlyPoint(i))throw TypeError("Invalid internalPubkey for p2tr witness");let o=e[0]&nT.TAPLEAF_VERSION_MASK,a=c[c.length-2],s=(0,od.tapleafHash)({output:a,version:o}),l=(0,od.rootHashFromPath)(e,s),u=(0,od.tweakKey)(i,l);if(!u)throw TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(u.x))throw TypeError("Pubkey mismatch for p2tr witness");if(u.parity!==(1&e[0]))throw Error("Incorrect parity")}}}return Object.assign(u,n)},ol}();Object.defineProperty(e,"p2tr",{enumerable:!0,get:function(){return t.p2tr}})}(nd)),nd}function oO(){if(R)return np;R=1,Object.defineProperty(np,"__esModule",{value:!0}),np.toOutputScript=np.fromOutputScript=np.toBech32=np.toBase58Check=np.fromBech32=np.fromBase58Check=void 0;let e=ok(),t=n0(),r="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function n(e){let t=r6.from(iq.decode(e));if(t.length<21)throw TypeError(e+" is too short");if(t.length>21)throw TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function i(e){let t,r;try{t=i0.bech32.decode(e)}catch{}if(t){if(0!==(r=t.words[0]))throw TypeError(e+" uses wrong encoding")}else if(0===(r=(t=i0.bech32m.decode(e)).words[0]))throw TypeError(e+" uses wrong encoding");let n=i0.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:r6.from(n)}}function o(e,t,r){let n=i0.bech32.toWords(e);return n.unshift(t),0===t?i0.bech32.encode(r,n):i0.bech32m.encode(r,n)}return np.fromBase58Check=n,np.fromBech32=i,np.toBase58Check=function(e,t){(0,nT.typeforce)((0,nT.tuple)(nT.Hash160bit,nT.UInt8),arguments);let r=r6.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),iq.encode(r)},np.toBech32=o,np.fromOutputScript=function(n,i){i=i||nh.bitcoin;try{return e.p2pkh({output:n,network:i}).address}catch{}try{return e.p2sh({output:n,network:i}).address}catch{}try{return e.p2wpkh({output:n,network:i}).address}catch{}try{return e.p2wsh({output:n,network:i}).address}catch{}try{return e.p2tr({output:n,network:i}).address}catch{}try{return function(e,t){let n=e.slice(2);if(n.length<2||n.length>40)throw TypeError("Invalid program length for segwit address");let i=e[0]-80;if(i<2||i>16)throw TypeError("Invalid version for segwit address");if(e[1]!==n.length)throw TypeError("Invalid script for segwit address");return console.warn(r),o(n,i,t.bech32)}(n,i)}catch{}throw Error(t.toASM(n)+" has no matching Address")},np.toOutputScript=function(o,a){let s,l;a=a||nh.bitcoin;try{s=n(o)}catch{}if(s){if(s.version===a.pubKeyHash)return e.p2pkh({hash:s.hash}).output;if(s.version===a.scriptHash)return e.p2sh({hash:s.hash}).output}else{try{l=i(o)}catch{}if(l){if(l.prefix!==a.bech32)throw Error(o+" has an invalid prefix");if(0===l.version){if(20===l.data.length)return e.p2wpkh({hash:l.data}).output;if(32===l.data.length)return e.p2wsh({hash:l.data}).output}else if(1===l.version){if(32===l.data.length)return e.p2tr({pubkey:l.data}).output}else if(l.version>=2&&l.version<=16&&l.data.length>=2&&l.data.length<=40)return console.warn(r),t.compile([l.version+80,l.data])}}throw Error(o+" has no matching Script")},np}oy.BufferReader=oI,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tweakKey=e.tapTweakHash=e.tapleafHash=e.findScriptPath=e.toHashTree=e.rootHashFromPath=e.MAX_TAPTREE_DEPTH=e.LEAF_VERSION_TAPSCRIPT=void 0,e.LEAF_VERSION_TAPSCRIPT=192,e.MAX_TAPTREE_DEPTH=128;let t=e=>"left"in e&&"right"in e;function r(t){let r=t.version||e.LEAF_VERSION_TAPSCRIPT;return ir.taggedHash("TapLeaf",nI.Buffer.concat([nI.Buffer.from([r]),function(e){let t=oy.varuint.encodingLength(e.length),r=nI.Buffer.allocUnsafe(t);return oy.varuint.encode(e.length,r),nI.Buffer.concat([r,e])}(t.output)]))}function n(e,t){return ir.taggedHash("TapTweak",nI.Buffer.concat(t?[e,t]:[e]))}function i(e,t){return ir.taggedHash("TapBranch",nI.Buffer.concat([e,t]))}e.rootHashFromPath=function(e,t){if(e.length<33)throw TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);let r=(e.length-33)/32,n=t;for(let t=0;t<r;t++){let r=e.slice(33+32*t,65+32*t);n=0>n.compare(r)?i(n,r):i(r,n)}return n},e.toHashTree=function e(t){if((0,nT.isTapleaf)(t))return{hash:r(t)};let n=[e(t[0]),e(t[1])];n.sort((e,t)=>e.hash.compare(t.hash));let[o,a]=n;return{hash:i(o.hash,a.hash),left:o,right:a}},e.findScriptPath=function e(r,n){if(t(r)){let t=e(r.left,n);if(void 0!==t)return[...t,r.right.hash];let i=e(r.right,n);if(void 0!==i)return[...i,r.left.hash]}else if(r.hash.equals(n))return[]},e.tapleafHash=r,e.tapTweakHash=n,e.tweakKey=function(e,t){if(!nI.Buffer.isBuffer(e)||32!==e.length||t&&32!==t.length)return null;let r=n(e,t),i=(0,ou.getEccLib)().xOnlyPointAddTweak(e,r);return i&&null!==i.xOnlyPubkey?{parity:i.parity,x:nI.Buffer.from(i.xOnlyPubkey)}:null}}(od);var o_={},ox={};Object.defineProperty(ox,"__esModule",{value:!0}),ox.fastMerkleRoot=void 0,ox.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let r=e.length,n=e.concat();for(;r>1;){let e=0;for(let i=0;i<r;i+=2,++e){let o=n[i],a=i+1===r?o:n[i+1],s=r6.concat([o,a]);n[e]=t(s)}r=e}return n[0]};var oC={};Object.defineProperty(oC,"__esModule",{value:!0}),oC.Transaction=void 0;let oN=n0(),oB=n0(),{typeforce:oR}=nT;function oU(e){let t=e.length;return oy.varuint.encodingLength(t)+t}let oL=r6.allocUnsafe(0),oH=[],oF=r6.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),oD=r6.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),oM={script:oL,valueBuffer:r6.from("ffffffffffffffff","hex")};class oj{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){let r=new oy.BufferReader(e),n=new oj;n.version=r.readInt32();let i=r.readUInt8(),o=r.readUInt8(),a=!1;i===oj.ADVANCED_TRANSACTION_MARKER&&o===oj.ADVANCED_TRANSACTION_FLAG?a=!0:r.offset-=2;let s=r.readVarInt();for(let e=0;e<s;++e)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:oH});let l=r.readVarInt();for(let e=0;e<l;++e)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(a){for(let e=0;e<s;++e)n.ins[e].witness=r.readVector();if(!n.hasWitnesses())throw Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),t)return n;if(r.offset!==e.length)throw Error("Transaction has unexpected data");return n}static fromHex(e){return oj.fromBuffer(r6.from(e,"hex"),!1)}static isCoinbaseHash(e){oR(nT.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&oj.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return oR(nT.tuple(nT.Hash256bit,nT.UInt32,nT.maybe(nT.UInt32),nT.maybe(nT.Buffer)),arguments),nT.Null(r)&&(r=oj.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||oL,sequence:r,witness:oH})-1}addOutput(e,t){return oR(nT.tuple(nT.Buffer,nT.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some(e=>0!==e.witness.length)}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let t=e&&this.hasWitnesses();return(t?10:8)+oy.varuint.encodingLength(this.ins.length)+oy.varuint.encodingLength(this.outs.length)+this.ins.reduce((e,t)=>e+40+oU(t.script),0)+this.outs.reduce((e,t)=>e+8+oU(t.script),0)+(t?this.ins.reduce((e,t)=>e+function(e){let t=e.length;return oy.varuint.encodingLength(t)+e.reduce((e,t)=>e+oU(t),0)}(t.witness),0):0)}clone(){let e=new oj;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness})),e.outs=this.outs.map(e=>({script:e.script,value:e.value})),e}hashForSignature(e,t,r){if(oR(nT.tuple(nT.UInt32,nT.Buffer,nT.Number),arguments),e>=this.ins.length)return oD;let n=oN.compile(oN.decompile(t).filter(e=>e!==oB.OPS.OP_CODESEPARATOR)),i=this.clone();if((31&r)===oj.SIGHASH_NONE)i.outs=[],i.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)});else if((31&r)===oj.SIGHASH_SINGLE){if(e>=this.outs.length)return oD;i.outs.length=e+1;for(let t=0;t<e;t++)i.outs[t]=oM;i.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)})}r&oj.SIGHASH_ANYONECANPAY?(i.ins=[i.ins[e]],i.ins[0].script=n):(i.ins.forEach(e=>{e.script=oL}),i.ins[e].script=n);let o=r6.allocUnsafe(i.byteLength(!1)+4);return o.writeInt32LE(r,o.length-4),i.__toBuffer(o,0,!1),ir.hash256(o)}hashForWitnessV1(e,t,r,n,i,o){if(oR(nT.tuple(nT.UInt32,oR.arrayOf(nT.Buffer),oR.arrayOf(nT.Satoshi),nT.UInt32),arguments),r.length!==this.ins.length||t.length!==this.ins.length)throw Error("Must supply prevout script and value for all inputs");let a=n===oj.SIGHASH_DEFAULT?oj.SIGHASH_ALL:n&oj.SIGHASH_OUTPUT_MASK,s=(n&oj.SIGHASH_INPUT_MASK)===oj.SIGHASH_ANYONECANPAY,l=a===oj.SIGHASH_NONE,u=a===oj.SIGHASH_SINGLE,c=oL,f=oL,p=oL,h=oL,d=oL;if(!s){let e=oy.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)}),c=ir.sha256(e.end()),e=oy.BufferWriter.withCapacity(8*this.ins.length),r.forEach(t=>e.writeUInt64(t)),f=ir.sha256(e.end()),e=oy.BufferWriter.withCapacity(t.map(oU).reduce((e,t)=>e+t)),t.forEach(t=>e.writeVarSlice(t)),p=ir.sha256(e.end()),e=oy.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(t=>e.writeUInt32(t.sequence)),h=ir.sha256(e.end())}if(l||u){if(u&&e<this.outs.length){let t=this.outs[e],r=oy.BufferWriter.withCapacity(8+oU(t.script));r.writeUInt64(t.value),r.writeVarSlice(t.script),d=ir.sha256(r.end())}}else{let e=this.outs.map(e=>8+oU(e.script)).reduce((e,t)=>e+t),t=oy.BufferWriter.withCapacity(e);this.outs.forEach(e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)}),d=ir.sha256(t.end())}let y=(i?2:0)+(o?1:0),g=174-(s?49:0)-(l?32:0)+(o?32:0)+(i?37:0),m=oy.BufferWriter.withCapacity(g);if(m.writeUInt8(n),m.writeInt32(this.version),m.writeUInt32(this.locktime),m.writeSlice(c),m.writeSlice(f),m.writeSlice(p),m.writeSlice(h),l||u||m.writeSlice(d),m.writeUInt8(y),s){let n=this.ins[e];m.writeSlice(n.hash),m.writeUInt32(n.index),m.writeUInt64(r[e]),m.writeVarSlice(t[e]),m.writeUInt32(n.sequence)}else m.writeUInt32(e);if(o){let e=oy.BufferWriter.withCapacity(oU(o));e.writeVarSlice(o),m.writeSlice(ir.sha256(e.end()))}return u&&m.writeSlice(d),i&&(m.writeSlice(i),m.writeUInt8(0),m.writeUInt32(4294967295)),ir.taggedHash("TapSighash",r6.concat([r6.from([0]),m.end()]))}hashForWitnessV0(e,t,r,n){oR(nT.tuple(nT.UInt32,nT.Buffer,nT.Satoshi,nT.UInt32),arguments);let i=r6.from([]),o,a=oF,s=oF,l=oF;if(n&oj.SIGHASH_ANYONECANPAY||(i=r6.allocUnsafe(36*this.ins.length),o=new oy.BufferWriter(i,0),this.ins.forEach(e=>{o.writeSlice(e.hash),o.writeUInt32(e.index)}),s=ir.hash256(i)),n&oj.SIGHASH_ANYONECANPAY||(31&n)===oj.SIGHASH_SINGLE||(31&n)===oj.SIGHASH_NONE||(i=r6.allocUnsafe(4*this.ins.length),o=new oy.BufferWriter(i,0),this.ins.forEach(e=>{o.writeUInt32(e.sequence)}),l=ir.hash256(i)),(31&n)!==oj.SIGHASH_SINGLE&&(31&n)!==oj.SIGHASH_NONE){let e=this.outs.reduce((e,t)=>e+8+oU(t.script),0);i=r6.allocUnsafe(e),o=new oy.BufferWriter(i,0),this.outs.forEach(e=>{o.writeUInt64(e.value),o.writeVarSlice(e.script)}),a=ir.hash256(i)}else if((31&n)===oj.SIGHASH_SINGLE&&e<this.outs.length){let t=this.outs[e];i=r6.allocUnsafe(8+oU(t.script)),(o=new oy.BufferWriter(i,0)).writeUInt64(t.value),o.writeVarSlice(t.script),a=ir.hash256(i)}i=r6.allocUnsafe(156+oU(t)),o=new oy.BufferWriter(i,0);let u=this.ins[e];return o.writeInt32(this.version),o.writeSlice(s),o.writeSlice(l),o.writeSlice(u.hash),o.writeUInt32(u.index),o.writeVarSlice(t),o.writeUInt64(r),o.writeUInt32(u.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(n),ir.hash256(i)}getHash(e){return e&&this.isCoinbase()?r6.alloc(32,0):ir.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,oy.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){oR(nT.tuple(nT.Number,nT.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){oR(nT.tuple(nT.Number,[nT.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=r6.allocUnsafe(this.byteLength(r)));let n=new oy.BufferWriter(e,t||0);n.writeInt32(this.version);let i=r&&this.hasWitnesses();return i&&(n.writeUInt8(oj.ADVANCED_TRANSACTION_MARKER),n.writeUInt8(oj.ADVANCED_TRANSACTION_FLAG)),n.writeVarInt(this.ins.length),this.ins.forEach(e=>{n.writeSlice(e.hash),n.writeUInt32(e.index),n.writeVarSlice(e.script),n.writeUInt32(e.sequence)}),n.writeVarInt(this.outs.length),this.outs.forEach(e=>{void 0!==e.value?n.writeUInt64(e.value):n.writeSlice(e.valueBuffer),n.writeVarSlice(e.script)}),i&&this.ins.forEach(e=>{n.writeVector(e.witness)}),n.writeUInt32(this.locktime),void 0!==t?e.slice(t,n.offset):e}}oC.Transaction=oj,oj.DEFAULT_SEQUENCE=4294967295,oj.SIGHASH_DEFAULT=0,oj.SIGHASH_ALL=1,oj.SIGHASH_NONE=2,oj.SIGHASH_SINGLE=3,oj.SIGHASH_ANYONECANPAY=128,oj.SIGHASH_OUTPUT_MASK=3,oj.SIGHASH_INPUT_MASK=128,oj.ADVANCED_TRANSACTION_MARKER=0,oj.ADVANCED_TRANSACTION_FLAG=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.Block=void 0;let{typeforce:oV}=nT,oK=TypeError("Cannot compute merkle root for zero transactions"),oW=TypeError("Cannot compute witness commit for non-segwit block");class oG{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw Error("Buffer too small (< 80 bytes)");let t=new oy.BufferReader(e),r=new oG;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;let n=()=>{let e=oC.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},i=t.readVarInt();r.transactions=[];for(let e=0;e<i;++e){let e=n();r.transactions.push(e)}let o=r.getWitnessCommit();return o&&(r.witnessCommit=o),r}static fromHex(e){return oG.fromBuffer(r6.from(e,"hex"))}static calculateTarget(e){let t=r6.alloc(32,0);return t.writeUIntBE(8388607&e,29-(((4278190080&e)>>24)-3),3),t}static calculateMerkleRoot(e,t){if(oV([{getHash:nT.Function}],e),0===e.length)throw oK;if(t&&!oX(e))throw oW;let r=e.map(e=>e.getHash(t)),n=(0,ox.fastMerkleRoot)(r,ir.hash256);return t?ir.hash256(r6.concat([n,e[0].ins[0].witness[0]])):n}getWitnessCommit(){if(!oX(this.transactions))return null;let e=this.transactions[0].outs.filter(e=>e.script.slice(0,6).equals(r6.from("6a24aa21a9ed","hex"))).map(e=>e.script.slice(6,38));if(0===e.length)return null;let t=e[e.length-1];return t instanceof r6&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof r6&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){var e;return(e=this.transactions)instanceof Array&&e.some(e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some(e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+oy.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((e,r)=>e+r.byteLength(t),0)}getHash(){return ir.hash256(this.toBuffer(!0))}getId(){return(0,oy.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let t=r6.allocUnsafe(this.byteLength(e)),r=new oy.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(oy.varuint.encode(this.transactions.length,t,r.offset),r.offset+=oy.varuint.encode.bytes,this.transactions.forEach(e=>{let n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n})),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit())}checkProofOfWork(){let e=(0,oy.reverseBuffer)(this.getHash()),t=oG.calculateTarget(this.bits);return 0>=e.compare(t)}__checkMerkleRoot(){if(!this.transactions)throw oK;let e=oG.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw oK;if(!this.hasWitnessCommit())throw oW;let e=oG.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function oX(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}o_.Block=oG;var oq={},oz={},oQ={},oY={},oJ={},o$={},oZ={};Object.defineProperty(oZ,"__esModule",{value:!0}),(k=oZ.GlobalTypes||(oZ.GlobalTypes={}))[k.UNSIGNED_TX=0]="UNSIGNED_TX",k[k.GLOBAL_XPUB=1]="GLOBAL_XPUB",oZ.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(O=oZ.InputTypes||(oZ.InputTypes={}))[O.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",O[O.WITNESS_UTXO=1]="WITNESS_UTXO",O[O.PARTIAL_SIG=2]="PARTIAL_SIG",O[O.SIGHASH_TYPE=3]="SIGHASH_TYPE",O[O.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",O[O.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",O[O.BIP32_DERIVATION=6]="BIP32_DERIVATION",O[O.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",O[O.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",O[O.POR_COMMITMENT=9]="POR_COMMITMENT",O[O.TAP_KEY_SIG=19]="TAP_KEY_SIG",O[O.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",O[O.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",O[O.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",O[O.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",O[O.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",oZ.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],(_=oZ.OutputTypes||(oZ.OutputTypes={}))[_.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",_[_.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",_[_.BIP32_DERIVATION=2]="BIP32_DERIVATION",_[_.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",_[_.TAP_TREE=6]="TAP_TREE",_[_.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",oZ.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"];var o0={};Object.defineProperty(o0,"__esModule",{value:!0});let o1=e=>[...Array(e).keys()];o0.decode=function(e){if(e.key[0]!==oZ.GlobalTypes.GLOBAL_XPUB)throw Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(let t of o1(e.value.length/4-1)){let n=e.value.readUInt32LE(4*t+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}return r},o0.encode=function(e){let t=r6.from([oZ.GlobalTypes.GLOBAL_XPUB]),r=r6.concat([t,e.extendedPubkey]),n=e.path.split("/"),i=r6.allocUnsafe(4*n.length);e.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach(e=>{let t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),i.writeUInt32LE(r,o),o+=4}),{key:r,value:i}},o0.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",o0.check=function(e){let t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return r6.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&r6.isBuffer(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)*$/)},o0.canAddToArray=function(e,t,r){let n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter(e=>e.extendedPubkey.equals(t.extendedPubkey)).length)};var o2={};Object.defineProperty(o2,"__esModule",{value:!0}),o2.encode=function(e){return{key:r6.from([oZ.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}};var o3={};Object.defineProperty(o3,"__esModule",{value:!0}),o3.decode=function(e){if(e.key[0]!==oZ.InputTypes.FINAL_SCRIPTSIG)throw Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},o3.encode=function(e){return{key:r6.from([oZ.InputTypes.FINAL_SCRIPTSIG]),value:e}},o3.expected="Buffer",o3.check=function(e){return r6.isBuffer(e)},o3.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig};var o4={};Object.defineProperty(o4,"__esModule",{value:!0}),o4.decode=function(e){if(e.key[0]!==oZ.InputTypes.FINAL_SCRIPTWITNESS)throw Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},o4.encode=function(e){return{key:r6.from([oZ.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},o4.expected="Buffer",o4.check=function(e){return r6.isBuffer(e)},o4.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness};var o5={};Object.defineProperty(o5,"__esModule",{value:!0}),o5.decode=function(e){if(e.key[0]!==oZ.InputTypes.NON_WITNESS_UTXO)throw Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},o5.encode=function(e){return{key:r6.from([oZ.InputTypes.NON_WITNESS_UTXO]),value:e}},o5.expected="Buffer",o5.check=function(e){return r6.isBuffer(e)},o5.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo};var o6={};Object.defineProperty(o6,"__esModule",{value:!0}),o6.decode=function(e){if(e.key[0]!==oZ.InputTypes.PARTIAL_SIG)throw Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(!(34===e.key.length||66===e.key.length)||![2,3,4].includes(e.key[1]))throw Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},o6.encode=function(e){let t=r6.from([oZ.InputTypes.PARTIAL_SIG]);return{key:r6.concat([t,e.pubkey]),value:e.signature}},o6.expected="{ pubkey: Buffer; signature: Buffer; }",o6.check=function(e){return r6.isBuffer(e.pubkey)&&r6.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!r6.isBuffer(e)||e.length<9||48!==e[0]||e.length!==e[1]+3||2!==e[2])return!1;let t=e[3];if(t>33||t<1||2!==e[3+t+1])return!1;let r=e[3+t+2];return!(r>33||r<1||e.length!==3+t+2+r+2)}(e.signature)},o6.canAddToArray=function(e,t,r){let n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter(e=>e.pubkey.equals(t.pubkey)).length)};var o8={};Object.defineProperty(o8,"__esModule",{value:!0}),o8.decode=function(e){if(e.key[0]!==oZ.InputTypes.POR_COMMITMENT)throw Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},o8.encode=function(e){return{key:r6.from([oZ.InputTypes.POR_COMMITMENT]),value:r6.from(e,"utf8")}},o8.expected="string",o8.check=function(e){return"string"==typeof e},o8.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment};var o9={};Object.defineProperty(o9,"__esModule",{value:!0}),o9.decode=function(e){if(e.key[0]!==oZ.InputTypes.SIGHASH_TYPE)throw Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},o9.encode=function(e){let t=r6.from([oZ.InputTypes.SIGHASH_TYPE]),r=r6.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},o9.expected="number",o9.check=function(e){return"number"==typeof e},o9.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType};var o7={};function ae(e){return r6.isBuffer(e)&&(64===e.length||65===e.length)}Object.defineProperty(o7,"__esModule",{value:!0}),o7.decode=function(e){if(e.key[0]!==oZ.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!ae(e.value))throw Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},o7.encode=function(e){return{key:r6.from([oZ.InputTypes.TAP_KEY_SIG]),value:e}},o7.expected="Buffer",o7.check=ae,o7.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig};var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.decode=function(e){if(e.key[0]!==oZ.InputTypes.TAP_LEAF_SCRIPT)throw Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));let t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));let r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}},at.encode=function(e){let t=r6.from([oZ.InputTypes.TAP_LEAF_SCRIPT]),r=r6.from([e.leafVersion]);return{key:r6.concat([t,e.controlBlock]),value:r6.concat([e.script,r])}},at.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",at.check=function(e){return r6.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&r6.isBuffer(e.script)},at.canAddToArray=function(e,t,r){let n=t.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter(e=>e.controlBlock.equals(t.controlBlock)).length)};var ar={};function an(e){return r6.isBuffer(e)&&32===e.length}Object.defineProperty(ar,"__esModule",{value:!0}),ar.decode=function(e){if(e.key[0]!==oZ.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!an(e.value))throw Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},ar.encode=function(e){return{key:r6.from([oZ.InputTypes.TAP_MERKLE_ROOT]),value:e}},ar.expected="Buffer",ar.check=an,ar.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot};var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.decode=function(e){if(e.key[0]!==oZ.InputTypes.TAP_SCRIPT_SIG)throw Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},ai.encode=function(e){let t=r6.from([oZ.InputTypes.TAP_SCRIPT_SIG]);return{key:r6.concat([t,e.pubkey,e.leafHash]),value:e.signature}},ai.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",ai.check=function(e){return r6.isBuffer(e.pubkey)&&r6.isBuffer(e.leafHash)&&r6.isBuffer(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},ai.canAddToArray=function(e,t,r){let n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter(e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash)).length)};var ao={},aa={},as={};function al(e){if(e<0||e>9007199254740991||e%1!=0)throw RangeError("value out of range")}function au(e){return al(e),e<253?1:e<=65535?3:e<=4294967295?5:9}function ac(e){let t=e.key.length,r=e.value.length,n=as.encodingLength(t),i=as.encodingLength(r),o=r6.allocUnsafe(n+t+i+r);return as.encode(t,o,0),e.key.copy(o,n),as.encode(r,o,n+t),e.value.copy(o,n+t+i),o}function af(e,t){if("number"!=typeof e)throw Error("cannot write a non-number as a number");if(e<0)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("RangeError: value out of range");if(Math.floor(e)!==e)throw Error("value has a fractional component")}Object.defineProperty(as,"__esModule",{value:!0}),as.encode=function e(t,r,n){if(al(t),r||(r=r6.allocUnsafe(au(t))),!r6.isBuffer(r))throw TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),Object.assign(e,{bytes:9})),r},as.decode=function e(t,r){if(!r6.isBuffer(t))throw TypeError("buffer must be a Buffer instance");r||(r=0);let n=t.readUInt8(r);if(n<253)return Object.assign(e,{bytes:1}),n;if(253===n)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===n)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(e,{bytes:9});let n=t.readUInt32LE(r+1),i=4294967296*t.readUInt32LE(r+5)+n;return al(i),i}},as.encodingLength=au,Object.defineProperty(aa,"__esModule",{value:!0}),aa.range=e=>[...Array(e).keys()],aa.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},aa.keyValsToBuffer=function(e){let t=e.map(ac);return t.push(r6.from([0])),r6.concat(t)},aa.keyValToBuffer=ac,aa.readUInt64LE=function(e,t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return af((n*=4294967296)+r,9007199254740991),n+r},aa.writeUInt64LE=function(e,t,r){return af(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8},Object.defineProperty(ao,"__esModule",{value:!0}),ao.decode=function(e){if(e.key[0]!==oZ.InputTypes.WITNESS_UTXO)throw Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));let t=aa.readUInt64LE(e.value,0),r=8,n=as.decode(e.value,r);r+=as.encodingLength(n);let i=e.value.slice(r);if(i.length!==n)throw Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:t}},ao.encode=function(e){let{script:t,value:r}=e,n=as.encodingLength(t.length),i=r6.allocUnsafe(8+n+t.length);return aa.writeUInt64LE(i,r,0),as.encode(t.length,i,8),t.copy(i,8+n),{key:r6.from([oZ.InputTypes.WITNESS_UTXO]),value:i}},ao.expected="{ script: Buffer; value: number; }",ao.check=function(e){return r6.isBuffer(e.script)&&"number"==typeof e.value},ao.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo};var ap={};Object.defineProperty(ap,"__esModule",{value:!0}),ap.decode=function(e){if(e.key[0]!==oZ.OutputTypes.TAP_TREE||1!==e.key.length)throw Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0,r=[];for(;t<e.value.length;){let n=e.value[t++],i=e.value[t++],o=as.decode(e.value,t);t+=as.encodingLength(o),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+o)}),t+=o}return{leaves:r}},ap.encode=function(e){let t=r6.from([oZ.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map(e=>[r6.of(e.depth,e.leafVersion),as.encode(e.script.length),e.script]));return{key:t,value:r6.concat(r)}},ap.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",ap.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every(e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&r6.isBuffer(e.script))},ap.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree};var ah={};Object.defineProperty(ah,"__esModule",{value:!0});let ad=e=>[...Array(e).keys()],ay=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];ah.makeConverter=function(e,t=ay){return{decode:function(r){if(r.key[0]!==e)throw Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));let n=r.key.slice(1);if(!t(n))throw Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(let e of ad(r.value.length/4-1)){let t=r.value.readUInt32LE(4*e+4),n=!!(2147483648&t),o=2147483647&t;i.path+="/"+o.toString(10)+(n?"'":"")}return i},encode:function(t){let r=r6.from([e]),n=r6.concat([r,t.pubkey]),i=t.path.split("/"),o=r6.allocUnsafe(4*i.length);t.masterFingerprint.copy(o,0);let a=4;return i.slice(1).forEach(e=>{let t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),o.writeUInt32LE(r,a),a+=4}),{key:n,value:o}},check:function(e){return r6.isBuffer(e.pubkey)&&r6.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){let n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter(e=>e.pubkey.equals(t.pubkey)).length)}}};var ag={};Object.defineProperty(ag,"__esModule",{value:!0}),ag.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(!(33===(r=t.key.slice(1)).length||65===r.length)||![2,3,4].includes(r[0])))throw Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}};var am={};Object.defineProperty(am,"__esModule",{value:!0}),am.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:r6.from([e]),value:t}},check:function(e){return r6.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}};var aA={};Object.defineProperty(aA,"__esModule",{value:!0});let aw=e=>32===e.length;aA.makeConverter=function(e){let t=ah.makeConverter(e,aw);return{decode:function(e){let r=as.decode(e.value),n=as.encodingLength(r),i=t.decode({key:e.key,value:e.value.slice(n+32*r)}),o=Array(r);for(let t=0,i=n;t<r;t++,i+=32)o[t]=e.value.slice(i,i+32);return Object.assign({},i,{leafHashes:o})},encode:function(e){let r=t.encode(e),n=as.encodingLength(e.leafHashes.length),i=r6.allocUnsafe(n);as.encode(e.leafHashes.length,i);let o=r6.concat([i,...e.leafHashes,r.value]);return Object.assign({},r,{value:o})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every(e=>r6.isBuffer(e)&&32===e.length)&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}};var ab={};Object.defineProperty(ab,"__esModule",{value:!0}),ab.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:r6.from([e]),value:t}},check:function(e){return r6.isBuffer(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}};var aE={};Object.defineProperty(aE,"__esModule",{value:!0}),aE.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:r6.from([e]),value:t}},check:function(e){return r6.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}},Object.defineProperty(o$,"__esModule",{value:!0});let av={unsignedTx:o2,globalXpub:o0,checkPubkey:ag.makeChecker([])};o$.globals=av;let aP={nonWitnessUtxo:o5,partialSig:o6,sighashType:o9,finalScriptSig:o3,finalScriptWitness:o4,porCommitment:o8,witnessUtxo:ao,bip32Derivation:ah.makeConverter(oZ.InputTypes.BIP32_DERIVATION),redeemScript:am.makeConverter(oZ.InputTypes.REDEEM_SCRIPT),witnessScript:aE.makeConverter(oZ.InputTypes.WITNESS_SCRIPT),checkPubkey:ag.makeChecker([oZ.InputTypes.PARTIAL_SIG,oZ.InputTypes.BIP32_DERIVATION]),tapKeySig:o7,tapScriptSig:ai,tapLeafScript:at,tapBip32Derivation:aA.makeConverter(oZ.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:ab.makeConverter(oZ.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:ar};o$.inputs=aP;let aS={bip32Derivation:ah.makeConverter(oZ.OutputTypes.BIP32_DERIVATION),redeemScript:am.makeConverter(oZ.OutputTypes.REDEEM_SCRIPT),witnessScript:aE.makeConverter(oZ.OutputTypes.WITNESS_SCRIPT),checkPubkey:ag.makeChecker([oZ.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:aA.makeConverter(oZ.OutputTypes.TAP_BIP32_DERIVATION),tapTree:ap,tapInternalKey:ab.makeConverter(oZ.OutputTypes.TAP_INTERNAL_KEY)};function aT(e,t,r){if(!t.equals(r6.from([r])))throw Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function aI(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:e},o=0;for(let e of t)switch(e.key[0]){case oZ.GlobalTypes.UNSIGNED_TX:if(aT("global",e.key,oZ.GlobalTypes.UNSIGNED_TX),o>0)throw Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case oZ.GlobalTypes.GLOBAL_XPUB:void 0===i.globalXpub&&(i.globalXpub=[]),i.globalXpub.push(o$.globals.globalXpub.decode(e));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(e)}let a=r.length,s=n.length,l=[],u=[];for(let e of aa.range(a)){let t={};for(let n of r[e])switch(o$.inputs.checkPubkey(n),n.key[0]){case oZ.InputTypes.NON_WITNESS_UTXO:if(aT("input",n.key,oZ.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=o$.inputs.nonWitnessUtxo.decode(n);break;case oZ.InputTypes.WITNESS_UTXO:if(aT("input",n.key,oZ.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=o$.inputs.witnessUtxo.decode(n);break;case oZ.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(o$.inputs.partialSig.decode(n));break;case oZ.InputTypes.SIGHASH_TYPE:if(aT("input",n.key,oZ.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=o$.inputs.sighashType.decode(n);break;case oZ.InputTypes.REDEEM_SCRIPT:if(aT("input",n.key,oZ.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=o$.inputs.redeemScript.decode(n);break;case oZ.InputTypes.WITNESS_SCRIPT:if(aT("input",n.key,oZ.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=o$.inputs.witnessScript.decode(n);break;case oZ.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(o$.inputs.bip32Derivation.decode(n));break;case oZ.InputTypes.FINAL_SCRIPTSIG:aT("input",n.key,oZ.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=o$.inputs.finalScriptSig.decode(n);break;case oZ.InputTypes.FINAL_SCRIPTWITNESS:aT("input",n.key,oZ.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=o$.inputs.finalScriptWitness.decode(n);break;case oZ.InputTypes.POR_COMMITMENT:aT("input",n.key,oZ.InputTypes.POR_COMMITMENT),t.porCommitment=o$.inputs.porCommitment.decode(n);break;case oZ.InputTypes.TAP_KEY_SIG:aT("input",n.key,oZ.InputTypes.TAP_KEY_SIG),t.tapKeySig=o$.inputs.tapKeySig.decode(n);break;case oZ.InputTypes.TAP_SCRIPT_SIG:void 0===t.tapScriptSig&&(t.tapScriptSig=[]),t.tapScriptSig.push(o$.inputs.tapScriptSig.decode(n));break;case oZ.InputTypes.TAP_LEAF_SCRIPT:void 0===t.tapLeafScript&&(t.tapLeafScript=[]),t.tapLeafScript.push(o$.inputs.tapLeafScript.decode(n));break;case oZ.InputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(o$.inputs.tapBip32Derivation.decode(n));break;case oZ.InputTypes.TAP_INTERNAL_KEY:aT("input",n.key,oZ.InputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=o$.inputs.tapInternalKey.decode(n);break;case oZ.InputTypes.TAP_MERKLE_ROOT:aT("input",n.key,oZ.InputTypes.TAP_MERKLE_ROOT),t.tapMerkleRoot=o$.inputs.tapMerkleRoot.decode(n);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}l.push(t)}for(let e of aa.range(s)){let t={};for(let r of n[e])switch(o$.outputs.checkPubkey(r),r.key[0]){case oZ.OutputTypes.REDEEM_SCRIPT:if(aT("output",r.key,oZ.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=o$.outputs.redeemScript.decode(r);break;case oZ.OutputTypes.WITNESS_SCRIPT:if(aT("output",r.key,oZ.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=o$.outputs.witnessScript.decode(r);break;case oZ.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(o$.outputs.bip32Derivation.decode(r));break;case oZ.OutputTypes.TAP_INTERNAL_KEY:aT("output",r.key,oZ.OutputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=o$.outputs.tapInternalKey.decode(r);break;case oZ.OutputTypes.TAP_TREE:aT("output",r.key,oZ.OutputTypes.TAP_TREE),t.tapTree=o$.outputs.tapTree.decode(r);break;case oZ.OutputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(o$.outputs.tapBip32Derivation.decode(r));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(r)}u.push(t)}return{globalMap:i,inputs:l,outputs:u}}o$.outputs=aS,Object.defineProperty(oJ,"__esModule",{value:!0}),oJ.psbtFromBuffer=function(e,t){let r=0;function n(){let t=as.decode(e,r);r+=as.encodingLength(t);let n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function o(){if(r>=e.length)throw Error("Format Error: Unexpected End of PSBT");let t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){let t=e.readUInt32BE(r);return r+=4,t}())throw Error("Format Error: Invalid Magic Number");if(255!==function(){let t=e.readUInt8(r);return r+=1,t}())throw Error("Format Error: Magic Number must be followed by 0xff separator");let a=[],s={};for(;!o();){let e=i(),t=e.key.toString("hex");if(s[t])throw Error("Format Error: Keys must be unique for global keymap: key "+t);s[t]=1,a.push(e)}let l=a.filter(e=>e.key[0]===oZ.GlobalTypes.UNSIGNED_TX);if(1!==l.length)throw Error("Format Error: Only one UNSIGNED_TX allowed");let u=t(l[0].value),{inputCount:c,outputCount:f}=u.getInputOutputCounts(),p=[],h=[];for(let e of aa.range(c)){let t={},r=[];for(;!o();){let n=i(),o=n.key.toString("hex");if(t[o])throw Error("Format Error: Keys must be unique for each input: input index "+e+" key "+o);t[o]=1,r.push(n)}p.push(r)}for(let e of aa.range(f)){let t={},r=[];for(;!o();){let n=i(),o=n.key.toString("hex");if(t[o])throw Error("Format Error: Keys must be unique for each output: output index "+e+" key "+o);t[o]=1,r.push(n)}h.push(r)}return aI(u,{globalMapKeyVals:a,inputKeyVals:p,outputKeyVals:h})},oJ.checkKeyBuffer=aT,oJ.psbtFromKeyVals=aI;var ak={};Object.defineProperty(ak,"__esModule",{value:!0}),ak.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=ax({globalMap:e,inputs:t,outputs:r}),a=aa.keyValsToBuffer(n),s=e=>0===e.length?[r6.from([0])]:e.map(aa.keyValsToBuffer),l=s(i),u=s(o),c=r6.allocUnsafe(5);return c.writeUIntBE(482972169471,0,5),r6.concat([c,a].concat(l,u))};let aO=(e,t)=>e.key.compare(t.key);function a_(e,t){let r=new Set,n=Object.entries(e).reduce((e,[n,i])=>{if("unknownKeyVals"===n)return e;let o=t[n];if(void 0===o)return e;let a=(Array.isArray(i)?i:[i]).map(o.encode);return a.map(e=>e.key.toString("hex")).forEach(e=>{if(r.has(e))throw Error("Serialize Error: Duplicate key: "+e);r.add(e)}),e.concat(a)},[]),i=e.unknownKeyVals?e.unknownKeyVals.filter(e=>!r.has(e.key.toString("hex"))):[];return n.concat(i).sort(aO)}function ax({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:a_(e,o$.globals),inputKeyVals:t.map(e=>a_(e,o$.inputs)),outputKeyVals:r.map(e=>a_(e,o$.outputs))}}function aC(e,t,r){return n=>{if(e.has(n))return;let i=r.filter(e=>e.key.toString("hex")===n)[0];t.push(i),e.add(n)}}function aN(e){return e.globalMap.unsignedTx}function aB(e){let t=new Set;return e.forEach(e=>{let r=e.key.toString("hex");if(t.has(r))throw Error("Combine: KeyValue Map keys should be unique");t.add(r)}),t}ak.psbtToKeyVals=ax,function(e){function t(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),t(oJ),t(ak)}(oY),Object.defineProperty(oQ,"__esModule",{value:!0}),oQ.combine=function(e){let t=e[0],r=oY.psbtToKeyVals(t),n=e.slice(1);if(0===n.length)throw Error("Combine: Nothing to combine");let i=aN(t);if(void 0===i)throw Error("Combine: Self missing transaction");let o=aB(r.globalKeyVals),a=r.inputKeyVals.map(aB),s=r.outputKeyVals.map(aB);for(let e of n){let t=aN(e);if(void 0===t||!t.toBuffer().equals(i.toBuffer()))throw Error("Combine: One of the Psbts does not have the same transaction.");let n=oY.psbtToKeyVals(e);aB(n.globalKeyVals).forEach(aC(o,r.globalKeyVals,n.globalKeyVals)),n.inputKeyVals.map(aB).forEach((e,t)=>e.forEach(aC(a[t],r.inputKeyVals[t],n.inputKeyVals[t]))),n.outputKeyVals.map(aB).forEach((e,t)=>e.forEach(aC(s[t],r.outputKeyVals[t],n.outputKeyVals[t])))}return oY.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})};var aR={};!function(e){function t(e,t){let r=e[t];if(void 0===r)throw Error(`No input #${t}`);return r}function r(e,t){let r=e[t];if(void 0===r)throw Error(`No output #${t}`);return r}function n(e,t,r,n){throw Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function i(e){return(t,r)=>{for(let i of Object.keys(t)){let o=t[i],{canAdd:a,canAddToArray:s,check:l,expected:u}=o$[e+"s"][i]||{},c=!!s;if(l){if(c){if(!Array.isArray(o)||r[i]&&!Array.isArray(r[i]))throw Error(`Key type ${i} must be an array`);o.every(l)||n(e,i,u,o);let t=r[i]||[],a=new Set;if(!o.every(e=>s(t,e,a)))throw Error("Can not add duplicate data to array");r[i]=t.concat(o)}else{if(l(o)||n(e,i,u,o),!a(r,o))throw Error(`Can not add duplicate data to ${e}`);r[i]=o}}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.checkForInput=t,e.checkForOutput=r,e.checkHasKey=function(e,t,r){if(e.key[0]<r)throw Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter(t=>t.key.equals(e.key)).length)throw Error(`Duplicate Key: ${e.key.toString("hex")}`)},e.getEnumLength=function(e){let t=0;return Object.keys(e).forEach(e=>{Number(isNaN(Number(e)))&&t++}),t},e.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){let e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,a=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&a}if(!1===r)throw Error(`Input #${e} has too much or too little data to clean`)},e.updateGlobal=i("global"),e.updateInput=i("input"),e.updateOutput=i("output"),e.addInputAttributes=function(r,n){let i=r.length-1,o=t(r,i);e.updateInput(n,o)},e.addOutputAttributes=function(t,n){let i=t.length-1,o=r(t,i);e.updateOutput(n,o)},e.defaultVersionSetter=function(e,t){if(!r6.isBuffer(t)||t.length<4)throw Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},e.defaultLocktimeSetter=function(e,t){if(!r6.isBuffer(t)||t.length<4)throw Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}}(aR),Object.defineProperty(oz,"__esModule",{value:!0});let aU=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){let r=r6.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){let r=r6.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){let r=oY.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return oY.psbtToBuffer(this)}updateGlobal(e){return aR.updateGlobal(e,this.globalMap),this}updateInput(e,t){let r=aR.checkForInput(this.inputs,e);return aR.updateInput(t,r),this}updateOutput(e,t){let r=aR.checkForOutput(this.outputs,e);return aR.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return aR.checkHasKey(e,this.globalMap.unknownKeyVals,aR.getEnumLength(oZ.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){let r=aR.checkForInput(this.inputs,e);return aR.checkHasKey(t,r.unknownKeyVals,aR.getEnumLength(oZ.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){let r=aR.checkForOutput(this.outputs,e);return aR.checkHasKey(t,r.unknownKeyVals,aR.getEnumLength(oZ.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw Error("unknownKeyVals must be an Array");return t.forEach(e=>this.addUnknownKeyValToInput(r,e)),aR.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw Error("unknownKeyVals must be an Array");return t.forEach(e=>this.addUnknownKeyValToOutput(r,e)),aR.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let t=aR.checkForInput(this.inputs,e);for(let r of(aR.inputCheckUncleanFinalized(e,t),Object.keys(t)))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete t[r];return this}combine(...e){return Object.assign(this,oQ.combine([this].concat(e))),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};oz.Psbt=aU;var aL={},aH={};Object.defineProperty(aH,"__esModule",{value:!0}),aH.signatureBlocksAction=aH.checkInputForSig=aH.pubkeyInScript=aH.pubkeyPositionInScript=aH.witnessStackToScriptWitness=aH.isP2TR=aH.isP2SHScript=aH.isP2WSHScript=aH.isP2WPKH=aH.isP2PKH=aH.isP2PK=aH.isP2MS=void 0;let aF=n0(),aD=ok();function aM(e){return t=>{try{return e({output:t}),!0}catch{return!1}}}function aj(e,t){let r=(0,ir.hash160)(e),n=e.slice(1,33),i=aF.decompile(t);if(null===i)throw Error("Unknown script error");return i.findIndex(t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)||t.equals(n)))}function aV(e,t,r){let{hashType:n}=t(e),i=[];switch(n&oC.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&n){case oC.Transaction.SIGHASH_ALL:break;case oC.Transaction.SIGHASH_SINGLE:case oC.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return -1===i.indexOf(r)}aH.isP2MS=aM(aD.p2ms),aH.isP2PK=aM(aD.p2pk),aH.isP2PKH=aM(aD.p2pkh),aH.isP2WPKH=aM(aD.p2wpkh),aH.isP2WSHScript=aM(aD.p2wsh),aH.isP2SHScript=aM(aD.p2sh),aH.isP2TR=aM(aD.p2tr),aH.witnessStackToScriptWitness=function(e){let t=r6.allocUnsafe(0);function r(e){let r=t.length,n=as.encodingLength(e);t=r6.concat([t,r6.allocUnsafe(n)]),as.encode(e,t,r)}return r(e.length),e.forEach(function(e){r(e.length),t=r6.concat([t,r6.from(e)])}),t},aH.pubkeyPositionInScript=aj,aH.pubkeyInScript=function(e,t){return -1!==aj(e,t)},aH.checkInputForSig=function(e,t){return(function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){let t=e.finalScriptSig&&aF.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&aF.decompile(e.finalScriptWitness)||[];return t.concat(r).filter(e=>r6.isBuffer(e)&&aF.isCanonicalScriptSignature(e)).map(e=>({signature:e}))}(e)}else t=e.partialSig;return t.map(e=>e.signature)})(e).some(e=>aV(e,aF.signature.decode,t))},aH.signatureBlocksAction=aV,Object.defineProperty(aL,"__esModule",{value:!0}),aL.checkTaprootInputForSigs=aL.tapTreeFromList=aL.tapTreeToList=aL.tweakInternalPubKey=aL.checkTaprootOutputFields=aL.checkTaprootInputFields=aL.isTaprootOutput=aL.isTaprootInput=aL.serializeTaprootSignature=aL.tapScriptFinalizer=aL.toXOnly=void 0;let aK=ok();function aW(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,aH.isP2TR)(e.witnessUtxo.script))}function aG(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,aH.isP2TR)(t))}function aX(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(let r of e)if(!(t=function e(t,r,n=0){if(n>od.MAX_TAPTREE_DEPTH)throw Error("Max taptree depth exceeded.");if(t.depth===n)return r?void 0:{output:t.script,version:t.leafVersion};if((0,nT.isTapleaf)(r))return;let i=e(t,r&&r[0],n+1);if(i)return[i,r&&r[1]];let o=e(t,r&&r[1],n+1);if(o)return[r&&r[0],o]}(r,t)))throw Error("No room left to insert tapleaf in tree");return t}(e)}function aq(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||oC.Transaction.SIGHASH_DEFAULT}}function az(e,t){if(!t)return!0;let r=(0,od.tapleafHash)({output:e.script,version:e.leafVersion});return(0,od.rootHashFromPath)(e.controlBlock,r).equals(t)}function aQ(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}aL.toXOnly=e=>32===e.length?e:e.slice(1,33),aL.tapScriptFinalizer=function(e,t,r){let n=function(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);let n=(e.tapLeafScript||[]).sort((e,t)=>e.controlBlock.length-t.controlBlock.length).find(t=>(function(e,t,r){let n=(0,od.tapleafHash)({output:e.script,version:e.leafVersion});return(!r||r.equals(n))&&void 0!==t.find(e=>e.leafHash.equals(n))})(t,e.tapScriptSig,r));if(!n)throw Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}(t,e,r);try{let e=(function(e,t){let r=(0,od.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter(e=>e.leafHash.equals(r)).map(e=>{var r;return r=t.script,Object.assign({positionInScript:(0,aH.pubkeyPositionInScript)(e.pubkey,r)},e)}).sort((e,t)=>t.positionInScript-e.positionInScript).map(e=>e.signature)})(t,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,aH.witnessStackToScriptWitness)(e)}}catch(t){throw Error(`Can not finalize taproot input #${e}: ${t}`)}},aL.serializeTaprootSignature=function(e,t){let r=t?r6.from([t]):r6.from([]);return r6.concat([e,r])},aL.isTaprootInput=aW,aL.isTaprootOutput=aG,aL.checkTaprootInputFields=function(e,t,r){(function(e,t,r){let n=aW(e)&&aQ(t),i=aQ(e)&&aW(t),o=e===t&&aW(t)&&aQ(t);if(n||i||o)throw Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)})(e,t,r),function(e,t,r){if(t.tapMerkleRoot){let n=(t.tapLeafScript||[]).every(e=>az(e,t.tapMerkleRoot)),i=(e.tapLeafScript||[]).every(e=>az(e,t.tapMerkleRoot));if(!n||!i)throw Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(t.tapLeafScript||[]).every(t=>az(t,e.tapMerkleRoot)))throw Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}(e,t,r)},aL.checkTaprootOutputFields=function(e,t,r){(function(e,t,r){let n=aG(e)&&aQ(t),i=aQ(e)&&aG(t),o=e===t&&aG(t)&&aQ(t);if(n||i||o)throw Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)})(e,t,r),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;let r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){let{script:t}=e,i=function(e,t){let r=t&&aX(t.leaves),{output:n}=(0,aK.p2tr)({internalPubkey:e,scriptTree:r});return n}(r,n);if(t&&!t.equals(i))throw Error("Error adding output. Script or address missmatch.")}}(e,t)},aL.tweakInternalPubKey=function(e,t){let r=t.tapInternalKey,n=r&&(0,od.tweakKey)(r,t.tapMerkleRoot);if(!n)throw Error(`Cannot tweak tap internal key for input #${e}. Public key: ${r&&r.toString("hex")}`);return n.x},aL.tapTreeToList=function(e){if(!(0,nT.isTaptree)(e))throw Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return function e(t,r=[],n=0){if(n>od.MAX_TAPTREE_DEPTH)throw Error("Max taptree depth exceeded.");return t?((0,nT.isTapleaf)(t)?r.push({depth:n,leafVersion:t.version||od.LEAF_VERSION_TAPSCRIPT,script:t.output}):(t[0]&&e(t[0],r,n+1),t[1]&&e(t[1],r,n+1)),r):[]}(e)},aL.tapTreeFromList=aX,aL.checkTaprootInputForSigs=function(e,t){return(function(e){let t=[];if(e.tapKeySig&&t.push(e.tapKeySig),e.tapScriptSig&&t.push(...e.tapScriptSig.map(e=>e.signature)),!t.length){let r=function(e){if(!e)return;let t=e.slice(2);if(64===t.length||65===t.length)return t}(e.finalScriptWitness);r&&t.push(r)}return t})(e).some(e=>(0,aH.signatureBlocksAction)(e,aq,t))},Object.defineProperty(oq,"__esModule",{value:!0}),oq.Psbt=void 0;let aY=oO(),aJ=ok(),a$=n0(),aZ={network:nh.bitcoin,maximumFeeRate:5e3};class a0{static fromBase64(e,t={}){let r=r6.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){let r=r6.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){let r=new a0(t,oz.Psbt.fromBuffer(e,a1));return function(e,t){e.ins.forEach(e=>{se(t,e)})}(r.__CACHE.__TX,r.__CACHE),r}constructor(e={},t=new oz.Psbt(new a2)){this.data=t,this.opts=Object.assign({},aZ,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);let r=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,oy.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let t;try{t=(0,aY.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,oy.cloneBuffer)(e.script),value:e.value,address:t}})}combine(...e){return this.data.combine(...e.map(e=>e.data)),this}clone(){let e=a0.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){a8(e),this.opts.maximumFeeRate=e}setVersion(e){a8(e),a9(this.data.inputs,"setVersion");let t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){a8(e),a9(this.data.inputs,"setLocktime");let t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){a8(t),a9(this.data.inputs,"setInputSequence");let r=this.__CACHE;if(r.__TX.ins.length<=e)throw Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(e=>this.addInput(e)),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,aL.checkTaprootInputFields)(e,e,"addInput"),a9(this.data.inputs,"addInput"),e.witnessScript&&sE(e.witnessScript);let t=this.__CACHE;this.data.addInput(e);let r=t.__TX.ins[t.__TX.ins.length-1];se(t,r);let n=this.data.inputs.length-1,i=this.data.inputs[n];return i.nonWitnessUtxo&&sd(this.__CACHE,i,n),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(e=>this.addOutput(e)),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");a9(this.data.inputs,"addOutput");let{address:t}=e;if("string"==typeof t){let{network:r}=this.opts,n=(0,aY.toOutputScript)(t,r);e=Object.assign({},e,{script:n})}(0,aL.checkTaprootOutputFields)(e,e,"addOutput");let r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(a5))throw Error("Not finalized");let t=this.__CACHE;if(e||function(e,t,r){let n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize();if(n>=r.maximumFeeRate)throw Error(`Warning: You are paying around ${(n*i/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;let r=t.__TX.clone();return sy(this.data.inputs,r,t,!0),r}getFeeRate(){return si("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return si("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,aR.checkForInput)(this.data.inputs,0),sP(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,t){let r=(0,aR.checkForInput)(this.data.inputs,e);return(0,aL.isTaprootInput)(r)?this._finalizeTaprootInput(e,r,void 0,t):this._finalizeInput(e,r,t)}finalizeTaprootInput(e,t,r=aL.tapScriptFinalizer){let n=(0,aR.checkForInput)(this.data.inputs,e);if((0,aL.isTaprootInput)(n))return this._finalizeTaprootInput(e,n,t,r);throw Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,r=so){let{script:n,isP2SH:i,isP2WSH:o,isSegwit:a}=function(e,t,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){let o=sg(r,t,e),a=n.ins[e].index;i.script=o.outs[a].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||(0,aH.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}(e,t,this.__CACHE);if(!n)throw Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;let{partialSig:t,sighashType:r}=e;t.forEach(e=>{let{hashType:t}=a$.signature.decode(e.signature);if(r!==t)throw Error("Signature sighash does not match input sighash type")})}(t);let{finalScriptSig:s,finalScriptWitness:l}=r(e,t,n,a,i,o);if(s&&this.data.updateInput(e,{finalScriptSig:s}),l&&this.data.updateInput(e,{finalScriptWitness:l}),!s&&!l)throw Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,r,n=aL.tapScriptFinalizer){if(!t.witnessUtxo)throw Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){let r=aJ.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),n=(0,aH.witnessStackToScriptWitness)(r.witness);this.data.updateInput(e,{finalScriptWitness:n})}else{let{finalScriptWitness:i}=n(e,t,r);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){let t=(0,aR.checkForInput)(this.data.inputs,e),r=sb(sm(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;let t=a$.decompile(e);if(!t)return;let r=t[t.length-1];if(!(!r6.isBuffer(r)||sw(r)||a$.isCanonicalScriptSignature(r)||!a$.decompile(r)))return r}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;let t=sh(e),r=t[t.length-1];if(!(sw(r)||!a$.decompile(r)))return r}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+sv(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){let{meaningfulScript:i}=sb(sm(r,t,n),r,"input",t.redeemScript,t.witnessScript);return(0,aH.pubkeyInScript)(e,i)}(t,(0,aR.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){let r=(0,aR.checkForInput)(this.data.inputs,e),n=a6(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){let{meaningfulScript:i}=sb(n.__TX.outs[r].script,r,"output",t.redeemScript,t.witnessScript);return(0,aH.pubkeyInScript)(e,i)}(t,(0,aR.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){let r=(0,aR.checkForOutput)(this.data.outputs,e),n=a6(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(e){return(0,aR.checkForInput)(this.data.inputs,0),sP(this.data.inputs.length).map(t=>this.validateSignaturesOfInput(t,e)).reduce((e,t)=>!0===t&&e,!0)}validateSignaturesOfInput(e,t,r){let n=this.data.inputs[e];return(0,aL.isTaprootInput)(n)?this.validateSignaturesOfTaprootInput(e,t,r):this._validateSignaturesOfInput(e,t,r)}_validateSignaturesOfInput(e,t,r){let n,i,o;let a=this.data.inputs[e],s=(a||{}).partialSig;if(!a||!s||s.length<1)throw Error("No signatures to validate");if("function"!=typeof t)throw Error("Need validator function to validate signatures");let l=r?s.filter(e=>e.pubkey.equals(r)):s;if(l.length<1)throw Error("No signatures for this pubkey");let u=[];for(let r of l){let s=a$.signature.decode(r.signature),{hash:l,script:c}=o!==s.hashType?ss(e,Object.assign({},a,{sighashType:s.hashType}),this.__CACHE,!0):{hash:n,script:i};o=s.hashType,n=l,i=c,a7(r.pubkey,c,"verify"),u.push(t(r.pubkey,l,s.signature))}return u.every(e=>!0===e)}validateSignaturesOfTaprootInput(e,t,r){let n=this.data.inputs[e],i=(n||{}).tapKeySig,o=(n||{}).tapScriptSig;if(!n&&!i&&!(o&&!o.length))throw Error("No signatures to validate");if("function"!=typeof t)throw Error("Need validator function to validate signatures");let a=(r=r&&(0,aL.toXOnly)(r))?sc(e,n,this.data.inputs,r,this.__CACHE):function(e,t,r,n){let i=[];if(t.tapInternalKey){let r=sl(e,t,n);r&&i.push(r)}if(t.tapScriptSig){let e=t.tapScriptSig.map(e=>e.pubkey);i.push(...e)}return i.map(i=>sc(e,t,r,i,n)).flat()}(e,n,this.data.inputs,this.__CACHE);if(!a.length)throw Error("No signatures for this pubkey");let s=a.find(e=>!e.leafHash),l=0;if(i&&s){if(!t(s.pubkey,s.hash,su(i)))return!1;l++}if(o)for(let e of o){let r=a.find(t=>e.pubkey.equals(t.pubkey));if(r){if(!t(e.pubkey,r.hash,su(e.signature)))return!1;l++}}return l>0}signAllInputsHD(e,t=[oC.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw Error("Need HDSigner to sign input");let r=[];for(let n of sP(this.data.inputs.length))try{this.signInputHD(n,e,t),r.push(!0)}catch{r.push(!1)}if(r.every(e=>!1===e))throw Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[oC.Transaction.SIGHASH_ALL]){return new Promise((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(Error("Need HDSigner to sign input"));let i=[],o=[];for(let r of sP(this.data.inputs.length))o.push(this.signInputHDAsync(r,e,t).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(o).then(()=>{if(i.every(e=>!1===e))return n(Error("No inputs were signed"));r()})})}signInputHD(e,t,r=[oC.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw Error("Need HDSigner to sign input");return sp(e,this.data.inputs,t).forEach(t=>this.signInput(e,t,r)),this}signInputHDAsync(e,t,r=[oC.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>t&&t.publicKey&&t.fingerprint?Promise.all(sp(e,this.data.inputs,t).map(t=>this.signInputAsync(e,t,r))).then(()=>{n()}).catch(i):i(Error("Need HDSigner to sign input")))}signAllInputs(e,t){if(!e||!e.publicKey)throw Error("Need Signer to sign input");let r=[];for(let n of sP(this.data.inputs.length))try{this.signInput(n,e,t),r.push(!0)}catch{r.push(!1)}if(r.every(e=>!1===e))throw Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise((r,n)=>{if(!e||!e.publicKey)return n(Error("Need Signer to sign input"));let i=[],o=[];for(let[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,e,t).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(o).then(()=>{if(i.every(e=>!1===e))return n(Error("No inputs were signed"));r()})})}signInput(e,t,r){if(!t||!t.publicKey)throw Error("Need Signer to sign input");let n=(0,aR.checkForInput)(this.data.inputs,e);return(0,aL.isTaprootInput)(n)?this._signTaprootInput(e,n,t,void 0,r):this._signInput(e,t,r)}signTaprootInput(e,t,r,n){if(!t||!t.publicKey)throw Error("Need Signer to sign input");let i=(0,aR.checkForInput)(this.data.inputs,e);if((0,aL.isTaprootInput)(i))return this._signTaprootInput(e,i,t,r,n);throw Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,r=[oC.Transaction.SIGHASH_ALL]){let{hash:n,sighashType:i}=sa(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:a$.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,r,n,i=[oC.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,t,r,n,i),a=o.filter(e=>!e.leafHash).map(e=>(0,aL.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType))[0],s=o.filter(e=>!!e.leafHash).map(e=>({pubkey:(0,aL.toXOnly)(r.publicKey),signature:(0,aL.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash}));return a&&this.data.updateInput(e,{tapKeySig:a}),s.length&&this.data.updateInput(e,{tapScriptSig:s}),this}signInputAsync(e,t,r){return Promise.resolve().then(()=>{if(!t||!t.publicKey)throw Error("Need Signer to sign input");let n=(0,aR.checkForInput)(this.data.inputs,e);return(0,aL.isTaprootInput)(n)?this._signTaprootInputAsync(e,n,t,void 0,r):this._signInputAsync(e,t,r)})}signTaprootInputAsync(e,t,r,n){return Promise.resolve().then(()=>{if(!t||!t.publicKey)throw Error("Need Signer to sign input");let i=(0,aR.checkForInput)(this.data.inputs,e);if((0,aL.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,r,n);throw Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,t,r=[oC.Transaction.SIGHASH_ALL]){let{hash:n,sighashType:i}=sa(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then(r=>{let n=[{pubkey:t.publicKey,signature:a$.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})})}async _signTaprootInputAsync(e,t,r,n,i=[oC.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,t,r,n,i),a=[],s=o.filter(e=>!e.leafHash)[0];if(s){let e=Promise.resolve(r.signSchnorr(s.hash)).then(e=>({tapKeySig:(0,aL.serializeTaprootSignature)(e,t.sighashType)}));a.push(e)}let l=o.filter(e=>!!e.leafHash);if(l.length){let e=l.map(e=>Promise.resolve(r.signSchnorr(e.hash)).then(n=>({tapScriptSig:[{pubkey:(0,aL.toXOnly)(r.publicKey),signature:(0,aL.serializeTaprootSignature)(n,t.sighashType),leafHash:e.leafHash}]})));a.push(...e)}return Promise.all(a).then(t=>{t.forEach(t=>this.data.updateInput(e,t))})}checkTaprootHashesForSig(e,t,r,n,i){if("function"!=typeof r.signSchnorr)throw Error(`Need Schnorr Signer to sign taproot input #${e}.`);let o=sc(e,t,this.data.inputs,r.publicKey,this.__CACHE,n,i);if(!o||!o.length)throw Error(`Can not sign for input #${e} with the key ${r.publicKey.toString("hex")}`);return o}toBuffer(){return a3(this.__CACHE),this.data.toBuffer()}toHex(){return a3(this.__CACHE),this.data.toHex()}toBase64(){return a3(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&sE(t.witnessScript),(0,aL.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&sd(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){let r=this.data.outputs[e];return(0,aL.checkTaprootOutputFields)(r,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}oq.Psbt=a0;let a1=e=>new a2(e);class a2{constructor(e=r6.from([2,0,0,0,0,0,0,0,0,0])){this.tx=oC.Transaction.fromBuffer(e),function(e){if(!e.ins.every(e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length))throw Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!r6.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw Error("Error adding input.");let t="string"==typeof e.hash?(0,oy.reverseBuffer)(r6.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!r6.isBuffer(e.script)||"number"!=typeof e.value)throw Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function a3(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw Error("Not BIP174 compliant, can not export")}function a4(e,t,r){let n;if(!t)return!1;if((n=r?r.map(e=>{let r=function(e){if(65===e.length){let t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}(e);return t.find(e=>e.pubkey.equals(r))}).filter(e=>!!e):t).length>e)throw Error("Too many signatures");return n.length===e}function a5(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function a6(e){return t=>!(!t.masterFingerprint.equals(e.fingerprint)||!e.derivePath(t.path).publicKey.equals(t.pubkey))}function a8(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw Error("Invalid 32 bit integer")}function a9(e,t){e.forEach(e=>{if((0,aL.isTaprootInput)(e)?(0,aL.checkTaprootInputForSigs)(e,t):(0,aH.checkInputForSig)(e,t))throw Error("Can not modify transaction, signatures exist.")})}function a7(e,t,r){if(!(0,aH.pubkeyInScript)(e,t))throw Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function se(e,t){let r=(0,oy.reverseBuffer)(r6.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function st(e,t){return(r,n,i,o)=>{let a=e({redeem:{output:i}}).output;if(!n.equals(a))throw Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}let sr=st(aJ.p2sh,"Redeem script"),sn=st(aJ.p2wsh,"Witness script");function si(e,t,r,n){if(!r.every(a5))throw Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),sy(r,i,n,o),"__FEE_RATE"===e)?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function so(e,t,r,n,i,o){let a=sv(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return a4(1,e.partialSig);case"multisig":let n=aJ.p2ms({output:t});return a4(n.m,e.partialSig,n.pubkeys);default:return!1}}(t,r,a))throw Error(`Can not finalize input #${e}`);return function(e,t,r,n,i,o){let a,s;let l=function(e,t,r){let n;switch(t){case"multisig":let i=aJ.p2ms({output:e}).pubkeys.map(e=>(r.filter(t=>t.pubkey.equals(e))[0]||{}).signature).filter(e=>!!e);n=aJ.p2ms({output:e,signatures:i});break;case"pubkey":n=aJ.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=aJ.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=aJ.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r),u=o?aJ.p2wsh({redeem:l}):null,c=i?aJ.p2sh({redeem:u||l}):null;return n?(s=u?(0,aH.witnessStackToScriptWitness)(u.witness):(0,aH.witnessStackToScriptWitness)(l.witness),c&&(a=c.input)):a=c?c.input:l.input,{finalScriptSig:a,finalScriptWitness:s}}(r,a,t.partialSig,n,i,o)}function sa(e,t,r,n,i){let o=(0,aR.checkForInput)(e,t),{hash:a,sighashType:s,script:l}=ss(t,o,n,!1,i);return a7(r,l,"sign"),{hash:a,sighashType:s}}function ss(e,t,r,n,i){let o,a;let s=r.__TX,l=t.sighashType||oC.Transaction.SIGHASH_ALL;if(sf(l,i),t.nonWitnessUtxo){let n=sg(r,t,e),i=s.ins[e].hash,o=n.getHash();if(!i.equals(o))throw Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);let l=s.ins[e].index;a=n.outs[l]}else if(t.witnessUtxo)a=t.witnessUtxo;else throw Error("Need a Utxo input item for signing");let{meaningfulScript:u,type:c}=sb(a.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(c)>=0)o=s.hashForWitnessV0(e,u,a.value,l);else if((0,aH.isP2WPKH)(u)){let t=aJ.p2pkh({hash:u.slice(2)}).output;o=s.hashForWitnessV0(e,t,a.value,l)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw Error(`Input #${e} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),o=s.hashForSignature(e,u,l)}return{script:u,sighashType:l,hash:o}}function sl(e,t,r){let{script:n}=sA(e,t,r);return(0,aH.isP2TR)(n)?n.subarray(2,34):null}function su(e){return 64===e.length?e:e.subarray(0,64)}function sc(e,t,r,n,i,o,a){let s=i.__TX,l=t.sighashType||oC.Transaction.SIGHASH_DEFAULT;sf(l,a);let u=r.map((e,t)=>sA(t,e,i)),c=u.map(e=>e.script),f=u.map(e=>e.value),p=[];if(t.tapInternalKey&&!o){let r=sl(e,t,i)||r6.from([]);if((0,aL.toXOnly)(n).equals(r)){let t=s.hashForWitnessV1(e,c,f,l);p.push({pubkey:n,hash:t})}}let h=(t.tapLeafScript||[]).filter(e=>(0,aH.pubkeyInScript)(n,e.script)).map(e=>Object.assign({hash:(0,od.tapleafHash)({output:e.script,version:e.leafVersion})},e)).filter(e=>!o||o.equals(e.hash)).map(t=>({pubkey:n,hash:s.hashForWitnessV1(e,c,f,l,t.hash),leafHash:t.hash}));return p.concat(h)}function sf(e,t){if(t&&0>t.indexOf(e)){let t=function(e){let t=e&oC.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case oC.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case oC.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case oC.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function sp(e,t,r){let n=(0,aR.checkForInput)(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(e=>{if(e.masterFingerprint.equals(r.fingerprint))return e}).filter(e=>!!e);if(0===i.length)throw Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(e=>{let t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw Error("pubkey did not match bip32Derivation");return t})}function sh(e){let t=0;function r(){let r=as.decode(e,t);return t+=as.decode.bytes,r}return function(){let n=r(),i=[];for(let o=0;o<n;o++)i.push(function(){var n;return n=r(),t+=n,e.slice(t-n,t)}());return i}()}function sd(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;let n=oC.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n,delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){let t=e.__NON_WITNESS_UTXO_BUF_CACHE[r],n=e.__NON_WITNESS_UTXO_TX_CACHE[r];if(void 0!==t)return t;{let t=n.toBuffer();return e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t,t}},set(t){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t}})}function sy(e,t,r,n){let i=0;e.forEach((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=sh(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){let n=sg(r,e,o),a=t.ins[o].index,s=n.outs[a];i+=s.value}});let o=t.outs.reduce((e,t)=>e+t.value,0),a=i-o;if(a<0)throw Error("Outputs are spending more than Inputs");let s=t.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(a/s)}function sg(e,t,r){let n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||sd(e,t,r),n[r]}function sm(e,t,r){let{script:n}=sA(e,t,r);return n}function sA(e,t,r){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){let n=sg(r,t,e).outs[r.__TX.ins[e].index];return{script:n.script,value:n.value}}throw Error("Can't find pubkey in input without Utxo data")}function sw(e){return 33===e.length&&a$.isCanonicalPubKey(e)}function sb(e,t,r,n,i){let o;let a=(0,aH.isP2SHScript)(e),s=a&&n&&(0,aH.isP2WSHScript)(n),l=(0,aH.isP2WSHScript)(e);if(a&&void 0===n)throw Error("scriptPubkey is P2SH but redeemScript missing");if((l||s)&&void 0===i)throw Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");return s?(o=i,sr(t,e,n,r),sn(t,n,i,r),sE(o)):l?(o=i,sn(t,e,i,r),sE(o)):a?(o=n,sr(t,e,n,r)):o=e,{meaningfulScript:o,type:s?"p2sh-p2wsh":a?"p2sh":l?"p2wsh":"raw"}}function sE(e){if((0,aH.isP2WPKH)(e)||(0,aH.isP2SHScript)(e))throw Error("P2WPKH or P2SH can not be contained within P2WSH")}function sv(e){return(0,aH.isP2WPKH)(e)?"witnesspubkeyhash":(0,aH.isP2PKH)(e)?"pubkeyhash":(0,aH.isP2MS)(e)?"multisig":(0,aH.isP2PK)(e)?"pubkey":"nonstandard"}function sP(e){return[...Array(e).keys()]}function sS(){let{network:e,publicKey:t,format:r,wallet:n}=eE(),[i,o]=(0,U.useState)(null),[a,s]=(0,U.useState)(!1);return{sign:(0,U.useCallback)(async(i,a,l)=>{s(!0);try{if(o(null),!r||!t||!n)throw Error("No wallet is connected");let u=rQ.Psbt.fromBase64(a),c=await rz({address:i,wallet:n,network:e,psbt:u,options:l});return s(!1),c}catch(e){throw o(e.message),s(!1),e}},[r,e,t,n]),error:i,loading:a}}async function sT({message:e,wallet:t,address:r,network:n,format:i}){if(t===em.MAGICEDEN){let{base64:t}=await (0,F.l)(e,r,n);return t}if(t===em.UNISAT){let{base64:t}=await (0,M.l)(e,"bip322-simple");return t}if(t===em.XVERSE){let{base64:t}=await (0,j.l)(e,r,n);return t}if(t===em.LEATHER){let t=function(e){if("segwit"===e)return H.rD.P2WPKH;if("taproot"===e)return H.rD.P2TR;throw Error("Leather payment address format is not supported")}(i),{base64:r}=await (0,H.l)(e,{paymentType:t,network:n});return r}if(t===em.OKX){let{base64:t}=await (0,D.l)(e,"bip322-simple",n);return t}throw Error("Invalid wallet selected")}function sI(){let{network:e,wallet:t,publicKey:r,format:n,address:i}=eE(),[o,a]=(0,U.useState)(null),[s,l]=(0,U.useState)(!1);return{signMsg:(0,U.useCallback)(async(o,s)=>{l(!0);try{if(a(null),!n||!r||!t)throw Error("No wallet is connected");if(i.ordinals!==o&&i.payments!==o)throw Error("Address supplied is not connected address");let u=await sT({address:o,wallet:t,message:s,network:e,format:i.ordinals===o?n.ordinals:n.payments});return l(!1),u}catch(e){throw a(e.message),l(!1),e}},[n,e,r,t,i]),error:o,isLoading:s}}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initEccLib=e.Transaction=e.opcodes=e.Psbt=e.Block=e.script=e.payments=e.networks=e.crypto=e.address=void 0;let t=oO();e.address=t,e.crypto=ir,e.networks=nh;let r=ok();e.payments=r;let n=n0();e.script=n,Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return o_.Block}}),Object.defineProperty(e,"Psbt",{enumerable:!0,get:function(){return oq.Psbt}}),Object.defineProperty(e,"opcodes",{enumerable:!0,get:function(){return nA.OPS}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return oC.Transaction}}),Object.defineProperty(e,"initEccLib",{enumerable:!0,get:function(){return ou.initEccLib}})}(rQ)}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6429],{47672:function(e,t,r){Promise.resolve().then(r.bind(r,14273))},14273:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eB}});var n,a,l,i,o={};r.r(o),r.d(o,{exclude:function(){return X},extract:function(){return V},parse:function(){return $},parseUrl:function(){return W},pick:function(){return J},stringify:function(){return K},stringifyUrl:function(){return q}});var s=r(80599),u=r(60858),c=r(61289),d=r(44347);(n=l||(l={})).PENDING="PENDING",n.COMPLETED="COMPLETED",(a=i||(i={})).HOURS_4="4H",a.HOURS_24="24H",a.DAYS_7="7D",a.DAYS_30="30D",a.DAYS_90="90D";var p=r(93923),m=r(43410),x=r(44522),f=r(40245),v=r(8401),g=r.n(v),b=r(77439),h=r(73406),y=r(15103),j=r(99791),S=r(29164),N=r(47194),k=r(81906),w=r(50045);let C={[i.HOURS_4]:g()().subtract(4,"hours").unix(),[i.HOURS_24]:g()().subtract(24,"hours").unix(),[i.DAYS_7]:g()().subtract(7,"days").unix(),[i.DAYS_30]:g()().subtract(30,"days").unix(),[i.DAYS_90]:g()().subtract(90,"days").unix()};function T(e){let{children:t}=e;return(0,s.jsx)("div",{className:"lg:h-[428px] flex items-center justify-center text-center",children:(0,s.jsx)("p",{className:"text-white-alpha-50 text-caption-1-500 py-[25px]",children:t})})}function A(e){let{token:t}=e;return(0,s.jsxs)("div",{className:"flex flex-row items-center flex-wrap gap-[8px]",children:[(0,s.jsx)(S.Z,{token:t,size:16}),(0,s.jsx)("p",{className:"lg:max-w-[170px] lg:truncate",children:t.name})]})}function E(e){let{tokenA:t,tokenB:r,titleUrl:n}=e,a=(0,d.usePathname)(),l=(0,u.useRef)(null),o=(0,u.useRef)(null),[p,v]=u.useState(i.HOURS_4),S=(0,w.NF)(t)?t.divisibility:r.divisibility,{data:E,isLoading:Z,isFetching:P}=(0,m.Zb)({fromToken:t.nameClean,toToken:r.nameClean,duration:p},{skip:!t||!r||!(null==t?void 0:t.nameClean)||!(null==r?void 0:r.nameClean)}),F=Z||P;if((0,u.useEffect)(()=>{if(!l.current||!(null==E?void 0:E.length)||!E)return()=>{};let e=(0,b.C2)(l.current,{height:300,autoSize:!0,layout:{attributionLogo:!1,textColor:"#8D8D8D",fontSize:10,fontFamily:"odisseia",background:{color:"rgba(0, 0, 0, 0)"}},grid:{horzLines:{color:"rgba(255, 255, 255, 0.1)"},vertLines:{color:"rgba(255, 255, 255, 0.1)"}},timeScale:{borderVisible:!1,timeVisible:!0,minBarSpacing:.1},rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1}}),t=e.addCandlestickSeries({upColor:"#059669",downColor:"#E11D48",borderVisible:!1,wickUpColor:"#059669",wickDownColor:"#E11D48"});return t.applyOptions({priceFormat:{type:"price",precision:S,minMove:10**-S}}),t.setData(E),e.timeScale().setVisibleRange({from:C["4H"],to:E[E.length-1].time}),o.current=e,()=>{e.remove()}},[l,S,E,t,r.divisibility]),(0,u.useEffect)(()=>{if(!l.current)return()=>{};let e=new ResizeObserver(e=>{if(!o.current||0===e.length||e[0].target!==l.current)return;let t=e[0].contentRect;o.current.applyOptions({height:t.height,width:t.width})});return e.observe(l.current),()=>{e.disconnect()}},[o,l]),(0,u.useEffect)(()=>{o.current&&(null==E?void 0:E.length)&&o.current.timeScale().setVisibleRange({from:C[p],to:null==E?void 0:E[E.length-1].closeTime})},[o,p,E]),!(null==t?void 0:t.nameClean)||!(null==r?void 0:r.nameClean))return(0,s.jsx)(T,{children:"No currencies selected"});let I=E?E[E.length-1]:void 0,_=(null==I?void 0:I.close)&&(0,k.Z)({value:I.close,decimalScale:S});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h.default,{className:(0,c.Z)("group mobile-text-title-3-500 lg:text-title-2-700 text-light-00","flex flex-row items-center gap-[8px] flex-wrap","mb-[24px] break-all h-[40px]",!n&&"pointer-events-none cursor-default"),href:null!=n?n:"/",children:[(0,s.jsx)(A,{token:t}),(0,s.jsx)("p",{children:"/"}),(0,s.jsx)(A,{token:r}),!!n&&(0,s.jsx)(x.Rgz,{className:"hidden group-hover:block",size:32})]}),(0,s.jsx)(j.Z,{tabs:Object.keys(C),onChange:e=>{let t=Object.keys(C)[e];v(t),(0,N._)(N.C["CLICK_".concat(t,"_TIMEFRAME")],{name:"Timeframe: ".concat(t),source:"Price chart: ".concat(a),type:"Button"})},rounded:!0,wrapperClassName:"w-fit lg:w-full mb-[24px] lg:mb-[16px]",tabClassName:"w-fit lg:flex-1"}),F&&(0,s.jsx)(y.Z,{className:"h-[200px] lg:h-[428px]"}),!(null==E?void 0:E.length)&&!F&&(0,s.jsx)(T,{children:"No trading data available"}),!!(null==E?void 0:E.length)&&!F&&(0,s.jsxs)("div",{className:"rounded-[8px] border-0.5 border-white-alpha-10 bg-dark-100/[0.5] p-[24px]",children:[(0,s.jsx)("div",{className:"mb-[4px] lg:mb-[8px] text-white-alpha-50 text-caption-1-500 lg:text-caption-1-400",children:g().unix(I.closeTime).format("D MMM YYYY hh:mm A")}),(0,s.jsx)("div",{className:"text-paragraph-1-600 text-light-00 mb-[16px]",children:(null==I?void 0:I.close)&&I.close<1/10**S?"<".concat((0,f.Z)(1/10**S).toFixed(S)):_}),(0,s.jsx)("div",{ref:l,className:"font-mono"})]})]})}var Z=r(34084),P=r(40982),F=r(45439),I=r(50946),_=r(1976);let O="%[a-f0-9]{2}",L=RegExp("("+O+")|([^%]+?)","gi"),D=RegExp("("+O+")+","gi");function U(e,t){if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];let r=e.indexOf(t);return -1===r?[]:[e.slice(0,r),e.slice(r+t.length)]}let R=e=>null==e,Y=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),M=Symbol("encodeFragmentIdentifier");function B(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function H(e,t){return t.encode?t.strict?Y(e):encodeURIComponent(e):e}function z(e,t){return t.decode?function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){let t={"%FE%FF":"��","%FF%FE":"��"},r=D.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{let e=function(e){try{return decodeURIComponent(e)}catch{let t=e.match(L)||[];for(let r=1;r<t.length;r++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch{}if(1===t.length)return t;r=r||1;let n=t.slice(0,r),a=t.slice(r);return Array.prototype.concat.call([],e(n),e(a))})(t,r).join("")).match(L)||[];return e}}(r[0]);e!==r[0]&&(t[r[0]]=e)}r=D.exec(e)}for(let r of(t["%C2"]="�",Object.keys(t)))e=e.replace(RegExp(r,"g"),t[r]);return e}(e)}}(e):e}function G(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function Q(e,t,r){return"string"===r&&"string"==typeof e?e:"function"==typeof r&&"string"==typeof e?r(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())?"true"===e.toLowerCase():("number"!==r||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim())&&(!t.parseNumbers||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim())?e:Number(e)}function V(e){let t=(e=G(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function $(e,t){B((t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t}).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[...n[e],r]};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[...n[e],r]};case"comma":case"separator":return(t,r,n)=>{let a="string"==typeof r&&r.includes(e.arrayFormatSeparator),l="string"==typeof r&&!a&&z(r,e).includes(e.arrayFormatSeparator);r=l?z(r,e):r;let i=a||l?r.split(e.arrayFormatSeparator).map(t=>z(t,e)):null===r?r:z(r,e);n[t]=i};case"bracket-separator":return(t,r,n)=>{let a=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!a){n[t]=r?z(r,e):r;return}let l=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>z(t,e));if(void 0===n[t]){n[t]=l;return}n[t]=[...n[t],...l]};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[...[r[e]].flat(),t]}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let a of e.split("&")){if(""===a)continue;let e=t.decode?a.replaceAll("+"," "):a,[l,i]=U(e,"=");void 0===l&&(l=e),i=void 0===i?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?i:z(i,t),r(z(l,t),i,n)}for(let[e,r]of Object.entries(n))if("object"==typeof r&&null!==r&&"string"!==t.types[e])for(let[n,a]of Object.entries(r)){let l=t.types[e]?t.types[e].replace("[]",""):void 0;r[n]=Q(a,t,l)}else"object"==typeof r&&null!==r&&"string"===t.types[e]?n[e]=Object.values(r).join(t.arrayFormatSeparator):n[e]=Q(r,t,t.types[e]);return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return e[t]=r&&"object"==typeof r&&!Array.isArray(r)?function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):r,e},Object.create(null))}function K(e,t){if(!e)return"";B((t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t}).arrayFormatSeparator);let r=r=>t.skipNull&&R(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[H(t,e),"[",a,"]"].join("")]:[...r,[H(t,e),"[",H(a,e),"]=",H(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[H(t,e),"[]"].join("")]:[...r,[H(t,e),"[]=",H(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[H(t,e),":list="].join("")]:[...r,[H(t,e),":list=",H(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:(a=null===a?"":a,0===n.length)?[[H(r,e),t,H(a,e)].join("")]:[[n,H(a,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,H(t,e)]:[...r,[H(t,e),"=",H(n,e)].join("")]}}(t),a={};for(let[t,n]of Object.entries(e))r(t)||(a[t]=n);let l=Object.keys(a);return!1!==t.sort&&l.sort(t.sort),l.map(r=>{let a=e[r];return void 0===a?"":null===a?H(r,t):Array.isArray(a)?0===a.length&&"bracket-separator"===t.arrayFormat?H(r,t)+"[]":a.reduce(n(r),[]).join("&"):H(r,t)+"="+H(a,t)}).filter(e=>e.length>0).join("&")}function W(e,t){t={decode:!0,...t};let[r,n]=U(e,"#");return void 0===r&&(r=e),{url:r?.split("?")?.[0]??"",query:$(V(e),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:z(n,t)}:{}}}function q(e,t){t={encode:!0,strict:!0,[M]:!0,...t};let r=G(e.url).split("?")[0]||"",n=K({...$(V(e.url),{sort:!1}),...e.query},t);n&&=`?${n}`;let a=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);if("string"==typeof e.fragmentIdentifier){let n=new URL(r);n.hash=e.fragmentIdentifier,a=t[M]?n.hash:`#${e.fragmentIdentifier}`}return`${r}${n}${a}`}function J(e,t,r){let{url:n,query:a,fragmentIdentifier:l}=W(e,r={parseFragmentIdentifier:!0,[M]:!1,...r});return q({url:n,query:function(e,t){let r={};if(Array.isArray(t))for(let n of t){let t=Object.getOwnPropertyDescriptor(e,n);t?.enumerable&&Object.defineProperty(r,n,t)}else for(let n of Reflect.ownKeys(e)){let a=Object.getOwnPropertyDescriptor(e,n);if(a.enumerable){let l=e[n];t(n,l,e)&&Object.defineProperty(r,n,a)}}return r}(a,t),fragmentIdentifier:l},r)}function X(e,t,r){return J(e,Array.isArray(t)?e=>!t.includes(e):(e,r)=>!t(e,r),r)}var ee=r(56035),et=r(81809),er=r(66124),en=r(24998),ea=r(45293),el=r(34078),ei=r(71849),eo=r(32204),es=r(18024),eu=r(92904),ec=r(29385);let ed=(0,u.createContext)(null);function ep(e){var t,r,n,a;let{children:l}=e,{address:i,publicKey:c}=(0,p._Y)(),{sign:x}=(0,p.hS)(),{walletBalance:v}=(0,ea.Z)(),g=(0,d.usePathname)(),b=(0,d.useRouter)(),h=(0,d.useSearchParams)(),{token:y,isTurnstileValidationEnabled:j}=(0,en.Z)(),[S,N]=(0,m.Wk)(),[k]=(0,m.U2)(),[C]=(0,m.MS)(),T=(0,et.Y)(),[A]=(0,m.bF)(),E=(0,ee.y1)(S,300),[Z,P]=(0,u.useState)(void 0),[F,O]=(0,u.useState)(""),[L,D]=(0,u.useState)(void 0),[U,R]=(0,u.useState)(void 0),[Y,M]=(0,u.useState)(!1),[B,H]=(0,u.useState)(!1),[z]=(0,ee.Nr)(F,350);(0,u.useEffect)(()=>{O("")},[null==i?void 0:i.ordinals,null==i?void 0:i.payments]);let{enabledAuto:G,selectedSlippage:Q,customSlippage:V}=(0,I.v9)(el.Hj);(0,u.useEffect)(()=>{let e=h.get("from"),t=h.get("to");(async()=>{let{data:r}=await A({});if(!(null==r?void 0:r.length))return;let n=r.find(r=>{let{tokenA:n,tokenB:a}=r;return n===e&&a===t});n&&R(n.id);let a=r.reduce((e,t)=>({...e,[t.tokenAMetadata.nameClean]:t.tokenAMetadata,[t.tokenBMetadata.nameClean]:t.tokenBMetadata}),{});e&&a[e]&&P(a[e]),t&&e!==t&&void 0!==a[t]&&D(a[t])})()},[h.get("from"),h.get("to")]);let $=null!==(n=null===(r=T.data)||void 0===r?void 0:null===(t=r.USD)||void 0===t?void 0:t.value)&&void 0!==n?n:0,K=!!F&&(0,f.Z)(F).gt(0)&&!!Z&&!!L&&!!v[Z.nameClean]&&(0,eo.Q)(null!==(a=v[Z.nameClean])&&void 0!==a?a:0,Z.divisibility).gte(F);(0,u.useEffect)(()=>{if(!K||!i)return;if((0,w.NF)(Z)&&ec.cO.gt(F)){H(!0);return}H(!1);let e=(0,w.NF)(L)?i.payments:i.ordinals;E({fromToken:Z.nameClean,fromTokenAmount:(0,eo.r)(F,null==Z?void 0:Z.divisibility).toFixed(),toToken:L.nameClean,receiverAddress:e})},[F,Z,null==Z?void 0:Z.nameClean,null==Z?void 0:Z.divisibility,E,K,L,null==L?void 0:L.nameClean,i]);let W=F!==z,q=N.isLoading||N.isFetching||W&&!B,J=(0,u.useMemo)(()=>{if(B)return null;let e=N.currentData;if(q||N.isError||!K||!(null==e?void 0:e.toTokenAmount))return null;let t=(0,eo.Q)(e.toTokenAmount,null==L?void 0:L.divisibility).toFixed(),r=(0,w.NF)(Z)?$:(0,es.dP)(+t,+F,$),n=(0,w.NF)(L)?$:(0,es.dP)(+F,+t,$);return{slippage:(0,eo.Q)(e.slippage,2).toNumber(),fees:{totalEstFee:(0,eo.Q)(e.estimatedTotalFeeSats).toNumber(),platformFee:(0,eo.Q)(e.platformFeeSats).toNumber(),platformFeePct:(0,eo.Q)(e.platformFeePct,2).toNumber(),swapFee:(0,eo.Q)(e.swapFeeSats).toNumber(),swapFeePct:(0,eo.Q)(e.swapFeePct,2).toNumber()},fromToken:{...Z,value:F,usdPrice:r,valueInUsd:r*+F},toToken:{...L,value:t,usdPrice:n,valueInUsd:n*+t},route:[Z,L],priceImpact:(0,eo.Q)(e.priceImpact,2).toNumber()}},[F,Z,N.currentData,N.isError,K,L,$,q,B]),X=(0,u.useMemo)(()=>{var e;return null!==(e=null==J?void 0:J.slippage)&&void 0!==e?e:(0,es.VA)()},[null==J?void 0:J.slippage]),{isLowSlippage:ep,slippageApplied:em}=(0,u.useMemo)(()=>{if(G)return{isLowSlippage:!1,slippageApplied:X};let e=!Q&&!!V;return{isLowSlippage:!!Q&&Q<X||e&&Number(V)<X,slippageApplied:null!=Q?Q:Number(V)}},[G,Q,X,V]),ex=q||!J||Y||J&&(0,f.Z)(J.toToken.value).lte(0),ef=(0,u.useCallback)(async()=>{var e,t,r,n;let a;if(ex){_.toast.error("Swap not available");return}if(!J){_.toast.error("Could not get swap price");return}if(j&&!y){_.toast.error("Please verify you are human");return}if(M(!0),G&&!J.slippage){M(!1),_.toast.error("Cannot get offer slippage, please try again later");return}let l=G?J.slippage:null!=Q?Q:Number(V),o=(0,w.NF)(J.fromToken)?i.payments:i.ordinals,u=(0,w.NF)(J.toToken)?i.payments:i.ordinals,d=(0,w.NF)(J.fromToken)?c.payments:c.ordinals,p=(null==i?void 0:i.payments)!==(null==i?void 0:i.ordinals),f=await k({fromToken:J.fromToken.nameClean,fromTokenAmount:(0,eo.r)(J.fromToken.value,J.fromToken.divisibility).toFixed(),toToken:J.toToken.nameClean,slippage:(0,eo.r)(l,2).toNumber(),address:o,receiverAddress:u,cfToken:y,publicKey:null!=d?d:void 0,costPayerAddress:p&&(null==i?void 0:i.payments)||void 0,costPayerPublicKey:p&&(null==c?void 0:c.payments)||void 0});if(!f.isSuccess||!(null==f?void 0:null===(e=f.data)||void 0===e?void 0:e.psbtEncoded)){M(!1);let e=null===(t=f.error)||void 0===t?void 0:t.data,r=(0,m.rv)(e);_.toast.error(null!=r?r:"Failed to get swap preview");return}try{a=(await x(o,f.data.psbtEncoded,{finalize:!1,extractTx:!1,inputsToSign:(null===(r=f.data.userIndexesToSign)||void 0===r?void 0:r.length)?f.data.userIndexesToSign.map(e=>({address:e.address,signingIndexes:e.indexes,sigHash:ec.QY.SIGHASH_ALL|ec.QY.SIGHASH_ANYONECANPAY})):void 0})).base64}catch(e){}if(!a){M(!1),_.toast.error("Failed to sign swap transaction");return}let v=await C({swapId:f.data.swapId,signedPsbt:a,cfToken:y});if(!v.isSuccess){M(!1);let e=null===(n=v.error)||void 0===n?void 0:n.data,t=(0,m.rv)(e);_.toast.error(null!=t?t:"Failed to swap, please try again later");return}M(!1),O(""),_.toast.success((0,s.jsx)(er.Z,{buttonText:"View transaction",onButtonClick:()=>window.open((0,eu.a)(v.data.txHash),"_blank"),children:"Successfully swapped"})),(0,ei.hb)(ec.GZ.SUCCESSFULLY_SENT)},[ex,G,Q,V,k,C,i,J,x,y,j,c]);(0,u.useEffect)(()=>{let e=o.stringify({from:null==Z?void 0:Z.nameClean,to:null==L?void 0:L.nameClean});b.replace("".concat(g,"?").concat(e))},[Z,g,b,L]);let ev=(0,u.useCallback)(()=>{var e;P(L),O(null!==(e=null==J?void 0:J.toToken.value)&&void 0!==e?e:""),D(Z)},[Z,L,null==J?void 0:J.toToken.value]),eg=(0,u.useMemo)(()=>{var e,t;if(B)return"Minimum swap amount is ".concat(ec.cO," BTC");if(!K||q||J&&(0,f.Z)(J.toToken.value).gt(0))return;if(J&&(0,f.Z)(null!==(t=J.toToken.value)&&void 0!==t?t:0).lte(0))return"Unable to get offer. Please try a higher input amount.";let r=null===(e=N.error)||void 0===e?void 0:e.data,n=(0,m.rv)(r);return null!=n?n:"Unable to get offer. Please try again later."},[N.error,K,q,J,B]),eb=(0,u.useMemo)(()=>({fromToken:Z,fromTokenValue:F,toToken:L,setFromToken:P,setFromTokenValue:O,setToToken:D,offer:J,switchTokens:ev,isGettingOffer:q,isSwapDisabled:ex,isSwapping:Y,swap:ef,recommendedSlippage:X,isLowSlippage:ep,offerErrorMessage:eg,slippageApplied:em,pairId:U}),[Z,F,L,J,ev,q,ex,Y,ef,X,ep,eg,em,U]);return(0,s.jsx)(ed.Provider,{value:eb,children:l})}var em=()=>{let e=(0,u.useContext)(ed);if(null===e)throw Error("No parent <SwapProvider />");return e},ex=r(29027),ef=r(72870),ev=r(55035);function eg(){let{address:e,openModal:t}=(0,p._Y)(),{token:r,isTurnstileValidationEnabled:n}=(0,en.Z)(),{isSwapDisabled:a,isSwapping:l,isLowSlippage:i,isGettingOffer:o,swap:c}=em(),d=(0,ev.Z)(),m=(0,u.useMemo)(()=>l?"Swapping...":o?"Getting price...":i?"Swap Anyway":"Swap",[o,i,l]);return(null==e?void 0:e.ordinals)&&d?(0,s.jsxs)(s.Fragment,{children:[!a&&n&&(0,s.jsx)("div",{className:"w-full mb-[32px]",children:(0,s.jsx)(ef.Z,{})}),(0,s.jsx)(ex.Z,{customClass:"rounded-[54px] text-button-large py-[14px]",disabled:a||n&&!r,onClick:()=>{(0,N._)(N.C.CLICK_SWAP_BUTTON,{name:"Swap",source:"Swap action button",type:"Button"}),c()},fullWidth:!0,children:m})]}):(0,s.jsx)(ex.Z,{customClass:"rounded-[54px] text-button-large py-[14px]",onClick:()=>{(0,N._)(N.C.CLICK_CONNECT_WALLET,{name:"Connect wallet",source:"Swap action button",type:"Button"}),t()},variant:"highlight",fullWidth:!0,children:"Connect Wallet"})}var eb=r(29044),eh=r(33099),ey=r(13041),ej=r(4406);function eS(e){var t;let{title:r,token:n,setToken:a,value:l,valueInUsd:i,setValue:o,priceImpact:d,disabled:p,isFromCard:m=!1}=e,[x,v]=(0,u.useState)(!1),{fromToken:g,toToken:b}=em(),{walletBalance:h,refreshWalletBalance:y}=(0,ea.Z)();(0,u.useEffect)(()=>{y()},[y]);let{priceImpactTextColor:j,priceImpactBg:S,priceImpactPrefix:C}=(0,u.useMemo)(()=>{let e="text-dark-700",t="bg-dark-700/[0.15]",r="",n=null!=d?d:0;return n>0?(e="text-status-success",t="bg-status-success/[0.15]",r="+"):n<0&&(e="text-status-error",t="bg-status-error/[0.15]"),{priceImpactTextColor:e,priceImpactBg:t,priceImpactPrefix:r}},[d]),T=(0,u.useMemo)(()=>n&&h[n.nameClean]?(0,eo.Q)(h[n.nameClean],n.divisibility).toFixed():"0",[h,n]),A=(0,u.useMemo)(()=>{if(!(0,w.n2)(n,b)&&n&&l&&(0,eo.r)(T,n.divisibility).lt((0,eo.r)(l,n.divisibility)))return"Insufficient balance"},[b,n,T,l]);return(0,s.jsxs)("div",{className:(0,c.Z)("flex flex-col w-full border-0.5 rounded-[18px] backdrop-blur-sm","p-[24px] gap-y-[24px]",A?"border-status-error bg-status-error/[0.2]":"border-white-alpha-10 bg-dark-00/[0.7]"),children:[(0,s.jsx)("h4",{className:"text-body-3-400 text-[18px] leading-[24px] text-dark-800",children:r}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row align-top gap-x-[24px] gap-y-[8px] justify-between",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(eh.Z,{value:null!=l?l:"",setValue:e=>{o&&o(e)},placeholder:"0",disabled:p,inputStyle:"text-paragraph-1-400",maxDecimal:null!==(t=null==n?void 0:n.divisibility)&&void 0!==t?t:8,hideClearButton:!0}),(void 0!==i||void 0!==d)&&(0,s.jsxs)("div",{className:"flex items-center mt-[8px] md:mt-[12px]",children:[void 0!==i&&(0,s.jsx)(ey.Z,{className:"text-paragraph-3-400 text-dark-700",prefix:"$",decimalScale:2,value:i}),void 0!==d&&(0,s.jsx)(ey.Z,{className:(0,c.Z)("text-paragraph-4-400 leading-[28px] rounded px-[6px] ml-[8px]",j,S),prefix:C,suffix:"%",decimalScale:2,value:null!=d?d:0,suffixSeparator:""})]})]}),(0,s.jsxs)("div",{className:"flex flex-col w-full md:items-end md:max-w-[50%]",children:[(0,s.jsx)(eb.Z,{selectedToken:n,onClick:()=>v(!0),customStyle:"justify-between max-w-full"}),!!n&&(0,s.jsxs)("span",{className:"text-paragraph-3-400 text-dark-700 md:text-end",children:["Balance:"," ",(0,k.Z)({value:T,trimTrailingZeros:!0,decimalScale:n.divisibility}),!p&&!Number.isNaN(Number(T))&&!(0,eo.r)(T,n.divisibility).isZero()&&!!o&&(0,s.jsx)("button",{className:(0,c.Z)("ml-[8px] text-transparent button-active-hover-opacity","text-paragraph-3-400 text-odin-gradient-to-r inline-block"),type:"button",onClick:()=>{var e;return o((0,f.Z)(T).toFixed(null!==(e=null==n?void 0:n.divisibility)&&void 0!==e?e:8))},children:"max"})]})]})]}),A&&(0,s.jsx)("p",{className:"text-body-4-500 text-status-error",children:A}),x&&(0,s.jsx)(ej.Z,{onClose:()=>v(!1),onRuneSelected:e=>{(0,N._)(N.C.SELECT_RUNES,{name:"Select rune",source:"Rune selection modal",type:"Search result",input:"".concat(e.symbol,":").concat(e.name)}),v(!1),o&&o(""),a(e)},excludeToken:m?b:g})]})}var eN=r(23936),ek=r(97933),ew=r(33839),eC=r(74380),eT=r(46676);function eA(e){let{onClose:t}=e,{recommendedSlippage:r}=em(),n=(0,eN.TL)(),{enabledAuto:a,customSlippage:l,selectedSlippage:i,isCustomSlippageSelected:o}=(0,I.v9)(e=>(0,el.Hj)(e)),[d,p]=(0,u.useState)(l),m=100*Number("0.5"),f=(0,u.useMemo)(()=>{if(void 0===i&&!o&&""===d.trim())return;if(o){if(0>=Number(d))return{message:"Invalid slippage, must be more than 0",status:"error"};if(Number(d)>m)return{message:"Slippage cannot exceed ".concat(m,". Please adjust your input to ").concat(m," or below"),status:"error"}}let e=null!=i?i:Number(d);return(0,es.Pv)(e,r)?{message:"Your transaction may fail because of low slippage tolerance",status:"warning"}:void 0},[i,d,o,r,m]);function v(e){n((0,el.Bk)(e))}function g(e){n((0,el.Ou)(e))}let b="flex-1 border rounded-[6px] border-white-alpha-35 text-caption-1-500 px-[12px] py-[9px]";return(0,s.jsx)(eT.Z,{isOpen:!0,onClose:t,customPanelStyle:"md:!h-[386px]",children:(0,s.jsxs)(ek.EM,{className:"flex flex-col lg:px-[24px]",children:[(0,s.jsxs)(ek.$N,{className:"flex items-center",as:"div",children:[(0,s.jsx)("h3",{className:"flex flex-1 justify-center mobile-text-title-3-500 ml-[24px]",children:"Settings"}),(0,s.jsx)("button",{type:"button",onClick:t,className:"active:opacity-50","aria-label":"Back",children:(0,s.jsx)(x.q5L,{size:24})})]}),(0,s.jsxs)("button",{className:"flex w-full items-center pt-[32px] lg:pt-[44px] justify-between gap-x-[24px]",type:"button",onClick:()=>{(0,N._)(N.C.CLICK_AUTOMATIC_SLIPPAGE,{name:"Automatic slippage",source:"Swap settings modal",type:"Button",input:String(!a)}),v(!a)},children:[(0,s.jsxs)("div",{className:"flex flex-col flex-1 text-left gap-y-[4px]",children:[(0,s.jsx)("p",{className:"mobile-text-body-2-700",children:"Automatic slippage tolerance"}),(0,s.jsx)("p",{className:"text-caption-1-400 text-light-00/[0.7]",children:"Turn off automatic slippage tolerance to adjust the value."})]}),(0,s.jsxs)(ew.rs,{as:"div",checked:a,onChange:e=>v(e),className:(0,c.Z)("relative inline-flex h-[24px] w-[45px] lg:h-[32px] lg:w-[60px] items-center rounded-full",a?"bg-status-success":"bg-white-alpha-10"),children:[(0,s.jsx)("span",{className:"sr-only",children:"Enable auto slippage"}),(0,s.jsx)("span",{className:(0,c.Z)("inline-block size-[18px] lg:size-[24px] transform rounded-full bg-light-00 transition",a?"translate-x-6 lg:translate-x-8":"translate-x-1")})]})]}),(0,s.jsx)(eC.u,{show:!a,enter:"transition-opacity ease-linear duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsxs)("div",{className:"flex flex-col w-full pt-[40px] pb-[24px]",children:[(0,s.jsx)("p",{className:"mobile-text-body-2-700",children:"Custom slippage tolerance"}),(0,s.jsx)("p",{className:"text-caption-1-400 text-light-00/[0.7] mt-[4px]",children:"Adjust slippage to your personal preferences."}),(0,s.jsxs)("div",{className:"flex w-full gap-x-[12px] pt-[12px] lg:pt-[20px] max-w-[452px]",children:[[.2,.5,1].map(e=>(0,s.jsxs)("button",{className:(0,c.Z)("w-[20%] button-active-hover-opacity",b,i===e&&"bg-light-00 text-dark-00"),type:"button",onClick:()=>{(0,N._)(N.C["CLICK_".concat(e.toString(),"_SLIPPAGE")],{name:"".concat(e.toString(),"% slippage"),source:"Swap settings modal",type:"Button"}),g(e)},children:[e," %"]},e.toString())),(0,s.jsx)("div",{className:(0,c.Z)("items-center",b,(null==f?void 0:f.status)==="error"&&"!border-status-error",o&&"bg-white-alpha-10"),children:(0,s.jsx)(eh.Z,{value:d,setValue:e=>(function(e){p(e);let t=Number(e);0!==t&&t<=m&&n((0,el.A3)(e))})(e),placeholder:"Custom",formStyle:"text-caption-1-500",inputStyle:"text-end",suffix:"%",setIsFocused:()=>{(0,N._)(N.C.CLICK_CUSTOM_SLIPPAGE_INPUTBOX,{name:"Custom slippage",source:"Swap settings modal",type:"Custom slippage inputbox",input:d}),g(void 0)},maxDecimal:2,hideClearButton:!0})})]}),f&&(0,s.jsx)("p",{className:(0,c.Z)("text-caption-1-400 pt-[12px]","warning"===f.status&&"text-status-warning","error"===f.status&&"text-status-error"),children:f.message})]})})]})})}function eE(){let[e,t]=(0,u.useState)(!1);return(0,s.jsxs)("div",{className:"flex w-full items-center justify-between mb-[32px]",children:[(0,s.jsx)("h3",{className:"text-title-2-700",children:"Swap"}),(0,s.jsx)("button",{type:"button",onClick:()=>{(0,N._)(N.C.CLICK_SETTINGS_ICON,{name:"Settings",source:"Header",type:"Button"}),t(!0)},"aria-label":"Settings",className:"button-active-hover-opacity",children:(0,s.jsx)(x.nbt,{size:27})}),e&&(0,s.jsx)(eA,{onClose:()=>t(!1)})]})}var eZ=r(67783);function eP(e){let{label:t,value:r,symbol:n,decimals:a,type:l="default"}=e;return(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-x-[8px] mr-[12px]",children:[(0,s.jsxs)("p",{className:(0,c.Z)("text-body-2-400 md:text-body-4-400 text-left","total"===l?"text-dark-1000":"text-dark-700"),children:[t,":"]}),(0,s.jsx)(ey.Z,{className:(0,c.Z)("text-paragraph-4-400 lg:text-paragraph-3-600 text-right max-w-[60%] truncate","subValue"===l&&"text-dark-700"),value:r,suffix:n,decimalScale:a,thousandSeparator:!0,trimTrailingZeros:!0})]})}function eF(e){let{routeTokens:t,routePercentage:r}=e;return t.length?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-caption-1-500 mb-[6px]",children:"Route"}),(0,s.jsx)("div",{className:"flex w-full items-center gap-x-[8px]",children:t.map((e,n)=>(0,s.jsxs)("div",{className:"flex items-center gap-x-[2px]",children:[n>0&&(0,s.jsx)(eZ.SZ3,{size:16,className:"mr-[8px] text-dark-800"}),(0,s.jsx)(S.Z,{token:e,size:16}),n===t.length-1&&(0,s.jsxs)("div",{className:"flex items-center gap-x-[8px] ml-[8px]",children:[(0,s.jsx)("span",{className:"text-body-4-400",children:e.name}),!!r&&(0,s.jsxs)("span",{className:"text-caption-2-400 bg-[#5C5C5C]/[0.5] rounded-[6px] py-[2px] px-[8px]",children:[r,"%"]})]})]},e.name))})]}):null}function eI(e){let{offer:t,loading:r,slippageApplied:n}=e,[a,l]=(0,u.useState)(!1);return!t||r?null:(0,s.jsxs)("div",{className:(0,c.Z)("flex flex-col w-full bg-dark-00/[0.7]","border border-white-alpha-10 rounded-[8px]","p-[16px] mt-[24px]"),children:[(0,s.jsxs)("button",{className:(0,c.Z)("flex w-full items-center justify-between gap-x-[8px]","mobile-text-body-2-700 lg:text-body-4-500 button-active-hover-opacity text-left"),type:"button",onClick:()=>l(!a),children:[(0,s.jsxs)("p",{children:[(0,s.jsx)(ey.Z,{className:"flex-wrap",value:1,suffix:t.fromToken.name,thousandSeparator:!0,trimTrailingZeros:!0})," = ",(0,s.jsx)(ey.Z,{suffix:t.toToken.name,value:+t.toToken.value/+t.fromToken.value,decimalScale:t.toToken.divisibility,thousandSeparator:!0,trimTrailingZeros:!0})]}),(0,s.jsx)(x.bTu,{size:18,className:(0,c.Z)("transition-all",a&&"rotate-180")})]}),(0,s.jsx)(eC.u,{show:a,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsxs)("div",{className:"flex flex-col w-full gap-y-[24px] mt-[24px]",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full gap-y-[4px] md:gap-y-[8px]",children:[(0,s.jsx)(eP,{label:"Expected Output",value:+t.toToken.value,symbol:t.toToken.name,decimals:t.toToken.divisibility}),(0,s.jsx)(eP,{label:"Minimum Received",value:+(0,es.zT)(t.toToken.value,t.toToken.divisibility,n),symbol:t.toToken.name,decimals:t.toToken.divisibility}),(0,s.jsx)("div",{className:"w-full h-[1px] bg-white-alpha-10 my-[4px]"}),(0,s.jsx)(eP,{label:"Swap fee (".concat(t.fees.swapFeePct,"%)"),value:t.fees.swapFee,symbol:"BTC",decimals:8,type:"subValue"}),(0,s.jsx)(eP,{label:"Platform fee (".concat(t.fees.platformFeePct,"%)"),value:t.fees.platformFee,symbol:"BTC",decimals:8,type:"subValue"}),(0,s.jsx)(eP,{label:"Est. total",value:t.fees.totalEstFee,symbol:"BTC",decimals:8,type:"total"})]}),(0,s.jsx)(eF,{routeTokens:t.route})]})})]})}function e_(e){let{onClick:t}=e;return(0,s.jsx)("button",{type:"button","aria-label":"Switch",onClick:t,className:"p-[12px] bg-dark-00/[0.7] border-0.5 border-white-alpha-10 rounded-[12px] button-active-hover-opacity",children:(0,s.jsx)(F.tal,{size:21,className:"-scale-x-[1]"})})}function eO(){var e,t,r;let{switchTokens:n,fromToken:a,setFromToken:l,fromTokenValue:i,setFromTokenValue:o,toToken:u,setToToken:d,offer:p,recommendedSlippage:m,isLowSlippage:x,isGettingOffer:f,offerErrorMessage:v,slippageApplied:g}=em();return(0,s.jsxs)("section",{className:(0,c.Z)("relative overflow-x-clip flex flex-col w-full","bg-gradient-to-b from-dark-400/[0.1] to-[#626262]/[0.02]"),children:[(0,s.jsxs)("div",{className:(0,c.Z)("border-0.5 border-white-alpha-10 rounded-[15px] transition-all","px-[16px] lg:px-[32px] pt-[32px] pb-[47px]"),children:[(0,s.jsx)(eE,{}),(0,s.jsx)(eS,{title:"You're paying",token:a,setToken:l,value:i,setValue:o,valueInUsd:null==p?void 0:null===(e=p.fromToken)||void 0===e?void 0:e.valueInUsd,isFromCard:!0}),(0,s.jsx)("div",{className:"my-[12px] flex flex-row items-center justify-center",children:(0,s.jsx)(e_,{onClick:()=>{(0,N._)(N.C.CLICK_SWITCH_PAIR_TOGGLE,{name:"From: ".concat(a," -> To: ").concat(u),source:"Swap section",type:"Switch pair toggle"}),n()}})}),(0,s.jsx)(eS,{title:"You're receiving",token:u,setToken:d,value:(0,w.n2)(null==p?void 0:p.toToken,u)?null==p?void 0:null===(t=p.toToken)||void 0===t?void 0:t.value:void 0,valueInUsd:(0,w.n2)(null==p?void 0:p.toToken,u)?null==p?void 0:null===(r=p.toToken)||void 0===r?void 0:r.valueInUsd:void 0,priceImpact:(0,w.n2)(null==p?void 0:p.toToken,u)?null==p?void 0:p.priceImpact:void 0,disabled:!0}),(0,s.jsx)(eI,{offer:(0,w.n2)(null==p?void 0:p.toToken,u)?p:void 0,loading:f,slippageApplied:g}),(0,s.jsxs)("div",{className:"mt-[24px] lg:mt-[48px]",children:[!!v&&(0,s.jsx)("p",{className:"text-caption-1-400 text-status-error mb-[32px] text-center",children:v}),!v&&x&&(0,s.jsxs)("p",{className:"text-caption-1-400 text-status-warning mb-[32px] text-center",children:["Your transaction may fail because of low slippage tolerance below recommended ",m,"%.",(0,s.jsx)("br",{}),"You may adjust your slippage tolerance in settings."]}),(0,s.jsx)(eg,{})]})]}),(0,s.jsx)("video",{src:"/bg-brand-swap.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute -z-10 w-full top-[150px] scale-[1.4] md:top-[110px] md:scale-[1.2]"})]})}var eL=r(81519),eD=r(32608);let eU={[l.COMPLETED]:"text-action-deposit"};function eR(e){let{txId:t,swapStatus:r}=e;return(0,s.jsx)("div",{className:"flex flex-row items-center",children:(0,s.jsx)(eL.Oj,{txId:t,text:r,wrappedClassName:(0,c.Z)("text-right",eU[r]),txIdDisplayLength:5})})}function eY(e){var t;let{address:r,fromToken:n,toToken:a}=e,l=[{text:"All transactions",analytics:"ALL_TRANSACTIONS_TAB"},{text:"My transactions",analytics:"MY_TRANSACTIONS_TAB"}],[i,o]=(0,u.useState)(0),[c,d]=(0,u.useState)({}),[p,x]=(0,u.useState)(),[f,v]=(0,u.useState)(),[g,b]=(0,m.pv)(),h=(0,u.useCallback)(()=>{0===i&&o(1),c[1]&&1!==c[1]&&d({1:1})},[i,c]);(0,u.useEffect)(()=>{var e;let t=1===i,l=0===i,o={offset:((null!==(e=c[i])&&void 0!==e?e:1)-1)*10,limit:10,address:t?r:void 0,fromToken:l?n:void 0,toToken:l?a:void 0,direction:f,orderBy:p},s=()=>{g(o),h()};return g(o),(0,ei.mJ)(ec.GZ.SUCCESSFULLY_SENT,s),()=>{(0,ei.nL)(ec.GZ.SUCCESSFULLY_SENT,s)}},[i,r,n,g,c,h,p,f,a]);let y=(0,u.useMemo)(()=>{var e,t,n,a;return 1!==i||r?{total:null!==(n=null==b?void 0:null===(e=b.data)||void 0===e?void 0:e.total)&&void 0!==n?n:0,items:null!==(a=null==b?void 0:null===(t=b.data)||void 0===t?void 0:t.result)&&void 0!==a?a:[]}:{total:0,items:[]}},[null==b?void 0:b.data,i,r]),S=y.items.map(e=>({id:e.id,fromAmount:(0,eo.Q)(e.fromAmount,e.fromTokenDecimals),fromToken:e.fromToken,fromTokenWithSpacer:e.fromTokenWithSpacer,fromTokenDecimals:e.fromTokenDecimals,toAmount:(0,eo.Q)(e.toAmount,e.toTokenDecimals),toToken:e.toToken,toTokenWithSpacer:e.toTokenWithSpacer,toTokenDecimals:e.toTokenDecimals,txId:e.txHash,timestamp:e.createdAt,status:e.status}));return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h2",{className:"text-title-2-700",children:"Recent Transactions"}),(0,s.jsx)(j.Z,{tabs:l.map(e=>e.text),onChange:e=>{let t=l[e];(0,N._)(N.C["CLICK_".concat(t.analytics)],{name:t.text,source:"Swap page transaction table",type:"Button tab"}),o(e)},activeTab:i,wrapperClassName:"mt-[16px]"}),(0,s.jsx)(eL.ZP,{wrapperClassName:"mt-[16pt]",isLoading:{initial:b.isLoading,updating:b.isFetching},columns:[{title:"Sent",key:"fromAmount",cell:e=>{let{fromAmount:t,fromTokenDecimals:r,fromTokenWithSpacer:n}=e;return"".concat((0,k.Z)({value:t,decimalScale:r,trimTrailingZeros:!0,thousandSeparator:!0})," ").concat(n)},sortable:!0},{title:"Receive",key:"toAmount",cell:e=>{let{toAmount:t,toTokenDecimals:r,toTokenWithSpacer:n}=e;return"".concat((0,k.Z)({value:t,decimalScale:r,trimTrailingZeros:!0,thousandSeparator:!0})," ").concat(n)},sortable:!0},{title:"Status",key:"status",cell:e=>{let{txId:t,status:r}=e;return(0,s.jsx)(eR,{txId:t,swapStatus:r})}},{title:"Time",key:"time",cell:eL.Gz,sortable:!0}],items:S,onSortClick:(e,t)=>{x(e),v(t)},currentTab:i,currentSort:{[p]:f},columnClassNameByKey:{fromAmount:"text-paragraph-4-400 font-normal break-words w-[200px]",toAmount:"text-paragraph-4-400 font-normal break-words w-[200px]",status:"text-caption-1-500",time:"text-caption-1-400 font-normal text-right [&_button]:justify-end"}}),!!y.total&&y.total>10&&(0,s.jsx)("div",{className:"flex flex-row justify-center md:justify-end mt-[21px]",children:(0,s.jsx)(P.Z,{current:null!==(t=c[i])&&void 0!==t?t:1,total:Math.ceil(y.total/10),setPage:e=>d(t=>({...t,[i]:e}))})})]})}function eM(){var e,t;let{address:r}=(0,p._Y)(),{fromToken:n,toToken:a,pairId:l}=em();return(0,s.jsx)(Z.Z,{children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-[24px] lg:gap-[32px]",children:[(0,s.jsxs)("div",{className:"w-full lg:w-[calc(50%-32px)]",children:[n&&a&&(0,s.jsx)(E,{tokenA:n,tokenB:a,titleUrl:"true"===eD.env.NEXT_PUBLIC_LIQUIDITY_POOLS_DISABLED?void 0:"/pool/".concat(l)}),(0,s.jsx)("div",{className:(0,c.Z)("hidden lg:block",n&&a&&"mt-[24px]"),children:(0,s.jsx)(eY,{address:null!==(e=r.ordinals)&&void 0!==e?e:void 0,fromToken:null==n?void 0:n.nameClean,toToken:null==a?void 0:a.nameClean})})]}),(0,s.jsx)("div",{className:"w-full lg:w-[50%]",children:(0,s.jsx)(eO,{})}),(0,s.jsx)("div",{className:"lg:hidden pt-[24px] w-full",children:(0,s.jsx)(eY,{address:null!==(t=r.ordinals)&&void 0!==t?t:void 0,fromToken:null==n?void 0:n.nameClean,toToken:null==a?void 0:a.nameClean})})]})})}function eB(){return(0,s.jsx)(ep,{children:(0,s.jsx)(eM,{})})}},72870:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(80599),a=r(60858),l=r(24998);function i(){let e=(0,a.useRef)(null),{setToken:t,isReady:r}=(0,l.Z)();return(0,a.useEffect)(()=>{let n,a=!1;return r&&!a&&e.current&&(n=window.turnstile.render(e.current,{sitekey:"0x4AAAAAAAcUxJDmf3GGmlQ8",theme:"dark",callback:e=>{t(e)}})),()=>{a=!0,n&&(t(void 0),window.turnstile.remove(n))}},[e,t,r]),(0,n.jsx)("span",{ref:e,className:"w-full flex items-center flex-row justify-center text-center"})}},40982:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(80599),a=r(60858),l=r(95707),i=r(61289),o=r(61440);function s(e){let{onClick:t,className:r,disabled:a,children:l}=e;return(0,n.jsx)("button",{type:"button",onClick:t,disabled:a,className:(0,i.Z)("flex size-[32px] items-center justify-center",a?"opacity-50":"button-active-hover-opacity",r),children:l})}function u(e){let{current:t,setPage:r,total:u}=e,c=(0,a.useRef)(null),[d,p]=(0,a.useState)(t.toString()),[m,x]=(0,a.useState)(!1),f=""===d||0>=Number(d)||Number(d)>u;return(0,a.useEffect)(()=>{p(t.toString())},[t,m]),(0,n.jsxs)("div",{className:"flex flex-row flex-wrap items-center text-paragraph-4-400 !text-[16px] text-dark-500",children:["Page",(0,n.jsx)(s,{onClick:()=>r(t-1),disabled:1===t,className:"ml-[10px]",children:(0,n.jsx)(l.DEl,{size:20})}),(0,n.jsx)("input",{ref:c,className:(0,i.Z)("inputfield max-w-[46px] border rounded-[6px] ml-[4px] mr-[10px]","text-light-00 text-caption-1-500 text-center py-[4px] px-[8px]",f?"border-status-error":"border-white-alpha-35","!text-[16px]"),value:d,onChange:e=>{p(e.target.value)},type:"number",placeholder:"1",onFocus:()=>{x(!0)},onBlur:()=>{x(!1)},onKeyPress:e=>{if("Enter"===e.key){!f&&(r(Number(d)),c.current&&c.current.blur());return}(0,o.qh)(e.currentTarget.value,e.key,!1)||e.preventDefault()}}),"of ",u,(0,n.jsx)(s,{onClick:()=>r(t+1),disabled:t===u,className:"ml-[4px]",children:(0,n.jsx)(l.MOd,{size:20})})]})}},66124:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(80599),a=r(61289);function l(e){let{children:t,buttonText:r,buttonIcon:l,onButtonClick:i}=e;return(0,n.jsxs)("div",{className:"flex flex-row items-center w-full gap-[16px]",children:[(0,n.jsx)("div",{className:"flex-1",children:t}),(0,n.jsxs)("button",{type:"button",className:(0,a.Z)("self-center rounded-[6px] border border-white-alpha-10 px-[12px] py-[8px] font-normal ml-auto","cursor-pointer hover:opacity-70 active:opacity-50 select-none","flex items-center gap-[10px]"),onClick:e=>{e.preventDefault(),i()},children:[r,l]})]})}},91224:function(e,t,r){"use strict";r.d(t,{Y:function(){return n}});let n=546},29385:function(e,t,r){"use strict";r.d(t,{GZ:function(){return s},QY:function(){return a},cO:function(){return c}});var n,a,l=r(40245),i=r(32204),o=r(91224);let s={SUCCESSFULLY_SENT:"swap-successfully-sent"};(n=a||(a={}))[n.SIGHASH_ALL=1]="SIGHASH_ALL",n[n.SIGHASH_ANYONECANPAY=128]="SIGHASH_ANYONECANPAY";let u=l.Z.max((0,l.Z)("10000"),o.Y),c=(0,i.Q)(u,8)},24998:function(e,t,r){"use strict";var n=r(60858),a=r(61351);t.Z=()=>{let e=(0,n.useContext)(a.E);if(null===e)throw Error("No parent <CloudflareProvider />");return e}},61351:function(e,t,r){"use strict";r.d(t,{E:function(){return l},Z:function(){return i}});var n=r(80599),a=r(60858);let l=(0,a.createContext)(null);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(void 0),[o,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>(window.onloadTurnstileCallback=()=>{s(!0)},()=>{s(!1)}),[]);let u=(0,a.useMemo)(()=>({isReady:o,token:r,setToken:i,isTurnstileValidationEnabled:!0}),[o,r,i]);return(0,n.jsx)(l.Provider,{value:u,children:t})}},23936:function(e,t,r){"use strict";r.d(t,{Dj:function(){return y},h:function(){return h},TL:function(){return j}});var n,a=r(50946),l=r(28518),i=r(86027),o=r(43410),s=r(81809),u=r(56);n||(n={});let c={data:{}};var d=(0,i.oM)({name:"settings",initialState:c,reducers:{reset:()=>c}}).reducer,p=r(34078);let m=(0,u.UY)({[o.ZP.reducerPath]:o.ZP.reducer,[s.Z.reducerPath]:s.Z.reducer,slippagePref:p.ZP,settings:d});var x=r(3092),f=r.n(x),v=r(32608);let g=f();f().config({storeName:"odinswap"}),v.env.JEST_WORKER_ID?(f().defineDriver({_driver:"noopLocalForageDriver",_support:!0,_initStorage(e){},clear:e=>Promise.resolve(),getItem:(e,t)=>Promise.resolve(null),iterate:(e,t)=>Promise.resolve(null),key:(e,t)=>Promise.resolve(""),keys:e=>Promise.resolve([""]),length:e=>Promise.resolve(0),removeItem:(e,t)=>Promise.resolve(),setItem:(e,t,r)=>Promise.resolve(t)}),f().setDriver("noopLocalForageDriver")):f().setDriver(f().INDEXEDDB);let b=(0,l.OJ)({key:"root",version:1,storage:g,whitelist:["slippagePref","settings"]},m),h=(0,i.xC)({reducer:b,middleware:e=>e({serializableCheck:{ignoredActions:[l._P,l.I2,l.E7,l.ex,l.e,l.Nz]}}).concat(o.ZP.middleware,s.Z.middleware)}),y=(0,l.p5)(h),j=a.I0},34078:function(e,t,r){"use strict";r.d(t,{A3:function(){return o},Bk:function(){return i},Hj:function(){return u},Ou:function(){return s}});var n=r(86027);let a={enabledAuto:!0,customSlippage:"",selectedSlippage:void 0,isCustomSlippageSelected:!1},l=(0,n.oM)({name:"slippagePref",initialState:a,reducers:{setAutoEnabled:(e,t)=>({...e,enabledAuto:t.payload}),setCustomSlippage:(e,t)=>({...e,customSlippage:t.payload,isCustomSlippageSelected:!0}),setSelectedSlippage:(e,t)=>({...e,selectedSlippage:t.payload,isCustomSlippageSelected:void 0===t.payload}),reset:()=>a}}),{setAutoEnabled:i,setCustomSlippage:o,setSelectedSlippage:s}=l.actions,u=e=>e.slippagePref;t.ZP=l.reducer},71849:function(e,t,r){"use strict";function n(e,t){document.addEventListener(e,t)}function a(e,t){document.removeEventListener(e,t)}function l(e,t){let r=new CustomEvent(e,{detail:t});document.dispatchEvent(r)}r.d(t,{hb:function(){return l},mJ:function(){return n},nL:function(){return a}})},18024:function(e,t,r){"use strict";r.d(t,{Pv:function(){return o},VA:function(){return i},dP:function(){return u},v9:function(){return c},zT:function(){return s}});var n=r(40245),a=r(32204),l=r(91224);let i=()=>100*Number("0.0005");function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();return e<t}function s(e,t,r){let l=(0,a.r)(e,t).multipliedBy(1-r/100);return(0,a.Q)(n.Z.maximum(l,0),t).toFixed()}function u(e,t,r){return 0===t?0:e/t*r}function c(e){return(0,a.r)(e,8).gt(l.Y)}}},function(e){e.O(0,[9150,5181,1661,1614,5494,5960,1090,8680,4105,1976,4141,8134,739,4838,897,8531,5855,5139,1108,783,9308,5999,5329,1744],function(){return e(e.s=47672)}),_N_E=e.O()}]);
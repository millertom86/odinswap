(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9308],{63618:function(){},13638:function(){},15325:function(){},22810:function(){},33099:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(80599),a=n(44522),r=n(61289),s=n(61440);function i(e){let{value:t,setValue:n,placeholder:i,disabled:o,inputStyle:c,formStyle:u,suffix:d,setIsFocused:x,maxDecimal:p,hideClearButton:m=!1,suffixStyle:f}=e;return(0,l.jsxs)("div",{className:(0,r.Z)("flex w-full items-center text-paragraph-1-600",u),children:[(0,l.jsx)("input",{className:(0,r.Z)("w-full inputfield",c),value:t,onChange:e=>{let t=e.target.value;(void 0===p||!t||(0,s.s8)(t,p)&&(0,s.oG)(t))&&n(t)},type:"number",disabled:o,placeholder:i,onFocus:()=>{x&&x(!0)},onBlur:()=>{x&&x(!1)},onKeyPress:e=>{(0,s.qh)(e.currentTarget.value,e.key,!0)||e.preventDefault()}}),""!==t&&!o&&!m&&(0,l.jsx)("button",{type:"button",className:"ml-[8px] button-active-hover-opacity","aria-label":"Clear",onClick:()=>{n("")},children:(0,l.jsx)(a.q5L,{size:16,className:"text-dark-1000"})}),d&&(0,l.jsx)("p",{className:(0,r.Z)("ml-[8px] select-none",f),children:d})]})}},43046:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(80599);n(60858);var a=n(61289);function r(e){let{customClassName:t,children:n}=e;return(0,l.jsx)("div",{className:(0,a.Z)("border border-light-00/[0.1] bg-dark-00/[0.7] p-[24px] rounded-[18px]","transform transition-all",t),children:n})}},46676:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(80599),a=n(61289),r=n(97933),s=n(43046);function i(e){let{children:t,isOpen:n,onClose:i,customPanelStyle:o,FooterComponent:c}=e;return(0,l.jsxs)(r.Vq,{as:"div",className:"relative z-30",open:n,onClose:null!=i?i:()=>{},children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-dark-00 bg-opacity-70 backdrop-blur-[8px]","aria-hidden":"true"}),(0,l.jsx)("div",{className:"flex flex-col fixed bottom-0 lg:inset-0 w-screen items-center justify-center",children:(0,l.jsxs)(r.EM,{children:[(0,l.jsxs)(s.Z,{customClassName:(0,a.Z)("w-screen lg:w-[640px] h-screen lg:h-[640px] max-h-[80vh] lg:max-h-none overflow-auto","px-[16px] md:px-[40px] lg:px-[24px]",o),children:[t,!!c&&(0,l.jsx)("div",{className:"lg:hidden mt-[48px] mb-[24px]",children:c})]}),!!c&&(0,l.jsx)("div",{className:"hidden lg:block mt-[24px]",children:c})]})})]})}},4406:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var l=n(80599),a=n(60858),r=n(44522),s=n(40245),i=n(61289),o=n(19175),c=n(56035),u=n(97933),d=n(43410),x=n(81809),p=n(45293),m=n(47194),f=n(32204),v=n(50045),h=n(46676),g=n(13041),b=n(84940),j=n(29164),N=n(71729);function y(e){let{searchInput:t,setSearchInput:n}=e,[s,o]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:(0,i.Z)("flex items-center bg-dark-00/[0.1] border","my-[24px] py-[8px] px-[16px] rounded-full",s?"border-light-00/[0.5]":"border-light-00/[0.1]"),children:[(0,l.jsx)(r.jRj,{size:16,className:"text-light-00"}),(0,l.jsx)("input",{"data-testid":"token-search-input",className:(0,i.Z)("w-full grow resize-none bg-transparent focus:outline-none pl-[8px]","text-light-00 placeholder-light-00/[0.35] caret-dark-1000 text-caption-1-400","!text-[16px]"),value:t,placeholder:"Search by name",onChange:e=>n(e.target.value),spellCheck:!1,onFocus:()=>{(0,m._)(m.C.FOCUS_RUNES_SEARCH,{name:"Focus search",source:"Rune selection modal",type:"Search inputbox"}),o(!0)},onBlur:()=>o(!1)}),""!==t&&(0,l.jsx)("button",{type:"button",className:"ml-[8px] active:opacity-70 rounded-full bg-white-alpha-10 p-[2px]","aria-label":"Clear",onClick:()=>{n("")},children:(0,l.jsx)(r.q5L,{size:12,className:"text-dark-1000"})})]})}function k(e){let{label:t}=e;return(0,l.jsx)("h4",{className:"text-dark-700 text-caption-1-400",children:t})}function S(e){var t;let{token:n}=e,a=null!==(t=null==n?void 0:n.symbol)&&void 0!==t?t:"\xa4";return(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(j.Z,{token:n}),(0,l.jsxs)("div",{className:"flex flex-col ml-[12px] items-start break-all text-left",children:[(0,l.jsx)("p",{className:"text-body-4-400 lg:text-body-4-500",children:n.name}),(0,l.jsx)("p",{className:"text-caption-1-400 text-dark-700 pt-[2px]",children:a})]})]})}function C(e){let{token:t,onClick:n,balance:a,usdPrice:r}=e;return(0,l.jsxs)("button",{className:"flex justify-between items-center button-active-hover-opacity px-[8px] gap-x-[8px]",onClick:n,type:"button",children:[(0,l.jsx)(S,{token:t}),void 0!==a&&a>0&&(0,l.jsxs)("div",{className:"flex flex-col items-end",children:[(0,l.jsx)(g.Z,{value:a,className:"text-paragraph-3-400 leading-[24px] lg:text-paragraph-3-600 lg:leading-[28px]",trimTrailingZeros:!0}),!!r&&(0,l.jsx)(g.Z,{value:a*r,className:"text-paragraph-5-400 lg:text-paragraph-4-400 text-dark-700 pt-[2px]",thousandSeparator:!0,trimTrailingZeros:!0,decimalScale:2,prefix:"$"})]})]})}function Z(e){let{onClose:t,onRuneSelected:n,excludeToken:i}=e,[g,j]=(0,a.useState)(""),[S]=(0,c.Nr)(g,500),{walletBalance:Z,refreshWalletBalance:w}=(0,p.Z)(),[E,_]=(0,d.bF)(),O=(0,x.Y)(),T=_.isLoading||_.isFetching,I=""!==g;(0,a.useEffect)(()=>{w()},[w]),(0,a.useEffect)(()=>{E({q:S,orderBy:o.k.POOL_NAME,direction:"asc"}),(0,m._)(m.C.ON_SEARCH_TYPE,{name:"Search runes",source:"Rune selection modal",type:"Search inputbox",input:S})},[E,S]);let F=(0,a.useMemo)(()=>{if(!(null==_?void 0:_.data))return[];let e=i?_.data.filter(e=>e.tokenAMetadata.id===i.id||e.tokenBMetadata.id===i.id):_.data,t=Array.from(new Set((0,v.QW)(e,null==i?void 0:i.id))),n=t.filter(e=>!Z[e.nameClean]||(0,s.Z)(Z[e.nameClean]).isZero()).sort((e,t)=>e.name.localeCompare(t.name)),l=[...t.filter(e=>Z[e.nameClean]&&(0,s.Z)(Z[e.nameClean]).gt(0)).sort((e,t)=>e.name.localeCompare(t.name)),...n];return 0===Object.keys(Z).length&&(l=t),(null==S?void 0:S.length)?l.filter(e=>{var t,n,l;return null!==(l=null===(t=e.symbol)||void 0===t?void 0:t.toLocaleLowerCase())&&void 0!==l?l:null==e?void 0:null===(n=e.nameClean)||void 0===n?void 0:n.toLowerCase().includes(S.toLowerCase())}):l},[_.data,i,S,Z]),B=(0,a.useMemo)(()=>{let e="BTC".split(",");return F.filter(t=>e.includes(t.nameClean))},[F]);return(0,l.jsx)(h.Z,{isOpen:!0,onClose:t,children:(0,l.jsxs)(u.EM,{className:"flex flex-col lg:px-[24px]",children:[(0,l.jsxs)(u.$N,{className:"flex items-center",as:"div",children:[(0,l.jsx)("button",{type:"button",onClick:t,className:"active:opacity-50","aria-label":"Back",children:(0,l.jsx)(r.YFh,{size:24})}),(0,l.jsx)("h3",{className:"flex flex-1 justify-center mobile-text-title-3-500 mr-[24px]",children:"Select runes"})]}),(0,l.jsx)(y,{searchInput:g,setSearchInput:j}),B.length>0&&(0,l.jsxs)("section",{className:"pb-[20px] border-b border-light-00/[0.1]",children:[(0,l.jsx)(k,{label:"Popular"}),(0,l.jsx)("div",{className:"flex flex-row flex-wrap pt-[8px] lg:pt-[16px] gap-[12px]",children:B.map(e=>(0,l.jsx)(N.Z,{token:e,onClick:()=>n(e)},e.name))})]}),(0,l.jsxs)("section",{className:"flex flex-1 flex-col pt-[20px]",children:[(0,l.jsx)(k,{label:I?"Search results":"All tokens"}),T?(0,l.jsxs)("div",{className:"flex flex-row items-center justify-center min-h-[100px]",children:[(0,l.jsx)(b.Z,{visible:!0}),I&&(0,l.jsx)("span",{className:"text-dark-700 text-caption-1-400 pl-[4px]",children:"Searching"})]}):(0,l.jsx)("div",{children:F.length>0?(0,l.jsx)("div",{className:"flex flex-col pt-[22px] lg:pt-[28px] pb-[32px] gap-y-[34px] lg:gap-y-[24px]",children:F.map(e=>{var t,a;return(0,l.jsx)(C,{token:e,onClick:()=>n(e),usdPrice:(0,v.NF)(e)?null===(a=O.data)||void 0===a?void 0:null===(t=a.USD)||void 0===t?void 0:t.value:void 0,balance:Z[e.nameClean]?(0,f.Q)(Z[e.nameClean],e.divisibility).toNumber():void 0},e.name)})}):(0,l.jsx)("span",{className:"flex flex-1 items-center justify-center text-dark-700 text-caption-1-400",children:"No results found"})})]})]})})}},71729:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var l=n(80599),a=n(61289),r=n(29164);function s(e){var t;let{token:n,onClick:s,customStyle:i,disabled:o=!1,showSymbol:c=!1}=e,u=null!==(t=null==n?void 0:n.symbol)&&void 0!==t?t:"\xa4";return(0,l.jsx)("button",{className:(0,a.Z)("flex items-center bg-dark-100 rounded-full pr-[16px] pl-[12px] py-[8px]","break-all text-left text-caption-1-500",!o&&s&&"button-active-hover-opacity",!s&&"cursor-default pointer-events-none",i),disabled:o,onClick:s,type:"button",children:(0,l.jsxs)("div",{className:"flex items-center gap-x-[6px] truncate",children:[(0,l.jsx)(r.Z,{token:n,size:16}),(0,l.jsx)("p",{className:"truncate",children:c?u:n.name})]})})}},29044:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(80599),a=n(44522),r=n(61289),s=n(29164);function i(e){var t,n;let{selectedToken:i,onClick:o,placeholderText:c="Select Rune",customStyle:u}=e;return(0,l.jsxs)("button",{className:(0,r.Z)("flex flex-row items-center bg-dark-100 rounded-full px-[16px] py-[12px] gap-x-[6px]","button-active-hover-opacity break-all text-left text-caption-1-400",u),onClick:o,type:"button",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-x-[4.5px] truncate",children:[i?(0,l.jsx)(s.Z,{token:i,size:16}):(0,l.jsx)("div",{className:"shrink-0 size-[16px] rounded-full bg-[#505050]"}),(0,l.jsx)("p",{className:"truncate",children:null!==(n=null!==(t=null==i?void 0:i.name)&&void 0!==t?t:null==i?void 0:i.nameClean)&&void 0!==n?n:c})]}),(0,l.jsx)(a.bTu,{size:18})]})}},19175:function(e,t,n){"use strict";var l,a;n.d(t,{R:function(){return r},k:function(){return l}});let r={SUCCESSFULLY_DEPOSITED:"lp-successfully-deposited",SUCCESSFULLY_WITHDREW:"lp-successfully-withdrew"};(a=l||(l={})).POOL_NAME="poolName",a.VOLUME_24H="volume24H",a.LIQUIDITY="liquidity",a.FEES_24H="fees24H",a.TOTAL_APR="totalApr"},55035:function(e,t,n){"use strict";var l=n(60858),a=n(13625);t.Z=()=>{let e=(0,l.useContext)(a.B);if(null===e)throw Error("No parent <SessionProvider />");return e.isValidSession}},45293:function(e,t,n){"use strict";var l=n(60858),a=n(64969);t.Z=()=>{let e=(0,l.useContext)(a.Z);if(null===e)throw Error("No parent <WalletBalanceProvider />");return e}},13625:function(e,t,n){"use strict";n.d(t,{B:function(){return d},Z:function(){return p}});var l=n(80599),a=n(60858),r=n(1976),s=n(93923),i=n(43410),o=n(22787);let c=e=>{let t,{signerAddress:n,jwt:l}=e;if(!l)return!1;try{t=(0,o.o)(null!=l?l:"")}catch(e){}return!!(null==t?void 0:t.exp)&&t.exp>Math.floor(Date.now()/1e3)&&(null==t?void 0:t.address)===n};var u=n(50334);let d=(0,a.createContext)(null),x=!1;function p(e){let{children:t}=e,{address:n,disconnectWallet:o}=(0,s._Y)(),{signMsg:p}=(0,s.QW)(),[m]=(0,i.lG)(),[f,v]=a.useState(!1);(0,a.useEffect)(()=>{(async()=>{let e,t;if(!(null==n?void 0:n.ordinals)||x)return;x=!0;let l=localStorage.getItem(u.F.SESSION_TOKEN);if(c({signerAddress:n.ordinals,jwt:l})){x=!1,v(!0);return}v(!1),l&&localStorage.removeItem(u.F.SESSION_TOKEN);let a=+new Date,s="To unlock all features of OdinSwap, please verify this message. Your use of OdinSwap indicates your agreement with our terms and conditions. This action does not initiate any blockchain transactions or incur any gas fees."+"\n\nDomain: ".concat("","odinswap.com")+"\n\nBlockchain: Bitcoin".concat("")+"\n\nAccount: ".concat(n.ordinals)+"\n\nTimestamp: ".concat(a);try{e=await p(n.ordinals,s)}catch(e){}if(!e){r.toast.error("Failed to connect. Please try again."),o(),x=!1;return}try{let{data:l}=await m({address:n.ordinals,signature:e,message:s,timestamp:a});t=null==l?void 0:l.token}catch(e){}if(!t){r.toast.error("Failed to connect. Please try again."),o(),x=!1;return}localStorage.setItem(u.F.SESSION_TOKEN,t),r.toast.success("Successfully signed in!"),x=!1,v(!0)})()},[null==n?void 0:n.ordinals,p,o,m]),(0,a.useEffect)(()=>{let e=()=>{if(!(null==n?void 0:n.ordinals)||x)return;let e=localStorage.getItem(u.F.SESSION_TOKEN);!e||c({signerAddress:n.ordinals,jwt:e})||(v(!1),localStorage.removeItem(u.F.SESSION_TOKEN),o())};e();let t=setInterval(e,6e4);return()=>{clearInterval(t)}},[null==n?void 0:n.ordinals,o]);let h=(0,a.useMemo)(()=>({isValidSession:f}),[f]);return(0,l.jsx)(d.Provider,{value:h,children:t})}},64969:function(e,t,n){"use strict";n.d(t,{C:function(){return c},Z:function(){return o}});var l=n(80599),a=n(60858),r=n(93923),s=n(43410),i=n(55035);let o=(0,a.createContext)(null);function c(e){let{children:t}=e,{address:n,wallet:c}=(0,r._Y)(),u=(0,i.Z)(),[d]=(0,s.Uw)(),{data:x}=(0,s._4)({address:null==n?void 0:n.ordinals},{skip:!(null==n?void 0:n.ordinals)||!u,pollingInterval:6e4}),{data:p}=(0,s._4)({address:null==n?void 0:n.payments},{skip:!(null==n?void 0:n.payments)||!u,pollingInterval:6e4}),m=(0,a.useCallback)(()=>{u&&((null==n?void 0:n.ordinals)&&d({address:n.ordinals}),(null==n?void 0:n.payments)&&d({address:n.payments}))},[null==n?void 0:n.ordinals,null==n?void 0:n.payments,d,u]),f=(0,a.useMemo)(()=>{var e;return{walletBalance:c?{...null!=x?x:{},BTC:null!==(e=null==p?void 0:p.BTC)&&void 0!==e?e:"0"}:{BTC:"0"},refreshWalletBalance:m}},[p,x,m,c]);return(0,l.jsx)(o.Provider,{value:f,children:t})}},81809:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var l=n(37017),a=n(45492);let r=async e=>{try{let{result:t}=await e.json();return t}catch(e){console.error(e)}return e},s=(0,l.LC)({reducerPath:"orditApi",baseQuery:(0,a.ni)({baseUrl:"https://mainnet.ordit.io"}),endpoints:e=>({getBtcFiatPrice:e.query({query:()=>({url:"/rpc",method:"POST",body:{jsonrpc:"2.0",method:"GetCurrency",id:"1"},responseHandler:r})})})}),{useGetBtcFiatPriceQuery:i}=s;t.Z=s},32204:function(e,t,n){"use strict";n.d(t,{Q:function(){return a},r:function(){return r}});var l=n(40245);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(0,l.Z)(e).dividedBy(10**t)}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(0,l.Z)(e).multipliedBy(10**t)}}}]);